/*!
 * FullCalendar v3.6.1
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(b9,bH){var D=b9.fullCalendar={version:"3.6.1",internalApiVersion:11};var an=D.views={};b9.fn.fullCalendar=function(cu){var ct=Array.prototype.slice.call(arguments,1);var cv=this;this.each(function(cy,cw){var cx=b9(cw);var cA=cx.data("fullCalendar");var cz;if(typeof cu==="string"){if(cu==="getCalendar"){if(!cy){cv=cA}}else{if(cu==="destroy"){if(cA){cA.destroy();cx.removeData("fullCalendar")}}else{if(!cA){D.warn("Attempting to call a FullCalendar method on an element with no calendar.")}else{if(b9.isFunction(cA[cu])){cz=cA[cu].apply(cA,ct);if(!cy){cv=cz}if(cu==="destroy"){cx.removeData("fullCalendar")}}else{D.warn("'"+cu+"' is an unknown FullCalendar method.")}}}}}else{if(!cA){cA=new A(cx,cu);cx.data("fullCalendar",cA);cA.render()}}});return cv};var ar=["header","footer","buttonText","buttonIcons","themeButtonIcons"];function bq(ct){return co(ct,ar)}D.applyAll=G;D.debounce=bO;D.isInt=cf;D.htmlEscape=be;D.cssToStr=T;D.proxy=a8;D.capitaliseFirstLetter=q;function aU(cu,ct){if(ct.left){cu.css({"border-left-width":1,"margin-left":ct.left-1})}if(ct.right){cu.css({"border-right-width":1,"margin-right":ct.right-1})}}function Q(ct){ct.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function ca(){b9("body").addClass("fc-not-allowed")}function aO(){b9("body").removeClass("fc-not-allowed")}function ao(cy,cx,cu){var cv=Math.floor(cx/cy.length);var ct=Math.floor(cx-cv*(cy.length-1));var cz=[];var cA=[];var cw=[];var cB=0;l(cy);cy.each(function(cD,cE){var cF=cD===cy.length-1?ct:cv;var cC=b9(cE).outerHeight(true);if(cC<cF){cz.push(cE);cA.push(cC);cw.push(b9(cE).height())}else{cB+=cC}});if(cu){cx-=cB;cv=Math.floor(cx/cz.length);ct=Math.floor(cx-cv*(cz.length-1))}b9(cz).each(function(cE,cF){var cH=cE===cz.length-1?ct:cv;var cD=cA[cE];var cG=cw[cE];var cC=cH-(cD-cG);if(cD<cH){b9(cF).height(cC)}})}function l(ct){ct.height("")}function af(ct){var cu=0;ct.find("> *").each(function(cw,cx){var cv=b9(cx).outerWidth();if(cv>cu){cu=cv}});cu++;ct.width(cu);return cu}function s(ct,cw){var cu=ct.add(cw);var cv;cu.css({position:"relative",left:-1});cv=ct.outerHeight()-cw.outerHeight();cu.css({position:"",left:""});return cv}D.getOuterRect=aJ;D.getClientRect=K;D.getContentRect=az;D.getScrollbarWidths=a;function b3(cu){var ct=cu.css("position"),cv=cu.parents().filter(function(){var cw=b9(this);return(/(auto|scroll)/).test(cw.css("overflow")+cw.css("overflow-y")+cw.css("overflow-x"))}).eq(0);return ct==="fixed"||!cv.length?b9(cu[0].ownerDocument||document):cv}function aJ(cu,ct){var cx=cu.offset();var cw=cx.left-(ct?ct.left:0);var cv=cx.top-(ct?ct.top:0);return{left:cw,right:cw+cu.outerWidth(),top:cv,bottom:cv+cu.outerHeight()}}function K(cv,ct){var cy=cv.offset();var cu=a(cv);var cx=cy.left+cj(cv,"border-left-width")+cu.left-(ct?ct.left:0);var cw=cy.top+cj(cv,"border-top-width")+cu.top-(ct?ct.top:0);return{left:cx,right:cx+cv[0].clientWidth,top:cw,bottom:cw+cv[0].clientHeight}}function az(cu,ct){var cx=cu.offset();var cw=cx.left+cj(cu,"border-left-width")+cj(cu,"padding-left")-(ct?ct.left:0);var cv=cx.top+cj(cu,"border-top-width")+cj(cu,"padding-top")-(ct?ct.top:0);return{left:cw,right:cw+cu.width(),top:cv,bottom:cv+cu.height()}}function a(cu){var cw=cu[0].offsetWidth-cu[0].clientWidth;var ct=cu[0].offsetHeight-cu[0].clientHeight;var cv;cw=w(cw);ct=w(ct);cv={left:0,right:0,top:0,bottom:ct};if(b2()&&cu.css("direction")=="rtl"){cv.left=cw}else{cv.right=cw}return cv}function w(ct){ct=Math.max(0,ct);ct=Math.round(ct);return ct}var O=null;function b2(){if(O===null){O=a0()}return O}function a0(){var cu=b9("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var cv=cu.children();var ct=cv.offset().left>cu.offset().left;cu.remove();return ct}function cj(ct,cu){return parseFloat(ct.css(cu))||0}D.preventDefault=ch;function cm(ct){return ct.which==1&&!ct.ctrlKey}function aa(ct){var cu=ct.originalEvent.touches;if(cu&&cu.length){return cu[0].pageX}return ct.pageX}function Z(ct){var cu=ct.originalEvent.touches;if(cu&&cu.length){return cu[0].pageY}return ct.pageY}function bn(ct){return/^touch/.test(ct.type)}function J(ct){ct.addClass("fc-unselectable").on("selectstart",ch)}function ah(ct){ct.removeClass("fc-unselectable").off("selectstart",ch)}function ch(ct){ct.preventDefault()}D.intersectRects=d;function d(cu,ct){var cv={left:Math.max(cu.left,ct.left),right:Math.min(cu.right,ct.right),top:Math.max(cu.top,ct.top),bottom:Math.min(cu.bottom,ct.bottom)};if(cv.left<cv.right&&cv.top<cv.bottom){return cv}return false}function ba(ct,cu){return{left:Math.min(Math.max(ct.left,cu.left),cu.right),top:Math.min(Math.max(ct.top,cu.top),cu.bottom)}}function bu(ct){return{left:(ct.left+ct.right)/2,top:(ct.top+ct.bottom)/2}}function b8(cu,ct){return{left:cu.left-ct.left,top:cu.top-ct.top}}D.parseFieldSpecs=a6;D.compareByFieldSpecs=bQ;D.compareByFieldSpec=H;D.flexibleCompare=U;function a6(ct){var cx=[];var cw=[];var cv,cu;if(typeof ct==="string"){cw=ct.split(/\s*,\s*/)}else{if(typeof ct==="function"){cw=[ct]}else{if(b9.isArray(ct)){cw=ct}}}for(cv=0;cv<cw.length;cv++){cu=cw[cv];if(typeof cu==="string"){cx.push(cu.charAt(0)=="-"?{field:cu.substring(1),order:-1}:{field:cu,order:1})}else{if(typeof cu==="function"){cx.push({func:cu})}}}return cx}function bQ(cw,cv,cx){var ct;var cu;for(ct=0;ct<cx.length;ct++){cu=H(cw,cv,cx[ct]);if(cu){return cu}}return 0}function H(cv,ct,cu){if(cu.func){return cu.func(cv,ct)}return U(cv[cu.field],ct[cu.field])*(cu.order||1)}function U(cu,ct){if(!cu&&!ct){return 0}if(ct==null){return -1}if(cu==null){return 1}if(b9.type(cu)==="string"||b9.type(ct)==="string"){return String(cu).localeCompare(String(ct))}return cu-ct}D.computeGreatestUnit=a2;D.divideRangeByDuration=o;D.divideDurationByDuration=L;D.multiplyDuration=aR;D.durationHasTime=at;var bk=["sun","mon","tue","wed","thu","fri","sat"];var k=["year","month","week","day","hour","minute","second","millisecond"];function g(cu,ct){return bH.duration({days:cu.clone().stripTime().diff(ct.clone().stripTime(),"days"),ms:cu.time()-ct.time()})}function av(cu,ct){return bH.duration({days:cu.clone().stripTime().diff(ct.clone().stripTime(),"days")})}function e(cu,ct,cv){return bH.duration(Math.round(cu.diff(ct,cv,true)),cv)}function a2(cx,ct){var cu,cv;var cw;for(cu=0;cu<k.length;cu++){cv=k[cu];cw=aV(cv,cx,ct);if(cw>=1&&cf(cw)){break}}return cv}function f(cv,ct){var cu=a2(cv);if(cu==="week"&&typeof ct==="object"&&ct.days){cu="day"}return cu}function aV(cu,cv,ct){if(ct!=null){return ct.diff(cv,cu,true)}else{if(bH.isDuration(cv)){return cv.as(cu)}else{return cv.end.diff(cv.start,cu,true)}}}function o(cw,cu,cv){var ct;if(at(cv)){return(cu-cw)/cv}ct=cv.asMonths();if(Math.abs(ct)>=1&&cf(ct)){return cu.diff(cw,"months",true)/ct}return cu.diff(cw,"days",true)/cv.asDays()}function L(cv,cu){var ct,cw;if(at(cv)||at(cu)){return cv/cu}ct=cv.asMonths();cw=cu.asMonths();if(Math.abs(ct)>=1&&cf(ct)&&Math.abs(cw)>=1&&cf(cw)){return ct/cw}return cv.asDays()/cu.asDays()}function aR(cu,cv){var ct;if(at(cu)){return bH.duration(cu*cv)}ct=cu.asMonths();if(Math.abs(ct)>=1&&cf(ct)){return bH.duration({months:ct*cv})}return bH.duration({days:cu.asDays()*cv})}function at(ct){return Boolean(ct.hours()||ct.minutes()||ct.seconds()||ct.milliseconds())}function j(ct){return Object.prototype.toString.call(ct)==="[object Date]"||ct instanceof Date}function au(ct){return typeof ct==="string"&&/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(ct)}D.log=function(){var ct=window.console;if(ct&&ct.log){return ct.log.apply(ct,arguments)}};D.warn=function(){var ct=window.console;if(ct&&ct.warn){return ct.warn.apply(ct,arguments)}else{return D.log.apply(D,arguments)}};var bi={}.hasOwnProperty;function co(cB,cx){var cA={};var cw,ct;var cz;var cv,cu;var cy;if(cx){for(cw=0;cw<cx.length;cw++){ct=cx[cw];cz=[];for(cv=cB.length-1;cv>=0;cv--){cu=cB[cv][ct];if(typeof cu==="object"){cz.unshift(cu)}else{if(cu!==undefined){cA[ct]=cu;break}}}if(cz.length){cA[ct]=co(cz)}}}for(cw=cB.length-1;cw>=0;cw--){cy=cB[cw];for(ct in cy){if(!(ct in cA)){cA[ct]=cy[ct]}}}return cA}function z(cv,cu){for(var ct in cv){if(ax(cv,ct)){cu[ct]=cv[ct]}}}function ax(cu,ct){return bi.call(cu,ct)}function G(cw,cx,cu){if(b9.isFunction(cw)){cw=[cw]}if(cw){var cv;var ct;for(cv=0;cv<cw.length;cv++){ct=cw[cv].apply(cx,cu)||ct}return ct}}function m(cw,ct){var cv=0;var cu=0;while(cu<cw.length){if(ct(cw[cu])){cw.splice(cu,1);cv++}else{cu++}}return cv}function cn(cw,cv){var cu=0;var ct=0;while(ct<cw.length){if(cw[ct]===cv){cw.splice(ct,1);cu++}else{ct++}}return cu}D.removeExact=cn;function aG(cv,cu){var ct=cv.length;var cw;if(ct==null||ct!==cu.length){return false}for(cw=0;cw<ct;cw++){if(cv[cw]!==cu[cw]){return false}}return true}function aj(){for(var ct=0;ct<arguments.length;ct++){if(arguments[ct]!==undefined){return arguments[ct]}}}function be(ct){return(ct+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function bc(ct){return ct.replace(/&.*?;/g,"")}function T(cu){var ct=[];b9.each(cu,function(cv,cw){if(cw!=null){ct.push(cv+":"+cw)}});return ct.join(";")}function bJ(ct){var cu=[];b9.each(ct,function(cv,cw){if(cw!=null){cu.push(cv+'="'+be(cw)+'"')}});return cu.join(" ")}function q(ct){return ct.charAt(0).toUpperCase()+ct.slice(1)}function am(cu,ct){return cu-ct}function cf(ct){return ct%1===0}function a8(cu,ct){var cv=cu[ct];return function(){return cv.apply(cu,arguments)}}function bO(cv,cx,cu){var cA,cz,ct,cy,cB;var cw=function(){var cC=+new Date()-cy;if(cC<cx){cA=setTimeout(cw,cx-cC)}else{cA=null;if(!cu){cB=cv.apply(ct,cz);ct=cz=null}}};return function(){ct=this;cz=arguments;cy=+new Date();var cC=cu&&!cA;if(!cA){cA=setTimeout(cw,cx)}if(cC){cB=cv.apply(ct,cz);ct=cz=null}return cB}}var cr=/^\s*\d{4}-\d\d$/;var aZ=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var aN=bH.fn;var a4=b9.extend({},aN);var V=bH.momentProperties;V.push("_fullCalendar");V.push("_ambigTime");V.push("_ambigZone");D.moment=function(){return bV(arguments)};D.moment.utc=function(){var ct=bV(arguments,true);if(ct.hasTime()){ct.utc()}return ct};D.moment.parseZone=function(){return bV(arguments,true,true)};function bV(cz,cy,cx){var cB=cz[0];var cw=cz.length==1&&typeof cB==="string";var cv;var cA;var ct;var cu;if(bH.isMoment(cB)||j(cB)||cB===undefined){cu=bH.apply(null,cz)}else{cv=false;cA=false;if(cw){if(cr.test(cB)){cB+="-01";cz=[cB];cv=true;cA=true}else{if((ct=aZ.exec(cB))){cv=!ct[5];cA=true}}}else{if(b9.isArray(cB)){cA=true}}if(cy||cv){cu=bH.utc.apply(bH,cz)}else{cu=bH.apply(null,cz)}if(cv){cu._ambigTime=true;cu._ambigZone=true}else{if(cx){if(cA){cu._ambigZone=true}else{if(cw){cu.utcOffset(cB)}}}}}cu._fullCalendar=true;return cu}aN.week=aN.weeks=function(cu){var ct=this._locale._fullCalendar_weekCalc;if(cu==null&&typeof ct==="function"){return ct(this)}else{if(ct==="ISO"){return a4.isoWeek.apply(this,arguments)}}return a4.week.apply(this,arguments)};aN.time=function(cu){if(!this._fullCalendar){return a4.time.apply(this,arguments)}if(cu==null){return bH.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!bH.isDuration(cu)&&!bH.isMoment(cu)){cu=bH.duration(cu)}var ct=0;if(bH.isDuration(cu)){ct=Math.floor(cu.asDays())*24}return this.hours(ct+cu.hours()).minutes(cu.minutes()).seconds(cu.seconds()).milliseconds(cu.milliseconds())}};aN.stripTime=function(){if(!this._ambigTime){this.utc(true);this.set({hours:0,minutes:0,seconds:0,ms:0});this._ambigTime=true;this._ambigZone=true}return this};aN.hasTime=function(){return !this._ambigTime};aN.stripZone=function(){var ct;if(!this._ambigZone){ct=this._ambigTime;this.utc(true);this._ambigTime=ct||false;this._ambigZone=true}return this};aN.hasZone=function(){return !this._ambigZone};aN.local=function(ct){a4.local.call(this,this._ambigZone||ct);this._ambigTime=false;this._ambigZone=false;return this};aN.utc=function(ct){a4.utc.call(this,ct);this._ambigTime=false;this._ambigZone=false;return this};aN.utcOffset=function(ct){if(ct!=null){this._ambigTime=false;this._ambigZone=false}return a4.utcOffset.apply(this,arguments)};aN.format=function(){if(this._fullCalendar&&arguments[0]){return n(this,arguments[0])}if(this._ambigTime){return ay(p(this),"YYYY-MM-DD")}if(this._ambigZone){return ay(p(this),"YYYY-MM-DD[T]HH:mm:ss")}if(this._fullCalendar){return ay(p(this))}return a4.format.apply(this,arguments)};aN.toISOString=function(){if(this._ambigTime){return ay(p(this),"YYYY-MM-DD")}if(this._ambigZone){return ay(p(this),"YYYY-MM-DD[T]HH:mm:ss")}if(this._fullCalendar){return a4.toISOString.apply(p(this),arguments)}return a4.toISOString.apply(this,arguments)};function p(ct){if(ct.locale()!=="en"){return ct.clone().locale("en")}return ct}(function(){D.formatDate=cC;D.formatRange=cw;D.oldMomentFormat=cB;D.queryMostGranularFormatUnit=cA;var cM="\u000b";var cD="\u001f";var cE="\u001e";var cy=new RegExp(cE+"([^"+cE+"]*)"+cE,"g");var cv={t:function(cO){return cB(cO,"a").charAt(0)},T:function(cO){return cB(cO,"A").charAt(0)}};var cJ={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};function cC(cP,cO){return cG(cK(cO).fakeFormatString,cP)}function cB(cP,cO){return a4.format.call(cP,cO)}function cw(cT,cR,cO,cS,cP){var cQ;cT=D.moment.parseZone(cT);cR=D.moment.parseZone(cR);cQ=cT.localeData();cO=cQ.longDateFormat(cO)||cO;return cz(cK(cO),cT,cR,cS||" - ",cP)}function cz(cQ,c2,c1,cS,cV){var cY=cQ.sameUnits;var cZ=c2.clone().stripZone();var cX=c1.clone().stripZone();var cU=ct(cQ.fakeFormatString,c2);var cT=ct(cQ.fakeFormatString,c1);var cO;var cP="";var c0;var cR="";var cW;var c5="";var c4="";var c3="";for(cO=0;cO<cY.length&&(!cY[cO]||cZ.isSame(cX,cY[cO]));cO++){cP+=cU[cO]}for(c0=cY.length-1;c0>cO&&(!cY[c0]||cZ.isSame(cX,cY[c0]));c0--){if(c0-1===cO&&cU[c0]==="."){break}cR=cU[c0]+cR}for(cW=cO;cW<=c0;cW++){c5+=cU[cW];c4+=cT[cW]}if(c5||c4){if(cV){c3=c4+cS+c5}else{c3=c5+cS+c4}}return cx(cP+c3+cR)}var cu={};function cK(cO){return cu[cO]||(cu[cO]=cN(cO))}function cN(cO){var cP=cH(cO);return{fakeFormatString:cF(cP),sameUnits:cI(cP)}}function cH(cP){var cR=[];var cQ;var cO=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;while((cQ=cO.exec(cP))){if(cQ[1]){cR.push.apply(cR,cL(cQ[1]))}else{if(cQ[2]){cR.push({maybe:cH(cQ[2])})}else{if(cQ[3]){cR.push({token:cQ[3]})}else{if(cQ[5]){cR.push.apply(cR,cL(cQ[5]))}}}}}return cR}function cL(cO){if(cO===". "){return["."," "]}else{return[cO]}}function cF(cR){var cQ=[];var cP,cO;for(cP=0;cP<cR.length;cP++){cO=cR[cP];if(typeof cO==="string"){cQ.push("["+cO+"]")}else{if(cO.token){if(cO.token in cv){cQ.push(cD+"["+cO.token+"]")}else{cQ.push(cO.token)}}else{if(cO.maybe){cQ.push(cE+cF(cO.maybe)+cE)}}}}return cQ.join(cM)}function cI(cS){var cP=[];var cR,cQ;var cO;for(cR=0;cR<cS.length;cR++){cQ=cS[cR];if(cQ.token){cO=cJ[cQ.token.charAt(0)];cP.push(cO?cO.unit:"second")}else{if(cQ.maybe){cP.push.apply(cP,cI(cQ.maybe))}else{cP.push(null)}}}return cP}function cG(cP,cO){return cx(ct(cP,cO).join(""))}function ct(cU,cR){var cT=[];var cQ=cB(cR,cU);var cP=cQ.split(cM);var cS,cO;for(cS=0;cS<cP.length;cS++){cO=cP[cS];if(cO.charAt(0)===cD){cT.push(cv[cO.substring(1)](cR))}else{cT.push(cO)}}return cT}function cx(cO){return cO.replace(cy,function(cQ,cP){if(cP.match(/[1-9]/)){return cP}else{return""}})}function cA(cO){var cT=cH(cO);var cQ,cP;var cR;var cS;for(cQ=0;cQ<cT.length;cQ++){cP=cT[cQ];if(cP.token){cR=cJ[cP.token.charAt(0)];if(cR){if(!cS||cR.value>cS.value){cS=cR}}}}if(cS){return cS.unit}return null}})();var n=D.formatDate;var b0=D.formatRange;var ay=D.oldMomentFormat;D.Class=aW;function aW(){}aW.extend=function(){var ct={};var cu;for(cu=0;cu<arguments.length;cu++){z(arguments[cu],ct)}return bw(this,ct)};aW.mixin=function(ct){z(ct,this.prototype)};function bw(cu,ct){var cv;if(ax(ct,"constructor")){cv=ct.constructor}if(typeof cv!=="function"){cv=ct.constructor=function(){cu.apply(this,arguments)}}cv.prototype=Object.create(cu.prototype);z(ct,cv.prototype);z(cu,cv);return cv}var B=D.EmitterMixin={on:function(ct,cu){b9(this).on(ct,this._prepareIntercept(cu));return this},one:function(ct,cu){b9(this).one(ct,this._prepareIntercept(cu));return this},_prepareIntercept:function(ct){var cu=function(cw,cv){return ct.apply(cv.context||this,cv.args||[])};if(!ct.guid){ct.guid=b9.guid++}cu.guid=ct.guid;return cu},off:function(ct,cu){b9(this).off(ct,cu);return this},trigger:function(cu){var ct=Array.prototype.slice.call(arguments,1);b9(this).triggerHandler(cu,{args:ct});return this},triggerWith:function(cv,cu,ct){b9(this).triggerHandler(cv,{context:cu,args:ct});return this},hasHandlers:function(ct){var cu=b9._data(this,"events");return cu&&cu[ct]&&cu[ct].length>0}};var aH=D.ListenerMixin=(function(){var ct=0;var cu={listenerId:null,listenTo:function(cw,cv,cy){if(typeof cv==="object"){for(var cx in cv){if(cv.hasOwnProperty(cx)){this.listenTo(cw,cx,cv[cx])}}}else{if(typeof cv==="string"){cw.on(cv+"."+this.getListenerNamespace(),b9.proxy(cy,this))}}},stopListeningTo:function(cv,cw){cv.off((cw||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=ct++}return"_listener"+this.listenerId}};return cu})();var aI={standardPropMap:{},applyProps:function(cu){var cx=this.standardPropMap;var cv={};var ct={};var cw;for(cw in cu){if(cx[cw]===true){this[cw]=cu[cw]}else{if(cx[cw]===false){cv[cw]=cu[cw]}else{ct[cw]=cu[cw]}}}this.applyMiscProps(ct);return this.applyManualStandardProps(cv)},applyManualStandardProps:function(ct){return true},applyMiscProps:function(ct){},isStandardProp:function(ct){return ct in this.standardPropMap}};var by=function(ct){var cu=this.prototype;if(!cu.hasOwnProperty("standardPropMap")){cu.standardPropMap=Object.create(cu.standardPropMap)}z(ct,cu.standardPropMap)};var aM=function(cw,ct){var cv=this.prototype.standardPropMap;var cu;for(cu in cv){if(cw[cu]!=null&&cv[cu]===true){ct[cu]=cw[cu]}}};var ck=aW.extend(B,aH,{_props:null,_watchers:null,_globalWatchArgs:{},constructor:function(){this._watchers={};this._props={};this.applyGlobalWatchers();this.constructed()},constructed:function(){},applyGlobalWatchers:function(){var cu=this._globalWatchArgs;var ct;for(ct in cu){this.watch.apply(this,cu[ct])}},has:function(ct){return ct in this._props},get:function(ct){if(ct===undefined){return this._props}return this._props[ct]},set:function(ct,cv){var cu;if(typeof ct==="string"){cu={};cu[ct]=cv===undefined?null:cv}else{cu=ct}this.setProps(cu)},reset:function(cv){var ct=this._props;var cw={};var cu;for(cu in ct){cw[cu]=undefined}for(cu in cv){cw[cu]=cv[cu]}this.setProps(cw)},unset:function(ct){var cv={};var cw;var cu;if(typeof ct==="string"){cw=[ct]}else{cw=ct}for(cu=0;cu<cw.length;cu++){cv[cw[cu]]=undefined}this.setProps(cv)},setProps:function(cw){var cu={};var cv=0;var ct,cx;for(ct in cw){cx=cw[ct];if(typeof cx==="object"||cx!==this._props[ct]){cu[ct]=cx;cv++}}if(cv){this.trigger("before:batchChange",cu);for(ct in cu){cx=cu[ct];this.trigger("before:change",ct,cx);this.trigger("before:change:"+ct,cx)}for(ct in cu){cx=cu[ct];if(cx===undefined){delete this._props[ct]}else{this._props[ct]=cx}this.trigger("change:"+ct,cx);this.trigger("change",ct,cx)}this.trigger("batchChange",cu)}},watch:function(cw,ct,cv,cu){var cx=this;this.unwatch(cw);this._watchers[cw]=this._watchDeps(ct,function(cz){var cy=cv.call(cx,cz);if(cy&&cy.then){cx.unset(cw);cy.then(function(cA){cx.set(cw,cA)})}else{cx.set(cw,cy)}},function(cy){cx.unset(cw);if(cu){cu.call(cx,cy)}})},unwatch:function(cu){var ct=this._watchers[cu];if(ct){delete this._watchers[cu];ct.teardown()}},_watchDeps:function(cz,cw,ct){var cA=this;var cv=0;var cF=cz.length;var cy=0;var cD={};var cE=[];var cC=false;function cx(cH,cI,cG){cv++;if(cv===1){if(cy===cF){cC=true;ct(cD);cC=false}}}function cu(cH,cI,cG){if(cI===undefined){if(!cG&&cD[cH]!==undefined){cy--}delete cD[cH]}else{if(!cG&&cD[cH]===undefined){cy++}cD[cH]=cI}cv--;if(!cv){if(cy===cF){if(!cC){cw(cD)}}}}function cB(cG,cH){cA.on(cG,cH);cE.push([cG,cH])}cz.forEach(function(cH){var cG=false;if(cH.charAt(0)==="?"){cH=cH.substring(1);cG=true}cB("before:change:"+cH,function(cI){cx(cH,cI,cG)});cB("change:"+cH,function(cI){cu(cH,cI,cG)})});cz.forEach(function(cH){var cG=false;if(cH.charAt(0)==="?"){cH=cH.substring(1);cG=true}if(cA.has(cH)){cD[cH]=cA.get(cH);cy++}else{if(cG){cy++}}});if(cy===cF){cw(cD)}return{teardown:function(){for(var cG=0;cG<cE.length;cG++){cA.off(cE[cG][0],cE[cG][1])}cE=null;if(cy===cF){ct()}},flash:function(){if(cy===cF){ct();cw(cD)}}}},flash:function(cu){var ct=this._watchers[cu];if(ct){ct.flash()}}});ck.watch=function(ct){if(!this.prototype.hasOwnProperty("_globalWatchArgs")){this.prototype._globalWatchArgs=Object.create(this.prototype._globalWatchArgs)}this.prototype._globalWatchArgs[ct]=arguments};D.Model=ck;var b5={construct:function(cv){var ct=b9.Deferred();var cu=ct.promise();if(typeof cv==="function"){cv(function(cw){ct.resolve(cw);cl(cu,cw)},function(){ct.reject();bI(cu)})}return cu},resolve:function(cv){var ct=b9.Deferred().resolve(cv);var cu=ct.promise();cl(cu,cv);return cu},reject:function(){var ct=b9.Deferred().reject();var cu=ct.promise();bI(cu);return cu}};function cl(cu,ct){cu.then=function(cv){if(typeof cv==="function"){return b5.resolve(cv(ct))}return cu}}function bI(ct){ct.then=function(cu,cv){if(typeof cv==="function"){cv()}return ct}}D.Promise=b5;var bZ=aW.extend(B,{q:null,isPaused:false,isRunning:false,constructor:function(){this.q=[]},queue:function(){this.q.push.apply(this.q,arguments);this.tryStart()},pause:function(){this.isPaused=true},resume:function(){this.isPaused=false;this.tryStart()},getIsIdle:function(){return !this.isRunning&&!this.isPaused},tryStart:function(){if(!this.isRunning&&this.canRunNext()){this.isRunning=true;this.trigger("start");this.runRemaining()}},canRunNext:function(){return !this.isPaused&&this.q.length},runRemaining:function(){var cv=this;var ct;var cu;do{ct=this.q.shift();cu=this.runTask(ct);if(cu&&cu.then){cu.then(function(){if(cv.canRunNext()){cv.runRemaining()}});return}}while(this.canRunNext());this.trigger("stop");this.isRunning=false;this.tryStart()},runTask:function(ct){return ct()}});D.TaskQueue=bZ;var br=bZ.extend({waitsByNamespace:null,waitNamespace:null,waitId:null,constructor:function(ct){bZ.call(this);this.waitsByNamespace=ct||{}},queue:function(cu,cw,cv){var ct={func:cu,namespace:cw,type:cv};var cx;if(cw){cx=this.waitsByNamespace[cw]}if(this.waitNamespace){if(cw===this.waitNamespace&&cx!=null){this.delayWait(cx)}else{this.clearWait();this.tryStart()}}if(this.compoundTask(ct)){if(!this.waitNamespace&&cx!=null){this.startWait(cw,cx)}else{this.tryStart()}}},startWait:function(ct,cu){this.waitNamespace=ct;this.spawnWait(cu)},delayWait:function(ct){clearTimeout(this.waitId);this.spawnWait(ct)},spawnWait:function(cu){var ct=this;this.waitId=setTimeout(function(){ct.waitNamespace=null;ct.tryStart()},cu)},clearWait:function(){if(this.waitNamespace){clearTimeout(this.waitId);this.waitId=null;this.waitNamespace=null}},canRunNext:function(){if(!bZ.prototype.canRunNext.apply(this,arguments)){return false}if(this.waitNamespace){for(var cu=this.q,ct=0;ct<cu.length;ct++){if(cu[ct].namespace!==this.waitNamespace){return true}}return false}return true},runTask:function(ct){ct.func()},compoundTask:function(ct){var cx=this.q;var cw=true;var cv,cu;if(ct.namespace&&ct.type==="destroy"){for(cv=cx.length-1;cv>=0;cv--){cu=cx[cv];switch(cu.type){case"init":cw=false;case"add":case"remove":cx.splice(cv,1)}}}if(cw){cx.push(ct)}return cw}});D.RenderQueue=br;var bx=aW.extend(aH,{isHidden:true,options:null,el:null,margin:10,constructor:function(ct){this.options=ct||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var cu=this;var ct=this.options;this.el=b9('<div class="fc-popover"/>').addClass(ct.className||"").css({top:0,left:0}).append(ct.content).appendTo(ct.parentEl);this.el.on("click",".fc-close",function(){cu.hide()});if(ct.autoHide){this.listenTo(b9(document),"mousedown",this.documentMousedown)}},documentMousedown:function(ct){if(this.el&&!b9(ct.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(b9(document),"mousedown")},position:function(){var cD=this.options;var cz=this.el.offsetParent().offset();var ct=this.el.outerWidth();var cB=this.el.outerHeight();var cA=b9(window);var cy=b3(this.el);var cu;var cw;var cC;var cx;var cv;cx=cD.top||0;if(cD.left!==undefined){cv=cD.left}else{if(cD.right!==undefined){cv=cD.right-ct}else{cv=0}}if(cy.is(window)||cy.is(document)){cy=cA;cu=0;cw=0}else{cC=cy.offset();cu=cC.top;cw=cC.left}cu+=cA.scrollTop();cw+=cA.scrollLeft();if(cD.viewportConstrain!==false){cx=Math.min(cx,cu+cy.outerHeight()-cB-this.margin);cx=Math.max(cx,cu+this.margin);cv=Math.min(cv,cw+cy.outerWidth()-ct-this.margin);cv=Math.max(cv,cw+this.margin)}this.el.css({top:cx-cz.top,left:cv-cz.left})},trigger:function(ct){if(this.options[ct]){this.options[ct].apply(this,Array.prototype.slice.call(arguments,1))}}});var aB=D.CoordCache=aW.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(ct){this.els=b9(ct.els);this.isHorizontal=ct.isHorizontal;this.isVertical=ct.isVertical;this.forcedOffsetParentEl=ct.offsetParent?b9(ct.offsetParent):null},build:function(){var ct=this.forcedOffsetParentEl;if(!ct&&this.els.length>0){ct=this.els.eq(0).offsetParent()}this.origin=ct?ct.offset():null;this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},buildElHorizontals:function(){var cu=[];var ct=[];this.els.each(function(cv,cy){var cx=b9(cy);var cz=cx.offset().left;var cw=cx.outerWidth();cu.push(cz);ct.push(cz+cw)});this.lefts=cu;this.rights=ct},buildElVerticals:function(){var ct=[];var cu=[];this.els.each(function(cw,cy){var cx=b9(cy);var cz=cx.offset().top;var cv=cx.outerHeight();ct.push(cz);cu.push(cz+cv)});this.tops=ct;this.bottoms=cu},getHorizontalIndex:function(cv){this.ensureBuilt();var cx=this.lefts;var cw=this.rights;var ct=cx.length;var cu;for(cu=0;cu<ct;cu++){if(cv>=cx[cu]&&cv<cw[cu]){return cu}}},getVerticalIndex:function(cv){this.ensureBuilt();var cw=this.tops;var cx=this.bottoms;var ct=cw.length;var cu;for(cu=0;cu<ct;cu++){if(cv>=cw[cu]&&cv<cx[cu]){return cu}}},getLeftOffset:function(ct){this.ensureBuilt();return this.lefts[ct]},getLeftPosition:function(ct){this.ensureBuilt();return this.lefts[ct]-this.origin.left},getRightOffset:function(ct){this.ensureBuilt();return this.rights[ct]},getRightPosition:function(ct){this.ensureBuilt();return this.rights[ct]-this.origin.left},getWidth:function(ct){this.ensureBuilt();return this.rights[ct]-this.lefts[ct]},getTopOffset:function(ct){this.ensureBuilt();return this.tops[ct]},getTopPosition:function(ct){this.ensureBuilt();return this.tops[ct]-this.origin.top},getBottomOffset:function(ct){this.ensureBuilt();return this.bottoms[ct]},getBottomPosition:function(ct){this.ensureBuilt();return this.bottoms[ct]-this.origin.top},getHeight:function(ct){this.ensureBuilt();return this.bottoms[ct]-this.tops[ct]},queryBoundingRect:function(){var ct;if(this.els.length>0){ct=b3(this.els.eq(0));if(!ct.is(document)){return K(ct)}}return null},isPointInBounds:function(cu,ct){return this.isLeftInBounds(cu)&&this.isTopInBounds(ct)},isLeftInBounds:function(ct){return !this.boundingRect||(ct>=this.boundingRect.left&&ct<this.boundingRect.right)},isTopInBounds:function(ct){return !this.boundingRect||(ct>=this.boundingRect.top&&ct<this.boundingRect.bottom)}});var bX=D.DragListener=aW.extend(aH,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,isGeneric:false,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:true,scrollAlwaysKills:false,constructor:function(ct){this.options=ct||{}},startInteraction:function(cu,ct){if(cu.type==="mousedown"){if(aD.get().shouldIgnoreMouse()){return}else{if(!cm(cu)){return}else{cu.preventDefault()}}}if(!this.isInteracting){ct=ct||{};this.delay=aj(ct.delay,this.options.delay,0);this.minDistance=aj(ct.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;J(b9("body"));this.isInteracting=true;this.isTouch=bn(cu);this.isGeneric=cu.type==="dragstart";this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=aa(cu);this.originY=Z(cu);this.scrollEl=b3(b9(cu.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(cu);this.startDelay(cu);if(!this.minDistance){this.handleDistanceSurpassed(cu)}}},handleInteractionStart:function(ct){this.trigger("interactionStart",ct)},endInteraction:function(ct,cu){if(this.isInteracting){this.endDrag(ct);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(ct,cu);ah(b9("body"))}},handleInteractionEnd:function(ct,cu){this.trigger("interactionEnd",ct,cu||false)},bindHandlers:function(){var ct=aD.get();if(this.isGeneric){this.listenTo(b9(document),{drag:this.handleMove,dragstop:this.endInteraction})}else{if(this.isTouch){this.listenTo(ct,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll})}else{this.listenTo(ct,{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}}this.listenTo(ct,{selectstart:ch,contextmenu:ch})},unbindHandlers:function(){this.stopListeningTo(aD.get());this.stopListeningTo(b9(document))},startDrag:function(cu,ct){this.startInteraction(cu,ct);if(!this.isDragging){this.isDragging=true;this.handleDragStart(cu)}},handleDragStart:function(ct){this.trigger("dragStart",ct)},handleMove:function(cw){var cv=aa(cw)-this.originX;var ct=Z(cw)-this.originY;var cx=this.minDistance;var cu;if(!this.isDistanceSurpassed){cu=cv*cv+ct*ct;if(cu>=cx*cx){this.handleDistanceSurpassed(cw)}}if(this.isDragging){this.handleDrag(cv,ct,cw)}},handleDrag:function(cu,ct,cv){this.trigger("drag",cu,ct,cv);this.updateAutoScroll(cv)},endDrag:function(ct){if(this.isDragging){this.isDragging=false;this.handleDragEnd(ct)}},handleDragEnd:function(ct){this.trigger("dragEnd",ct)},startDelay:function(ct){var cu=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){cu.handleDelayEnd(ct)},this.delay)}else{this.handleDelayEnd(ct)}},handleDelayEnd:function(ct){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(ct)}},handleDistanceSurpassed:function(ct){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(ct)}},handleTouchMove:function(ct){if(this.isDragging&&this.shouldCancelTouchScroll){ct.preventDefault()}this.handleMove(ct)},handleMouseMove:function(ct){this.handleMove(ct)},handleTouchScroll:function(ct){if(!this.isDragging||this.scrollAlwaysKills){this.endInteraction(ct,true)}},trigger:function(ct){if(this.options[ct]){this.options[ct].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+ct]){this["_"+ct].apply(this,Array.prototype.slice.call(arguments,1))}}});bX.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var ct=this.scrollEl;this.isAutoScroll=this.options.scroll&&ct&&!ct.is(window)&&!ct.is(document);if(this.isAutoScroll){this.listenTo(ct,"scroll",bO(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=aJ(this.scrollEl)}},updateAutoScroll:function(cz){var cv=this.scrollSensitivity;var ct=this.scrollBounds;var cu,cw;var cA,cB;var cy=0;var cx=0;if(ct){cu=(cv-(Z(cz)-ct.top))/cv;cw=(cv-(ct.bottom-Z(cz)))/cv;cA=(cv-(aa(cz)-ct.left))/cv;cB=(cv-(ct.right-aa(cz)))/cv;if(cu>=0&&cu<=1){cy=cu*this.scrollSpeed*-1}else{if(cw>=0&&cw<=1){cy=cw*this.scrollSpeed}}if(cA>=0&&cA<=1){cx=cA*this.scrollSpeed*-1}else{if(cB>=0&&cB<=1){cx=cB*this.scrollSpeed}}}this.setScrollVel(cy,cx)},setScrollVel:function(cu,ct){this.scrollTopVel=cu;this.scrollLeftVel=ct;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(a8(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var ct=this.scrollEl;if(this.scrollTopVel<0){if(ct.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(ct.scrollTop()+ct[0].clientHeight>=ct[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(ct.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(ct.scrollLeft()+ct[0].clientWidth>=ct[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var cu=this.scrollEl;var ct=this.scrollIntervalMs/1000;if(this.scrollTopVel){cu.scrollTop(cu.scrollTop()+this.scrollTopVel*ct)}if(this.scrollLeftVel){cu.scrollLeft(cu.scrollLeft()+this.scrollLeftVel*ct)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var aX=bX.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(cu,ct){bX.call(this,ct);this.component=cu},handleInteractionStart:function(cx){var cu=this.subjectEl;var cv;var cw;var ct;this.component.hitsNeeded();this.computeScrollBounds();if(cx){cw={left:aa(cx),top:Z(cx)};ct=cw;if(cu){cv=aJ(cu);ct=ba(ct,cv)}this.origHit=this.queryHit(ct.left,ct.top);if(cu&&this.options.subjectCenter){if(this.origHit){cv=d(this.origHit,cv)||cv}ct=bu(cv)}this.coordAdjust=b8(ct,cw)}else{this.origHit=null;this.coordAdjust=null}bX.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(ct){var cu;bX.prototype.handleDragStart.apply(this,arguments);cu=this.queryHit(aa(ct),Z(ct));if(cu){this.handleHitOver(cu)}},handleDrag:function(cu,ct,cv){var cw;bX.prototype.handleDrag.apply(this,arguments);cw=this.queryHit(aa(cv),Z(cv));if(!cg(cw,this.hit)){if(this.hit){this.handleHitOut()}if(cw){this.handleHitOver(cw)}}},handleDragEnd:function(){this.handleHitDone();bX.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(cu){var ct=cg(cu,this.origHit);this.hit=cu;this.trigger("hitOver",this.hit,ct,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bX.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.hitsNotNeeded()},handleScrollEnd:function(){bX.prototype.handleScrollEnd.apply(this,arguments);if(this.isDragging){this.component.releaseHits();this.component.prepareHits()}},queryHit:function(cu,ct){if(this.coordAdjust){cu+=this.coordAdjust.left;ct+=this.coordAdjust.top}return this.component.queryHit(cu,ct)}});function cg(cu,ct){if(!cu&&!ct){return true}if(cu&&ct){return cu.component===ct.component&&aY(cu,ct)&&aY(ct,cu)}return false}function aY(ct,cu){for(var cv in ct){if(!/^(component|left|right|top|bottom)$/.test(cv)){if(ct[cv]!==cu[cv]){return false}}}return true}D.touchMouseIgnoreWait=500;var aD=aW.extend(aH,B,{isTouching:false,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var ct=this;this.listenTo(b9(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu});window.addEventListener("touchmove",this.handleTouchMoveProxy=function(cu){ct.handleTouchMove(b9.Event(cu))},{passive:false});window.addEventListener("scroll",this.handleScrollProxy=function(cu){ct.handleScroll(b9.Event(cu))},true)},unbind:function(){this.stopListeningTo(b9(document));window.removeEventListener("touchmove",this.handleTouchMoveProxy);window.removeEventListener("scroll",this.handleScrollProxy,true)},handleTouchStart:function(ct){this.stopTouch(ct,true);this.isTouching=true;this.trigger("touchstart",ct)},handleTouchMove:function(ct){if(this.isTouching){this.trigger("touchmove",ct)}},handleTouchCancel:function(ct){if(this.isTouching){this.trigger("touchcancel",ct);this.stopTouch(ct)}},handleTouchEnd:function(ct){this.stopTouch(ct)},handleMouseDown:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("mousedown",ct)}},handleMouseMove:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("mousemove",ct)}},handleMouseUp:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("mouseup",ct)}},handleClick:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("click",ct)}},handleSelectStart:function(ct){this.trigger("selectstart",ct)},handleContextMenu:function(ct){this.trigger("contextmenu",ct)},handleScroll:function(ct){this.trigger("scroll",ct)},stopTouch:function(ct,cu){if(this.isTouching){this.isTouching=false;this.trigger("touchend",ct);if(!cu){this.startTouchMouseIgnore()}}},startTouchMouseIgnore:function(){var cu=this;var ct=D.touchMouseIgnoreWait;if(ct){this.mouseIgnoreDepth++;setTimeout(function(){cu.mouseIgnoreDepth--},ct)}},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});(function(){var cu=null;var ct=0;aD.get=function(){if(!cu){cu=new aD();cu.bind()}return cu};aD.needed=function(){aD.get();ct++};aD.unneeded=function(){ct--;if(!ct){cu.unbind();cu=null}}})();var bN=aW.extend(aH,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(ct,cu){this.options=cu=cu||{};this.sourceEl=ct;this.parentEl=cu.parentEl?b9(cu.parentEl):ct.parent()},start:function(ct){if(!this.isFollowing){this.isFollowing=true;this.y0=Z(ct);this.x0=aa(ct);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(bn(ct)){this.listenTo(b9(document),"touchmove",this.handleMove)}else{this.listenTo(b9(document),"mousemove",this.handleMove)}}},stop:function(cu,cx){var cw=this;var cv=this.options.revertDuration;function ct(){cw.isAnimating=false;cw.removeElement();cw.top0=cw.left0=null;if(cx){cx()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(b9(document));if(cu&&cv&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:cv,complete:ct})}else{ct()}}},getEl:function(){var ct=this.el;if(!ct){ct=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});ct.addClass("fc-unselectable");ct.appendTo(this.parentEl)}return ct},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var cu;var ct;this.getEl();if(this.top0===null){cu=this.sourceEl.offset();ct=this.el.offsetParent().offset();this.top0=cu.top-ct.top;this.left0=cu.left-ct.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(ct){this.topDelta=Z(ct)-this.y0;this.leftDelta=aa(ct)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var bK=D.Scroller=aW.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(ct){ct=ct||{};this.overflowX=ct.overflowX||ct.overflow||"auto";this.overflowY=ct.overflowY||ct.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=b9('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(cv){var cu=this.overflowX;var ct=this.overflowY;cv=cv||this.getScrollbarWidths();if(cu==="auto"){cu=(cv.top||cv.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(ct==="auto"){ct=(cv.left||cv.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":cu,"overflow-y":ct})},setHeight:function(ct){this.scrollEl.height(ct)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(ct){this.scrollEl.scrollTop(ct)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});function cc(ct){this.items=ct||[]}cc.prototype.proxyCall=function(ct){var cu=Array.prototype.slice.call(arguments,1);var cv=[];this.items.forEach(function(cw){cv.push(cw[ct].apply(cw,cu))});return cv};var bl=aW.extend({view:null,component:null,constructor:function(ct){this.view=ct._getView();this.component=ct},opt:function(ct){return this.view.opt(ct)},end:function(){}});var ak=bl.extend({dragListener:null,constructor:function(ct){bl.call(this,ct);this.dragListener=this.buildDragListener()},end:function(){this.dragListener.endInteraction()},bindToEl:function(cv){var ct=this.component;var cu=this.dragListener;ct.bindDateHandlerToEl(cv,"mousedown",function(cw){if(!ct.shouldIgnoreMouse()){cu.startInteraction(cw)}});ct.bindDateHandlerToEl(cv,"touchstart",function(cw){if(!ct.shouldIgnoreTouch()){cu.startInteraction(cw)}})},buildDragListener:function(){var cw=this;var cu=this.component;var ct;var cv=new aX(cu,{scroll:this.opt("dragScroll"),interactionStart:function(){ct=cv.origHit},hitOver:function(cy,cx,cz){if(!cx){ct=null}},hitOut:function(){ct=null},interactionEnd:function(cy,cz){var cx;if(!cz&&ct){cx=cu.getSafeHitFootprint(ct);if(cx){cw.view.triggerDayClick(cx,cu.getHitEl(ct),cy)}}}});cv.shouldCancelTouchScroll=false;cv.scrollAlwaysKills=true;return cv}});var bG=D.DateSelecting=bl.extend({dragListener:null,constructor:function(ct){bl.call(this,ct);this.dragListener=this.buildDragListener()},end:function(){this.dragListener.endInteraction()},getDelay:function(){var ct=this.opt("selectLongPressDelay");if(ct==null){ct=this.opt("longPressDelay")}return ct},bindToEl:function(cv){var cw=this;var ct=this.component;var cu=this.dragListener;ct.bindDateHandlerToEl(cv,"mousedown",function(cx){if(cw.opt("selectable")&&!ct.shouldIgnoreMouse()){cu.startInteraction(cx,{distance:cw.opt("selectMinDistance")})}});ct.bindDateHandlerToEl(cv,"touchstart",function(cx){if(cw.opt("selectable")&&!ct.shouldIgnoreTouch()){cu.startInteraction(cx,{delay:cw.getDelay()})}});J(cv)},buildDragListener:function(){var cw=this;var ct=this.component;var cv;var cu=new aX(ct,{scroll:this.opt("dragScroll"),interactionStart:function(){cv=null},dragStart:function(cx){cw.view.unselect(cx)},hitOver:function(cz,cx,cA){var cB;var cy;if(cA){cB=ct.getSafeHitFootprint(cA);cy=ct.getSafeHitFootprint(cz);if(cB&&cy){cv=cw.computeSelection(cB,cy)}else{cv=null}if(cv){ct.renderSelectionFootprint(cv)}else{if(cv===false){ca()}}}},hitOut:function(){cv=null;ct.unrenderSelection()},hitDone:function(){aO()},interactionEnd:function(cx,cy){if(!cy&&cv){cw.view.reportSelection(cv,cx)}}});return cu},computeSelection:function(cv,cu){var ct=this.computeSelectionFootprint(cv,cu);if(ct&&!this.isSelectionFootprintAllowed(ct)){return false}return ct},computeSelectionFootprint:function(cv,cu){var ct=[cv.unzonedRange.startMs,cv.unzonedRange.endMs,cu.unzonedRange.startMs,cu.unzonedRange.endMs];ct.sort(am);return new u(new aC(ct[0],ct[3]),cv.isAllDay)},isSelectionFootprintAllowed:function(ct){return this.component.dateProfile.validUnzonedRange.containsRange(ct.unzonedRange)&&this.view.calendar.isSelectionFootprintAllowed(ct)}});var bY=D.EventDragging=bl.extend({eventPointing:null,dragListener:null,isDragging:false,constructor:function(ct,cu){bl.call(this,ct);this.eventPointing=cu},end:function(){if(this.dragListener){this.dragListener.endInteraction()}},getSelectionDelay:function(){var ct=this.opt("eventLongPressDelay");if(ct==null){ct=this.opt("longPressDelay")}return ct},bindToEl:function(cu){var ct=this.component;ct.bindSegHandlerToEl(cu,"mousedown",this.handleMousedown.bind(this));ct.bindSegHandlerToEl(cu,"touchstart",this.handleTouchStart.bind(this))},handleMousedown:function(ct,cu){if(this.component.canStartDrag(ct,cu)){this.buildDragListener(ct).startInteraction(cu,{distance:5})}},handleTouchStart:function(ct,cw){var cu=this.component;var cv={delay:this.view.isEventDefSelected(ct.footprint.eventDef)?0:this.getSelectionDelay()};if(cu.canStartDrag(ct,cw)){this.buildDragListener(ct).startInteraction(cw,cv)}else{if(cu.canStartSelection(ct,cw)){this.buildSelectListener(ct).startInteraction(cw,cv)}}},buildSelectListener:function(cu){var cy=this;var ct=this.view;var cx=cu.footprint.eventDef;var cw=cu.footprint.eventInstance;if(this.dragListener){return this.dragListener}var cv=this.dragListener=new bX({dragStart:function(cz){if(cv.isTouch&&!ct.isEventDefSelected(cx)&&cw){ct.selectEventInstance(cw)}},interactionEnd:function(cz){cy.dragListener=null}});return cv},buildDragListener:function(cy){var cA=this;var cE=this.component;var cF=this.view;var cz=cF.calendar;var cC=cz.eventManager;var cw=cy.el;var cx=cy.footprint.eventDef;var cD=cy.footprint.eventInstance;var cB;var cu;var cv;if(this.dragListener){return this.dragListener}var ct=this.dragListener=new aX(cF,{scroll:this.opt("dragScroll"),subjectEl:cw,subjectCenter:true,interactionStart:function(cG){cy.component=cE;cB=false;cu=new bN(cy.el,{additionalClass:"fc-dragging",parentEl:cF.el,opacity:ct.isTouch?null:cA.opt("dragOpacity"),revertDuration:cA.opt("dragRevertDuration"),zIndex:2});cu.hide();cu.start(cG)},dragStart:function(cG){if(ct.isTouch&&!cF.isEventDefSelected(cx)&&cD){cF.selectEventInstance(cD)}cB=true;cA.eventPointing.handleMouseout(cy,cG);cA.segDragStart(cy,cG);cF.hideEventsWithId(cy.footprint.eventDef.id)},hitOver:function(cK,cG,cM){var cI=true;var cJ;var cH;var cL;if(cy.hit){cM=cy.hit}cJ=cM.component.getSafeHitFootprint(cM);cH=cK.component.getSafeHitFootprint(cK);if(cJ&&cH){cv=cA.computeEventDropMutation(cJ,cH,cx);if(cv){cL=cC.buildMutatedEventInstanceGroup(cx.id,cv);cI=cE.isEventInstanceGroupAllowed(cL)}else{cI=false}}else{cI=false}if(!cI){cv=null;ca()}if(cv&&cF.renderDrag(cE.eventRangesToEventFootprints(cL.sliceRenderRanges(cE.dateProfile.renderUnzonedRange,cz)),cy,ct.isTouch)){cu.hide()}else{cu.show()}if(cG){cv=null}},hitOut:function(){cF.unrenderDrag(cy);cu.show();cv=null},hitDone:function(){aO()},interactionEnd:function(cG){delete cy.component;cu.stop(!cv,function(){if(cB){cF.unrenderDrag(cy);cA.segDragStop(cy,cG)}cF.showEventsWithId(cy.footprint.eventDef.id);if(cv){cF.reportEventDrop(cD,cv,cw,cG)}});cA.dragListener=null}});return ct},segDragStart:function(ct,cu){this.isDragging=true;this.component.publiclyTrigger("eventDragStart",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},segDragStop:function(ct,cu){this.isDragging=false;this.component.publiclyTrigger("eventDragStop",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},computeEventDropMutation:function(cv,cw,cu){var ct=new v();ct.setDateMutation(this.computeEventDateMutation(cv,cw));return ct},computeEventDateMutation:function(cu,cz){var cB=cu.unzonedRange.getStart();var cA=cz.unzonedRange.getStart();var ct=false;var cy=false;var cw=false;var cv;var cx;if(cu.isAllDay!==cz.isAllDay){ct=true;if(cz.isAllDay){cw=true;cB.stripTime()}else{cy=true}}cv=this.component.diffDates(cA,cB);cx=new bm();cx.clearEnd=ct;cx.forceTimed=cy;cx.forceAllDay=cw;cx.setDateDelta(cv);return cx}});var a3=D.EventResizing=bl.extend({eventPointing:null,dragListener:null,isResizing:false,constructor:function(ct,cu){bl.call(this,ct);this.eventPointing=cu},end:function(){if(this.dragListener){this.dragListener.endInteraction()}},bindToEl:function(cu){var ct=this.component;ct.bindSegHandlerToEl(cu,"mousedown",this.handleMouseDown.bind(this));ct.bindSegHandlerToEl(cu,"touchstart",this.handleTouchStart.bind(this))},handleMouseDown:function(ct,cu){if(this.component.canStartResize(ct,cu)){this.buildDragListener(ct,b9(cu.target).is(".fc-start-resizer")).startInteraction(cu,{distance:5})}},handleTouchStart:function(ct,cu){if(this.component.canStartResize(ct,cu)){this.buildDragListener(ct,b9(cu.target).is(".fc-start-resizer")).startInteraction(cu)}},buildDragListener:function(cx,cu){var cz=this;var cD=this.component;var cE=this.view;var cy=cE.calendar;var cB=cy.eventManager;var cv=cx.el;var cw=cx.footprint.eventDef;var cC=cx.footprint.eventInstance;var cA;var cF;var ct=this.dragListener=new aX(cD,{scroll:this.opt("dragScroll"),subjectEl:cv,interactionStart:function(){cA=false},dragStart:function(cG){cA=true;cz.eventPointing.handleMouseout(cx,cG);cz.segResizeStart(cx,cG)},hitOver:function(cJ,cG,cL){var cH=true;var cM=cD.getSafeHitFootprint(cL);var cI=cD.getSafeHitFootprint(cJ);var cK;if(cM&&cI){cF=cu?cz.computeEventStartResizeMutation(cM,cI,cx.footprint):cz.computeEventEndResizeMutation(cM,cI,cx.footprint);if(cF){cK=cB.buildMutatedEventInstanceGroup(cw.id,cF);cH=cD.isEventInstanceGroupAllowed(cK)}else{cH=false}}else{cH=false}if(!cH){cF=null;ca()}else{if(cF.isEmpty()){cF=null}}if(cF){cE.hideEventsWithId(cx.footprint.eventDef.id);cE.renderEventResize(cD.eventRangesToEventFootprints(cK.sliceRenderRanges(cD.dateProfile.renderUnzonedRange,cy)),cx)}},hitOut:function(){cF=null},hitDone:function(){cE.unrenderEventResize(cx);cE.showEventsWithId(cx.footprint.eventDef.id);aO()},interactionEnd:function(cG){if(cA){cz.segResizeStop(cx,cG)}if(cF){cE.reportEventResize(cC,cF,cv,cG)}cz.dragListener=null}});return ct},segResizeStart:function(ct,cu){this.isResizing=true;this.component.publiclyTrigger("eventResizeStart",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},segResizeStop:function(ct,cu){this.isResizing=false;this.component.publiclyTrigger("eventResizeStop",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},computeEventStartResizeMutation:function(cy,cz,ct){var cx=ct.componentFootprint.unzonedRange;var cw=this.component.diffDates(cz.unzonedRange.getStart(),cy.unzonedRange.getStart());var cv;var cu;if(cx.getStart().add(cw)<cx.getEnd()){cv=new bm();cv.setStartDelta(cw);cu=new v();cu.setDateMutation(cv);return cu}return false},computeEventEndResizeMutation:function(cy,cz,ct){var cx=ct.componentFootprint.unzonedRange;var cv=this.component.diffDates(cz.unzonedRange.getEnd(),cy.unzonedRange.getEnd());var cw;var cu;if(cx.getEnd().add(cv)>cx.getStart()){cw=new bm();cw.setEndDelta(cv);cu=new v();cu.setDateMutation(cw);return cu}return false}});var bg=D.ExternalDropping=bl.extend(aH,{dragListener:null,isDragging:false,end:function(){if(this.dragListener){this.dragListener.endInteraction()}},bindToDocument:function(){this.listenTo(b9(document),{dragstart:this.handleDragStart,sortstart:this.handleDragStart})},unbindFromDocument:function(){this.stopListeningTo(b9(document))},handleDragStart:function(cv,cw){var cu;var ct;if(this.opt("droppable")){cu=b9((cw?cw.item:null)||cv.target);ct=this.opt("dropAccept");if(b9.isFunction(ct)?ct.call(cu[0],cu):cu.is(ct)){if(!this.isDragging){this.listenToExternalDrag(cu,cv,cw)}}}},listenToExternalDrag:function(cu,cx,cw){var cv=this;var cy=this.component;var cz=this.view;var cA=W(cu);var cB;var ct=cv.dragListener=new aX(cy,{interactionStart:function(){cv.isDragging=true},hitOver:function(cE){var cC=true;var cD=cE.component.getSafeHitFootprint(cE);var cF;if(cD){cB=cv.computeExternalDrop(cD,cA);if(cB){cF=new bP(cB.buildInstances());cC=cA.eventProps?cy.isEventInstanceGroupAllowed(cF):cy.isExternalInstanceGroupAllowed(cF)}else{cC=false}}else{cC=false}if(!cC){cB=null;ca()}if(cB){cy.renderDrag(cy.eventRangesToEventFootprints(cF.sliceRenderRanges(cy.dateProfile.renderUnzonedRange,cz.calendar)))}},hitOut:function(){cB=null},hitDone:function(){aO();cy.unrenderDrag()},interactionEnd:function(cC){if(cB){cz.reportExternalDrop(cB,Boolean(cA.eventProps),Boolean(cA.stick),cu,cC,cw)}cv.isDragging=false;cv.dragListener=null}});ct.startDrag(cx)},computeExternalDrop:function(cu,cx){var cw=this.view.calendar;var cy=D.moment.utc(cu.unzonedRange.startMs).stripZone();var ct;var cv;if(cu.isAllDay){if(cx.startTime){cy.time(cx.startTime)}else{cy.stripTime()}}if(cx.duration){ct=cy.clone().add(cx.duration)}cy=cw.applyTimezone(cy);if(ct){ct=cw.applyTimezone(ct)}cv=t.parse(b9.extend({},cx.eventProps,{start:cy,end:ct}),new a9(cw));return cv}});D.dataAttrPrefix="";function W(cv){var cx=D.dataAttrPrefix;var cw;var cu;var cy;var ct;if(cx){cx+="-"}cw=cv.data(cx+"event")||null;if(cw){if(typeof cw==="object"){cw=b9.extend({},cw)}else{cw={}}cu=cw.start;if(cu==null){cu=cw.time}cy=cw.duration;ct=cw.stick;delete cw.start;delete cw.time;delete cw.duration;delete cw.stick}if(cu==null){cu=cv.data(cx+"start")}if(cu==null){cu=cv.data(cx+"time")}if(cy==null){cy=cv.data(cx+"duration")}if(ct==null){ct=cv.data(cx+"stick")}cu=cu!=null?bH.duration(cu):null;cy=cy!=null?bH.duration(cy):null;ct=Boolean(ct);return{eventProps:cw,startTime:cu,duration:cy,stick:ct}}var aK=D.EventPointing=bl.extend({mousedOverSeg:null,bindToEl:function(cu){var ct=this.component;ct.bindSegHandlerToEl(cu,"click",this.handleClick.bind(this));ct.bindSegHandlerToEl(cu,"mouseenter",this.handleMouseover.bind(this));ct.bindSegHandlerToEl(cu,"mouseleave",this.handleMouseout.bind(this))},handleClick:function(ct,cv){var cu=this.component.publiclyTrigger("eventClick",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cv,this.view]});if(cu===false){cv.preventDefault()}},handleMouseover:function(ct,cu){if(!aD.get().shouldIgnoreMouse()&&!this.mousedOverSeg){this.mousedOverSeg=ct;if(this.view.isEventDefResizable(ct.footprint.eventDef)){ct.el.addClass("fc-allow-mouse-resize")}this.component.publiclyTrigger("eventMouseover",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,this.view]})}},handleMouseout:function(ct,cu){if(this.mousedOverSeg){this.mousedOverSeg=null;if(this.view.isEventDefResizable(ct.footprint.eventDef)){ct.el.removeClass("fc-allow-mouse-resize")}this.component.publiclyTrigger("eventMouseout",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu||{},this.view]})}},end:function(){if(this.mousedOverSeg){this.handleMouseout(this.mousedOverSeg)}}});var E=D.StandardInteractionsMixin={dateClickingClass:ak,dateSelectingClass:bG,eventPointingClass:aK,eventDraggingClass:bY,eventResizingClass:a3,externalDroppingClass:bg};var R=D.EventRenderer=aW.extend({view:null,component:null,fillRenderer:null,fgSegs:null,bgSegs:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,constructor:function(cu,ct){this.view=cu._getView();this.component=cu;this.fillRenderer=ct},opt:function(ct){return this.view.opt(ct)},rangeUpdated:function(){var ct;var cu;this.eventTimeFormat=this.opt("eventTimeFormat")||this.opt("timeFormat")||this.computeEventTimeFormat();ct=this.opt("displayEventTime");if(ct==null){ct=this.computeDisplayEventTime()}cu=this.opt("displayEventEnd");if(cu==null){cu=this.computeDisplayEventEnd()}this.displayEventTime=ct;this.displayEventEnd=cu},render:function(ct){var cw=this.component._getDateProfile();var cx;var cy;var cv;var cu=[];var cz=[];for(cx in ct){cy=ct[cx];cv=cy.sliceRenderRanges(cw.activeUnzonedRange);if(cy.getEventDef().hasBgRendering()){cu.push.apply(cu,cv)}else{cz.push.apply(cz,cv)}}this.renderBgRanges(cu);this.renderFgRanges(cz)},unrender:function(){this.unrenderBgRanges();this.unrenderFgRanges()},renderFgRanges:function(cu){var cv=this.component.eventRangesToEventFootprints(cu);var ct=this.component.eventFootprintsToSegs(cv);ct=this.renderFgSegEls(ct);if(this.renderFgSegs(ct)!==false){this.fgSegs=ct}},unrenderFgRanges:function(){this.unrenderFgSegs(this.fgSegs||[]);this.fgSegs=null},renderBgRanges:function(cu){var cv=this.component.eventRangesToEventFootprints(cu);var ct=this.component.eventFootprintsToSegs(cv);if(this.renderBgSegs(ct)!==false){this.bgSegs=ct}},unrenderBgRanges:function(){this.unrenderBgSegs();this.bgSegs=null},getSegs:function(){return(this.bgSegs||[]).concat(this.fgSegs||[])},renderFgSegs:function(ct){return false},unrenderFgSegs:function(ct){},renderBgSegs:function(ct){var cu=this;if(this.fillRenderer){this.fillRenderer.renderSegs("bgEvent",ct,{getClasses:function(cv){return cu.getBgClasses(cv.footprint.eventDef)},getCss:function(cv){return{"background-color":cu.getBgColor(cv.footprint.eventDef)}},filterEl:function(cv,cw){return cu.filterEventRenderEl(cv.footprint,cw)}})}else{return false}},unrenderBgSegs:function(){if(this.fillRenderer){this.fillRenderer.unrender("bgEvent")}},renderFgSegEls:function(cu,ct){var cz=this;var cy=this.view.hasPublicHandlers("eventRender");var cx="";var cw=[];var cv;if(cu.length){for(cv=0;cv<cu.length;cv++){this.beforeFgSegHtml(cu[cv]);cx+=this.fgSegHtml(cu[cv],ct)}b9(cx).each(function(cB,cD){var cA=cu[cB];var cC=b9(cD);if(cy){cC=cz.filterEventRenderEl(cA.footprint,cC)}if(cC){cC.data("fc-seg",cA);cA.el=cC;cw.push(cA)}})}return cw},beforeFgSegHtml:function(ct){},fgSegHtml:function(cu,ct){},getSegClasses:function(ct,cv,cw){var cu=["fc-event",ct.isStart?"fc-start":"fc-not-start",ct.isEnd?"fc-end":"fc-not-end"].concat(this.getClasses(ct.footprint.eventDef));if(cv){cu.push("fc-draggable")}if(cw){cu.push("fc-resizable")}if(this.view.isEventDefSelected(ct.footprint.eventDef)){cu.push("fc-selected")}return cu},filterEventRenderEl:function(cw,cu){var ct=cw.getEventLegacy();var cv=this.view.publiclyTrigger("eventRender",{context:ct,args:[ct,cu,this.view]});if(cv===false){cu=null}else{if(cv&&cv!==true){cu=b9(cv)}}return cu},getTimeText:function(cv,ct,cu){return this._getTimeText(cv.eventInstance.dateProfile.start,cv.eventInstance.dateProfile.end,cv.componentFootprint.isAllDay,ct,cu)},_getTimeText:function(cx,cu,cv,ct,cw){if(ct==null){ct=this.eventTimeFormat}if(cw==null){cw=this.displayEventEnd}if(this.displayEventTime&&!cv){if(cw&&cu){return this.view.formatRange({start:cx,end:cu},false,ct)}else{return cx.format(ct)}}return""},computeEventTimeFormat:function(){return this.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},getBgClasses:function(ct){var cu=this.getClasses(ct);cu.push("fc-bgevent");return cu},getClasses:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv=[];for(ct=0;ct<cw.length;ct++){cv.push.apply(cv,cw[ct].eventClassName||cw[ct].className||[])}return cv},getSkinCss:function(ct){return{"background-color":this.getBgColor(ct),"border-color":this.getBorderColor(ct),color:this.getTextColor(ct)}},getBgColor:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv;for(ct=0;ct<cw.length&&!cv;ct++){cv=cw[ct].eventBackgroundColor||cw[ct].eventColor||cw[ct].backgroundColor||cw[ct].color}if(!cv){cv=this.opt("eventBackgroundColor")||this.opt("eventColor")}return cv},getBorderColor:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv;for(ct=0;ct<cw.length&&!cv;ct++){cv=cw[ct].eventBorderColor||cw[ct].eventColor||cw[ct].borderColor||cw[ct].color}if(!cv){cv=this.opt("eventBorderColor")||this.opt("eventColor")}return cv},getTextColor:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv;for(ct=0;ct<cw.length&&!cv;ct++){cv=cw[ct].eventTextColor||cw[ct].textColor}if(!cv){cv=this.opt("eventTextColor")}return cv},getStylingObjs:function(ct){var cu=this.getFallbackStylingObjs(ct);cu.unshift(ct);return cu},getFallbackStylingObjs:function(ct){return[ct.source]},sortEventSegs:function(ct){ct.sort(a8(this,"compareEventSegs"))},compareEventSegs:function(cw,cu){var ct=cw.footprint.componentFootprint;var cx=ct.unzonedRange;var cy=cu.footprint.componentFootprint;var cv=cy.unzonedRange;return cx.startMs-cv.startMs||(cv.endMs-cv.startMs)-(cx.endMs-cx.startMs)||cy.isAllDay-ct.isAllDay||bQ(cw.footprint.eventDef,cu.footprint.eventDef,this.view.eventOrderSpecs)}});var ce=D.BusinessHourRenderer=aW.extend({component:null,fillRenderer:null,segs:null,constructor:function(cu,ct){this.component=cu;this.fillRenderer=ct},render:function(cw){var cu=this.component;var ct=cu._getDateProfile().activeUnzonedRange;var cx=cw.buildEventInstanceGroup(cu.hasAllDayBusinessHours,ct);var cv=cx?cu.eventRangesToEventFootprints(cx.sliceRenderRanges(ct)):[];this.renderEventFootprints(cv)},renderEventFootprints:function(cu){var ct=this.component.eventFootprintsToSegs(cu);this.renderSegs(ct);this.segs=ct},renderSegs:function(ct){if(this.fillRenderer){this.fillRenderer.renderSegs("businessHours",ct,{getClasses:function(cu){return["fc-nonbusiness","fc-bgevent"]}})}},unrender:function(){if(this.fillRenderer){this.fillRenderer.unrender("businessHours")}this.segs=null},getSegs:function(){return this.segs||[]}});var bs=D.FillRenderer=aW.extend({fillSegTag:"div",component:null,elsByFill:null,constructor:function(ct){this.component=ct;this.elsByFill={}},renderFootprint:function(cv,ct,cu){this.renderSegs(cv,this.component.componentFootprintToSegs(ct),cu)},renderSegs:function(cw,ct,cv){var cu;ct=this.buildSegEls(cw,ct,cv);cu=this.attachSegEls(cw,ct);if(cu){this.reportEls(cw,cu)}return ct},unrender:function(cu){var ct=this.elsByFill[cu];if(ct){ct.remove();delete this.elsByFill[cu]}},buildSegEls:function(cy,ct,cx){var cz=this;var cw="";var cv=[];var cu;if(ct.length){for(cu=0;cu<ct.length;cu++){cw+=this.buildSegHtml(cy,ct[cu],cx)}b9(cw).each(function(cB,cD){var cA=ct[cB];var cC=b9(cD);if(cx.filterEl){cC=cx.filterEl(cA,cC)}if(cC){cC=b9(cC);if(cC.is(cz.fillSegTag)){cA.el=cC;cv.push(cA)}}})}return cv},buildSegHtml:function(cx,ct,cw){var cv=cw.getClasses?cw.getClasses(ct):[];var cu=T(cw.getCss?cw.getCss(ct):{});return"<"+this.fillSegTag+(cv.length?' class="'+cv.join(" ")+'"':"")+(cu?' style="'+cu+'"':"")+" />"},attachSegEls:function(cu,ct){},reportEls:function(cu,ct){if(this.elsByFill[cu]){this.elsByFill[cu]=this.elsByFill[cu].add(ct)}else{this.elsByFill[cu]=b9(ct)}}});var ag=D.HelperRenderer=aW.extend({view:null,component:null,eventRenderer:null,helperEls:null,constructor:function(cu,ct){this.view=cu._getView();this.component=cu;this.eventRenderer=ct},renderComponentFootprint:function(ct){this.renderEventFootprints([this.fabricateEventFootprint(ct)])},renderEventDraggingFootprints:function(cv,cu,ct){this.renderEventFootprints(cv,cu,"fc-dragging",ct?null:this.view.opt("dragOpacity"))},renderEventResizingFootprints:function(cv,cu,ct){this.renderEventFootprints(cv,cu,"fc-resizing")},renderEventFootprints:function(cy,cu,cx,cv){var ct=this.component.eventFootprintsToSegs(cy);var cz="fc-helper "+(cx||"");var cw;ct=this.eventRenderer.renderFgSegEls(ct);for(cw=0;cw<ct.length;cw++){ct[cw].el.addClass(cz)}if(cv!=null){for(cw=0;cw<ct.length;cw++){ct[cw].el.css("opacity",cv)}}this.helperEls=this.renderSegs(ct,cu)},renderSegs:function(ct,cu){},unrender:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fabricateEventFootprint:function(ct){var cx=this.view.calendar;var cw=cx.footprintToDateProfile(ct);var cv=new t(new a9(cx));var cu;cv.dateProfile=cw;cu=cv.buildInstance();return new bC(ct,cv,cu)}});var aT=ck.extend({el:null,setElement:function(ct){this.el=ct;this.bindGlobalHandlers();this.renderSkeleton();this.set("isInDom",true)},removeElement:function(){this.unset("isInDom");this.unrenderSkeleton();this.unbindGlobalHandlers();this.el.remove()},bindGlobalHandlers:function(){},unbindGlobalHandlers:function(){},renderSkeleton:function(){},unrenderSkeleton:function(){}});var bt=D.DateComponent=aT.extend({uid:null,childrenByUid:null,isRTL:false,nextDayThreshold:null,dateProfile:null,eventRendererClass:null,helperRendererClass:null,businessHourRendererClass:null,fillRendererClass:null,eventRenderer:null,helperRenderer:null,businessHourRenderer:null,fillRenderer:null,hitsNeededDepth:0,hasAllDayBusinessHours:false,isDatesRendered:false,constructor:function(){aT.call(this);this.uid=String(bt.guid++);this.childrenByUid={};this.nextDayThreshold=bH.duration(this.opt("nextDayThreshold"));this.isRTL=this.opt("isRTL");if(this.fillRendererClass){this.fillRenderer=new this.fillRendererClass(this)}if(this.eventRendererClass){this.eventRenderer=new this.eventRendererClass(this,this.fillRenderer)}if(this.helperRendererClass&&this.eventRenderer){this.helperRenderer=new this.helperRendererClass(this,this.eventRenderer)}if(this.businessHourRendererClass&&this.fillRenderer){this.businessHourRenderer=new this.businessHourRendererClass(this,this.fillRenderer)}},addChild:function(ct){if(!this.childrenByUid[ct.uid]){this.childrenByUid[ct.uid]=ct;return true}return false},removeChild:function(ct){if(this.childrenByUid[ct.uid]){delete this.childrenByUid[ct.uid];return true}return false},updateSize:function(cv,cu,ct){this.callChildren("updateSize",arguments)},opt:function(ct){return this._getView().opt(ct)},publiclyTrigger:function(){var ct=this._getCalendar();return ct.publiclyTrigger.apply(ct,arguments)},hasPublicHandlers:function(){var ct=this._getCalendar();return ct.hasPublicHandlers.apply(ct,arguments)},executeDateRender:function(ct){this.dateProfile=ct;this.renderDates(ct);this.isDatesRendered=true;this.callChildren("executeDateRender",arguments)},executeDateUnrender:function(){this.callChildren("executeDateUnrender",arguments);this.dateProfile=null;this.unrenderDates();this.isDatesRendered=false},renderDates:function(ct){},unrenderDates:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(ct){this.callChildren("renderNowIndicator",arguments)},unrenderNowIndicator:function(){this.callChildren("unrenderNowIndicator",arguments)},renderBusinessHours:function(ct){if(this.businessHourRenderer){this.businessHourRenderer.render(ct)}this.callChildren("renderBusinessHours",arguments)},unrenderBusinessHours:function(){this.callChildren("unrenderBusinessHours",arguments);if(this.businessHourRenderer){this.businessHourRenderer.unrender()}},executeEventRender:function(ct){if(this.eventRenderer){this.eventRenderer.rangeUpdated();this.eventRenderer.render(ct)}else{if(this.renderEvents){this.renderEvents(a7(ct))}}this.callChildren("executeEventRender",arguments)},executeEventUnrender:function(){this.callChildren("executeEventUnrender",arguments);if(this.eventRenderer){this.eventRenderer.unrender()}else{if(this.destroyEvents){this.destroyEvents()}}},getBusinessHourSegs:function(){var ct=this.getOwnBusinessHourSegs();this.iterChildren(function(cu){ct.push.apply(ct,cu.getBusinessHourSegs())});return ct},getOwnBusinessHourSegs:function(){if(this.businessHourRenderer){return this.businessHourRenderer.getSegs()}return[]},getEventSegs:function(){var ct=this.getOwnEventSegs();this.iterChildren(function(cu){ct.push.apply(ct,cu.getEventSegs())});return ct},getOwnEventSegs:function(){if(this.eventRenderer){return this.eventRenderer.getSegs()}return[]},triggerAfterEventsRendered:function(){this.triggerAfterEventSegsRendered(this.getEventSegs());this.publiclyTrigger("eventAfterAllRender",{context:this,args:[this]})},triggerAfterEventSegsRendered:function(ct){var cu=this;if(this.hasPublicHandlers("eventAfterRender")){ct.forEach(function(cw){var cv;if(cw.el){cv=cw.footprint.getEventLegacy();cu.publiclyTrigger("eventAfterRender",{context:cv,args:[cv,cw.el,cu]})}})}},triggerBeforeEventsDestroyed:function(){this.triggerBeforeEventSegsDestroyed(this.getEventSegs())},triggerBeforeEventSegsDestroyed:function(ct){var cu=this;if(this.hasPublicHandlers("eventDestroy")){ct.forEach(function(cw){var cv;if(cw.el){cv=cw.footprint.getEventLegacy();cu.publiclyTrigger("eventDestroy",{context:cv,args:[cv,cw.el,cu]})}})}},showEventsWithId:function(ct){this.getEventSegs().forEach(function(cu){if(cu.footprint.eventDef.id===ct&&cu.el){cu.el.css("visibility","")}});this.callChildren("showEventsWithId",arguments)},hideEventsWithId:function(ct){this.getEventSegs().forEach(function(cu){if(cu.footprint.eventDef.id===ct&&cu.el){cu.el.css("visibility","hidden")}});this.callChildren("hideEventsWithId",arguments)},renderDrag:function(cw,cu,ct){var cv=false;this.iterChildren(function(cx){if(cx.renderDrag(cw,cu,ct)){cv=true}});return cv},unrenderDrag:function(){this.callChildren("unrenderDrag",arguments)},renderEventResize:function(cv,cu,ct){this.callChildren("renderEventResize",arguments)},unrenderEventResize:function(){this.callChildren("unrenderEventResize",arguments)},renderSelectionFootprint:function(ct){this.renderHighlight(ct);this.callChildren("renderSelectionFootprint",arguments)},unrenderSelection:function(){this.unrenderHighlight();this.callChildren("unrenderSelection",arguments)},renderHighlight:function(ct){if(this.fillRenderer){this.fillRenderer.renderFootprint("highlight",ct,{getClasses:function(){return["fc-highlight"]}})}this.callChildren("renderHighlight",arguments)},unrenderHighlight:function(){if(this.fillRenderer){this.fillRenderer.unrender("highlight")}this.callChildren("unrenderHighlight",arguments)},hitsNeeded:function(){if(!(this.hitsNeededDepth++)){this.prepareHits()}this.callChildren("hitsNeeded",arguments)},hitsNotNeeded:function(){if(this.hitsNeededDepth&&!(--this.hitsNeededDepth)){this.releaseHits()}this.callChildren("hitsNotNeeded",arguments)},prepareHits:function(){},releaseHits:function(){},queryHit:function(cx,cv){var ct=this.childrenByUid;var cu;var cw;for(cu in ct){cw=ct[cu].queryHit(cx,cv);if(cw){break}}return cw},getSafeHitFootprint:function(cu){var ct=this.getHitFootprint(cu);if(!this.dateProfile.activeUnzonedRange.containsRange(ct.unzonedRange)){return null}return ct},getHitFootprint:function(ct){},getHitEl:function(ct){},eventRangesToEventFootprints:function(ct){var cv=[];var cu;for(cu=0;cu<ct.length;cu++){cv.push.apply(cv,this.eventRangeToEventFootprints(ct[cu]))}return cv},eventRangeToEventFootprints:function(ct){return[M(ct)]},eventFootprintsToSegs:function(cv){var ct=[];var cu;for(cu=0;cu<cv.length;cu++){ct.push.apply(ct,this.eventFootprintToSegs(cv[cu]))}return ct},eventFootprintToSegs:function(cx){var cv=cx.componentFootprint.unzonedRange;var cu;var cw,ct;cu=this.componentFootprintToSegs(cx.componentFootprint);for(cw=0;cw<cu.length;cw++){ct=cu[cw];if(!cv.isStart){ct.isStart=false}if(!cv.isEnd){ct.isEnd=false}ct.footprint=cx}return cu},componentFootprintToSegs:function(ct){return[]},callChildren:function(ct,cu){this.iterChildren(function(cv){cv[ct].apply(cv,cu)})},iterChildren:function(cv){var ct=this.childrenByUid;var cu;for(cu in ct){cv(ct[cu])}},_getCalendar:function(){return this.calendar||this.view.calendar},_getView:function(){return this.view},_getDateProfile:function(){return this._getView().get("dateProfile")}});bt.guid=0;function a7(ct){var cv;var cu;var cx=[];var cw;for(cv in ct){cu=ct[cv].eventInstances;for(cw=0;cw<cu.length;cw++){cx.push(cu[cw].toLegacy())}}return cx}bt.mixin({buildGotoAnchorHtml:function(cy,cv,ct){var cu,cx,cz;var cw;if(b9.isPlainObject(cy)){cu=cy.date;cx=cy.type;cz=cy.forceOff}else{cu=cy}cu=D.moment(cu);cw={date:cu.format("YYYY-MM-DD"),type:cx||"day"};if(typeof cv==="string"){ct=cv;cv=null}cv=cv?" "+bJ(cv):"";ct=ct||"";if(!cz&&this.opt("navLinks")){return"<a"+cv+' data-goto="'+be(JSON.stringify(cw))+'">'+ct+"</a>"}else{return"<span"+cv+">"+ct+"</span>"}},getAllDayHtml:function(){return this.opt("allDayHtml")||be(this.opt("allDayText"))},getDayClasses:function(cv,cx){var ct=this._getView();var cw=[];var cu;if(!this.dateProfile.activeUnzonedRange.containsDate(cv)){cw.push("fc-disabled-day")}else{cw.push("fc-"+bk[cv.day()]);if(ct.isDateInOtherMonth(cv,this.dateProfile)){cw.push("fc-other-month")}cu=ct.calendar.getNow();if(cv.isSame(cu,"day")){cw.push("fc-today");if(cx!==true){cw.push(ct.calendar.theme.getClass("today"))}}else{if(cv<cu){cw.push("fc-past")}else{cw.push("fc-future")}}}return cw},formatRange:function(cv,cw,cu,cx){var ct=cv.end;if(cw){ct=ct.clone().subtract(1)}return b0(cv.start,ct,cu,cx,this.isRTL)},currentRangeAs:function(ct){return this._getDateProfile().currentUnzonedRange.as(ct)},computeDayRange:function(cu){var cy=this._getCalendar();var cx=cy.msToUtcMoment(cu.startMs,true);var ct=cy.msToUtcMoment(cu.endMs);var cv=+ct.time();var cw=ct.clone().stripTime();if(cv&&cv>=this.nextDayThreshold){cw.add(1,"days")}if(cw<=cx){cw=cx.clone().add(1,"days")}return{start:cx,end:cw}},isMultiDayRange:function(ct){var cu=this.computeDayRange(ct);return cu.end.diff(cu.start,"days")>1}});var a1=D.InteractiveDateComponent=bt.extend({dateClickingClass:null,dateSelectingClass:null,eventPointingClass:null,eventDraggingClass:null,eventResizingClass:null,externalDroppingClass:null,dateClicking:null,dateSelecting:null,eventPointing:null,eventDragging:null,eventResizing:null,externalDropping:null,segSelector:".fc-event-container > *",largeUnit:null,constructor:function(){bt.call(this);if(this.dateSelectingClass){this.dateClicking=new this.dateClickingClass(this)}if(this.dateSelectingClass){this.dateSelecting=new this.dateSelectingClass(this)}if(this.eventPointingClass){this.eventPointing=new this.eventPointingClass(this)}if(this.eventDraggingClass&&this.eventPointing){this.eventDragging=new this.eventDraggingClass(this,this.eventPointing)}if(this.eventResizingClass&&this.eventPointing){this.eventResizing=new this.eventResizingClass(this,this.eventPointing)}if(this.externalDroppingClass){this.externalDropping=new this.externalDroppingClass(this)}},setElement:function(ct){bt.prototype.setElement.apply(this,arguments);if(this.dateClicking){this.dateClicking.bindToEl(ct)}if(this.dateSelecting){this.dateSelecting.bindToEl(ct)}this.bindAllSegHandlersToEl(ct)},unrender:function(){this.endInteractions();bt.prototype.unrender.apply(this,arguments)},executeEventUnrender:function(){this.endInteractions();bt.prototype.executeEventUnrender.apply(this,arguments)},bindGlobalHandlers:function(){bt.prototype.bindGlobalHandlers.apply(this,arguments);if(this.externalDropping){this.externalDropping.bindToDocument()}},unbindGlobalHandlers:function(){bt.prototype.unbindGlobalHandlers.apply(this,arguments);if(this.externalDropping){this.externalDropping.unbindFromDocument()}},bindDateHandlerToEl:function(cv,ct,cu){var cw=this;this.el.on(ct,function(cx){if(!b9(cx.target).is(cw.segSelector+","+cw.segSelector+" *,.fc-more,a[data-goto]")){return cu.call(cw,cx)}})},bindAllSegHandlersToEl:function(ct){[this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(cu){if(cu){cu.bindToEl(ct)}})},bindSegHandlerToEl:function(cv,ct,cu){var cw=this;cv.on(ct,this.segSelector,function(cy){var cx=b9(this).data("fc-seg");if(cx&&!cw.shouldIgnoreEventPointing()){return cu.call(cw,cx,cy)}})},shouldIgnoreMouse:function(){return aD.get().shouldIgnoreMouse()},shouldIgnoreTouch:function(){var ct=this._getView();return ct.isSelected||ct.selectedEvent},shouldIgnoreEventPointing:function(){return(this.eventDragging&&this.eventDragging.isDragging)||(this.eventResizing&&this.eventResizing.isResizing)},canStartSelection:function(ct,cu){return bn(cu)&&!this.canStartResize(ct,cu)&&(this.isEventDefDraggable(ct.footprint.eventDef)||this.isEventDefResizable(ct.footprint.eventDef))},canStartDrag:function(ct,cu){return !this.canStartResize(ct,cu)&&this.isEventDefDraggable(ct.footprint.eventDef)},canStartResize:function(cu,cw){var ct=this._getView();var cv=cu.footprint.eventDef;return(!bn(cw)||ct.isEventDefSelected(cv))&&this.isEventDefResizable(cv)&&b9(cw.target).is(".fc-resizer")},endInteractions:function(){[this.dateClicking,this.dateSelecting,this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(ct){if(ct){ct.end()}})},isEventDefDraggable:function(ct){return this.isEventDefStartEditable(ct)},isEventDefStartEditable:function(cu){var ct=cu.isStartExplicitlyEditable();if(ct==null){ct=this.opt("eventStartEditable");if(ct==null){ct=this.isEventDefGenerallyEditable(cu)}}return ct},isEventDefGenerallyEditable:function(cu){var ct=cu.isExplicitlyEditable();if(ct==null){ct=this.opt("editable")}return ct},isEventDefResizableFromStart:function(ct){return this.opt("eventResizableFromStart")&&this.isEventDefResizable(ct)},isEventDefResizableFromEnd:function(ct){return this.isEventDefResizable(ct)},isEventDefResizable:function(ct){var cu=ct.isDurationExplicitlyEditable();if(cu==null){cu=this.opt("eventDurationEditable");if(cu==null){cu=this.isEventDefGenerallyEditable(ct)}}return cu},diffDates:function(cu,ct){if(this.largeUnit){return e(cu,ct,this.largeUnit)}else{return g(cu,ct)}},isEventInstanceGroupAllowed:function(cx){var cu=this._getView();var ct=this.dateProfile;var cw=this.eventRangesToEventFootprints(cx.getAllEventRanges());var cv;for(cv=0;cv<cw.length;cv++){if(!ct.validUnzonedRange.containsRange(cw[cv].componentFootprint.unzonedRange)){return false}}return cu.calendar.isEventInstanceGroupAllowed(cx)},isExternalInstanceGroupAllowed:function(cx){var cu=this._getView();var ct=this.dateProfile;var cw=this.eventRangesToEventFootprints(cx.getAllEventRanges());var cv;for(cv=0;cv<cw.length;cv++){if(!ct.validUnzonedRange.containsRange(cw[cv].componentFootprint.unzonedRange)){return false}}for(cv=0;cv<cw.length;cv++){if(!cu.calendar.isSelectionFootprintAllowed(cw[cv].componentFootprint)){return false}}return true}});var bv=D.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var cB=this.view;var cy=cB.calendar;var cw=cy.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,true);var cx=cy.msToUtcMoment(this.dateProfile.renderUnzonedRange.endMs,true);var ct=-1;var cv=[];var cA=[];var cC;var cu;var cz;while(cw.isBefore(cx)){if(cB.isHiddenDay(cw)){cv.push(ct+0.5)}else{ct++;cv.push(ct);cA.push(cw.clone())}cw.add(1,"days")}if(this.breakOnWeeks){cu=cA[0].day();for(cC=1;cC<cA.length;cC++){if(cA[cC].day()==cu){break}}cz=Math.ceil(cA.length/cC)}else{cz=1;cC=cA.length}this.dayDates=cA;this.dayIndices=cv;this.daysPerRow=cC;this.rowCnt=cz;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(cu,ct){return this.dayDates[this.getCellDayIndex(cu,ct)].clone()},getCellRange:function(cv,cu){var cw=this.getCellDate(cv,cu);var ct=cw.clone().add(1,"days");return{start:cw,end:ct}},getCellDayIndex:function(cu,ct){return cu*this.daysPerRow+this.getColDayIndex(ct)},getColDayIndex:function(ct){if(this.isRTL){return this.colCnt-1-ct}else{return ct}},getDateDayIndex:function(cv){var ct=this.dayIndices;var cu=cv.diff(this.dayDates[0],"days");if(cu<0){return ct[0]-1}else{if(cu>=ct.length){return ct[ct.length-1]+1}else{return ct[cu]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(cA){var cB=this.daysPerRow;var cv=this.view.computeDayRange(cA);var cu=this.getDateDayIndex(cv.start);var cx=this.getDateDayIndex(cv.end.clone().subtract(1,"days"));var ct=[];var cD;var cy,cz;var cC,cw;for(cD=0;cD<this.rowCnt;cD++){cy=cD*cB;cz=cy+cB-1;cC=Math.max(cu,cy);cw=Math.min(cx,cz);cC=Math.ceil(cC);cw=Math.floor(cw);if(cC<=cw){ct.push({row:cD,firstRowDayIndex:cC-cy,lastRowDayIndex:cw-cy,isStart:cC===cu,isEnd:cw===cx})}}return ct},sliceRangeByDay:function(cB){var cC=this.daysPerRow;var cw=this.view.computeDayRange(cB);var cu=this.getDateDayIndex(cw.start);var cy=this.getDateDayIndex(cw.end.clone().subtract(1,"days"));var ct=[];var cE;var cz,cA;var cv;var cD,cx;for(cE=0;cE<this.rowCnt;cE++){cz=cE*cC;cA=cz+cC-1;for(cv=cz;cv<=cA;cv++){cD=Math.max(cu,cv);cx=Math.min(cy,cv);cD=Math.ceil(cD);cx=Math.floor(cx);if(cD<=cx){ct.push({row:cE,firstRowDayIndex:cD-cz,lastRowDayIndex:cx-cz,isStart:cD===cu,isEnd:cx===cy})}}}return ct},renderHeadHtml:function(){var ct=this.view.calendar.theme;return'<div class="fc-row '+ct.getClass("headerRow")+'"><table class="'+ct.getClass("tableGrid")+'"><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var cv=[];var cu,ct;for(cu=0;cu<this.colCnt;cu++){ct=this.getCellDate(0,cu);cv.push(this.renderHeadDateCellHtml(ct))}return cv.join("")},renderHeadDateCellHtml:function(cw,cz,ct){var cu=this.view;var cx=this.dateProfile.activeUnzonedRange.containsDate(cw);var cy=["fc-day-header",cu.calendar.theme.getClass("widgetHeader")];var cv=be(cw.format(this.colHeadFormat));if(this.rowCnt===1){cy=cy.concat(this.getDayClasses(cw,true))}else{cy.push("fc-"+bk[cw.day()])}return'<th class="'+cy.join(" ")+'"'+((cx&&this.rowCnt)===1?' data-date="'+cw.format("YYYY-MM-DD")+'"':"")+(cz>1?' colspan="'+cz+'"':"")+(ct?" "+ct:"")+">"+(cx?cu.buildGotoAnchorHtml({date:cw,forceOff:this.rowCnt>1||this.colCnt===1},cv):cv)+"</th>"},renderBgTrHtml:function(ct){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(ct))+this.renderBgCellsHtml(ct)+(this.isRTL?this.renderBgIntroHtml(ct):"")+"</tr>"},renderBgIntroHtml:function(ct){return this.renderIntroHtml()},renderBgCellsHtml:function(cw){var cv=[];var cu,ct;for(cu=0;cu<this.colCnt;cu++){ct=this.getCellDate(cw,cu);cv.push(this.renderBgCellHtml(ct))}return cv.join("")},renderBgCellHtml:function(cv,ct){var cu=this.view;var cx=this.dateProfile.activeUnzonedRange.containsDate(cv);var cw=this.getDayClasses(cv);cw.unshift("fc-day",cu.calendar.theme.getClass("widgetContent"));return'<td class="'+cw.join(" ")+'"'+(cx?' data-date="'+cv.format("YYYY-MM-DD")+'"':"")+(ct?" "+ct:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(cu){var ct=this.renderIntroHtml();if(ct){if(this.isRTL){cu.append(ct)}else{cu.prepend(ct)}}}};var bp=D.View=a1.extend({type:null,name:null,title:null,calendar:null,viewSpec:null,options:null,renderQueue:null,batchRenderDepth:0,queuedScroll:null,isSelected:false,selectedEventInstance:null,eventOrderSpecs:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(cu,ct){this.calendar=cu;this.viewSpec=ct;this.type=ct.type;this.options=ct.options;this.name=this.type;a1.call(this);this.initRenderQueue();this.initHiddenDays();this.bindBaseRenderHandlers();this.eventOrderSpecs=a6(this.opt("eventOrder"));if(this.initialize){this.initialize()}},_getView:function(){return this},opt:function(ct){return this.options[ct]},initRenderQueue:function(){this.renderQueue=new br({event:this.opt("eventRenderWait")});this.renderQueue.on("start",this.onRenderQueueStart.bind(this));this.renderQueue.on("stop",this.onRenderQueueStop.bind(this));this.on("before:change",this.startBatchRender);this.on("change",this.stopBatchRender)},onRenderQueueStart:function(){this.calendar.freezeContentHeight();this.addScroll(this.queryScroll())},onRenderQueueStop:function(){if(this.calendar.updateViewSize()){this.popScroll()}this.calendar.thawContentHeight()},startBatchRender:function(){if(!(this.batchRenderDepth++)){this.renderQueue.pause()}},stopBatchRender:function(){if(!(--this.batchRenderDepth)){this.renderQueue.resume()}},requestRender:function(cv,cu,ct){this.renderQueue.queue(cv,cu,ct)},whenSizeUpdated:function(ct){if(this.renderQueue.isRunning){this.renderQueue.one("stop",ct.bind(this))}else{ct.call(this)}},computeTitle:function(ct){var cu;if(/^(year|month)$/.test(ct.currentRangeUnit)){cu=ct.currentUnzonedRange}else{cu=ct.activeUnzonedRange}return this.formatRange({start:this.calendar.msToMoment(cu.startMs,ct.isRangeAllDay),end:this.calendar.msToMoment(cu.endMs,ct.isRangeAllDay)},ct.isRangeAllDay,this.opt("titleFormat")||this.computeTitleFormat(ct),this.opt("titleRangeSeparator"))},computeTitleFormat:function(cu){var ct=cu.currentRangeUnit;if(ct=="year"){return"YYYY"}else{if(ct=="month"){return this.opt("monthYearFormat")}else{if(cu.currentUnzonedRange.as("days")>1){return"ll"}else{return"LL"}}}},setDate:function(cu){var cv=this.get("dateProfile");var ct=this.buildDateProfile(cu,null,true);if(!cv||!cv.activeUnzonedRange.equals(ct.activeUnzonedRange)){this.set("dateProfile",ct)}},unsetDate:function(){this.unset("dateProfile")},fetchInitialEvents:function(cu){var cv=this.calendar;var ct=cu.isRangeAllDay&&!this.usesMinMaxTime;return cv.requestEvents(cv.msToMoment(cu.activeUnzonedRange.startMs,ct),cv.msToMoment(cu.activeUnzonedRange.endMs,ct))},bindEventChanges:function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},unbindEventChanges:function(){this.stopListeningTo(this.calendar,"eventsReset")},setEvents:function(ct){this.set("currentEvents",ct);this.set("hasEvents",true)},unsetEvents:function(){this.unset("currentEvents");this.unset("hasEvents")},resetEvents:function(ct){this.startBatchRender();this.unsetEvents();this.setEvents(ct);this.stopBatchRender()},requestDateRender:function(ct){var cu=this;this.requestRender(function(){cu.executeDateRender(ct)},"date","init")},requestDateUnrender:function(){var ct=this;this.requestRender(function(){ct.executeDateUnrender()},"date","destroy")},executeDateRender:function(ct){bt.prototype.executeDateRender.apply(this,arguments);if(this.render){this.render()}this.trigger("datesRendered");this.addScroll({isDateInit:true});this.startNowIndicator()},executeDateUnrender:function(){this.unselect();this.stopNowIndicator();this.trigger("before:datesUnrendered");if(this.destroy){this.destroy()}bt.prototype.executeDateUnrender.apply(this,arguments)},bindBaseRenderHandlers:function(){var ct=this;this.on("datesRendered",function(){ct.whenSizeUpdated(ct.triggerViewRender)});this.on("before:datesUnrendered",function(){ct.triggerViewDestroy()})},triggerViewRender:function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},triggerViewDestroy:function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},requestEventsRender:function(ct){var cu=this;this.requestRender(function(){cu.executeEventRender(ct);cu.whenSizeUpdated(cu.triggerAfterEventsRendered)},"event","init")},requestEventsUnrender:function(){var ct=this;this.requestRender(function(){ct.triggerBeforeEventsDestroyed();ct.executeEventUnrender()},"event","destroy")},requestBusinessHoursRender:function(ct){var cu=this;this.requestRender(function(){cu.renderBusinessHours(ct)},"businessHours","init")},requestBusinessHoursUnrender:function(){var ct=this;this.requestRender(function(){ct.unrenderBusinessHours()},"businessHours","destroy")},bindGlobalHandlers:function(){a1.prototype.bindGlobalHandlers.apply(this,arguments);this.listenTo(aD.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){a1.prototype.unbindGlobalHandlers.apply(this,arguments);this.stopListeningTo(aD.get())},startNowIndicator:function(){var cw=this;var cu;var cv;var ct;if(this.opt("nowIndicator")){cu=this.getNowIndicatorUnit();if(cu){cv=a8(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();ct=this.initialNowDate.clone().startOf(cu).add(1,cu)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){cw.nowIndicatorTimeoutID=null;cv();ct=+bH.duration(1,cu);ct=Math.max(100,ct);cw.nowIndicatorIntervalID=setInterval(cv,ct)},ct)}}},updateNowIndicator:function(){if(this.isDatesRendered&&this.initialNowDate){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs));this.isNowIndicatorRendered=true}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},updateSize:function(cv,cu,ct){if(this.setHeight){this.setHeight(cv,cu)}else{a1.prototype.updateSize.apply(this,arguments)}this.updateNowIndicator()},addScroll:function(cu){var ct=this.queuedScroll||(this.queuedScroll={});b9.extend(ct,cu)},popScroll:function(){this.applyQueuedScroll();this.queuedScroll=null},applyQueuedScroll:function(){if(this.queuedScroll){this.applyScroll(this.queuedScroll)}},queryScroll:function(){var ct={};if(this.isDatesRendered){b9.extend(ct,this.queryDateScroll())}return ct},applyScroll:function(ct){if(ct.isDateInit&&this.isDatesRendered){b9.extend(ct,this.computeInitialDateScroll())}if(this.isDatesRendered){this.applyDateScroll(ct)}},computeInitialDateScroll:function(){return{}},queryDateScroll:function(){return{}},applyDateScroll:function(ct){},reportEventDrop:function(cy,cz,cw,cx){var cu=this.calendar.eventManager;var ct=cu.mutateEventsWithId(cy.def.id,cz,this.calendar);var cv=cz.dateMutation;if(cv){cy.dateProfile=cv.buildNewDateProfile(cy.dateProfile,this.calendar)}this.triggerEventDrop(cy,(cv&&cv.dateDelta)||bH.duration(),ct,cw,cx)},triggerEventDrop:function(cw,cx,ct,cu,cv){this.publiclyTrigger("eventDrop",{context:cu[0],args:[cw.toLegacy(),cx,ct,cv,{},this]})},reportExternalDrop:function(ct,cy,cv,cu,cw,cx){if(cy){this.calendar.eventManager.addEventDef(ct,cv)}this.triggerExternalDrop(ct,cy,cu,cw,cx)},triggerExternalDrop:function(ct,cx,cu,cv,cw){this.publiclyTrigger("drop",{context:cu[0],args:[ct.dateProfile.start.clone(),cv,cw,this]});if(cx){this.publiclyTrigger("eventReceive",{context:this,args:[ct.buildInstance().toLegacy(),this]})}},reportEventResize:function(cx,cy,cv,cw){var cu=this.calendar.eventManager;var ct=cu.mutateEventsWithId(cx.def.id,cy,this.calendar);cx.dateProfile=cy.dateMutation.buildNewDateProfile(cx.dateProfile,this.calendar);this.triggerEventResize(cx,cy.dateMutation.endDelta,ct,cv,cw)},triggerEventResize:function(cx,cu,ct,cv,cw){this.publiclyTrigger("eventResize",{context:cv[0],args:[cx.toLegacy(),cu,ct,cw,{},this]})},select:function(ct,cu){this.unselect(cu);this.renderSelectionFootprint(ct);this.reportSelection(ct,cu)},renderSelectionFootprint:function(ct,cu){if(this.renderSelection){this.renderSelection(ct.toLegacy(this.calendar))}else{a1.prototype.renderSelectionFootprint.apply(this,arguments)}},reportSelection:function(ct,cu){this.isSelected=true;this.triggerSelect(ct,cu)},triggerSelect:function(cu,cv){var ct=this.calendar.footprintToDateProfile(cu);this.publiclyTrigger("select",{context:this,args:[ct.start,ct.end,cv,this]})},unselect:function(ct){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.publiclyTrigger("unselect",{context:this,args:[ct,this]})}},selectEventInstance:function(ct){if(!this.selectedEventInstance||this.selectedEventInstance!==ct){this.unselectEventInstance();this.getEventSegs().forEach(function(cu){if(cu.footprint.eventInstance===ct&&cu.el){cu.el.addClass("fc-selected")}});this.selectedEventInstance=ct}},unselectEventInstance:function(){if(this.selectedEventInstance){this.getEventSegs().forEach(function(ct){if(ct.el){ct.el.removeClass("fc-selected")}});this.selectedEventInstance=null}},isEventDefSelected:function(ct){return this.selectedEventInstance&&this.selectedEventInstance.def.id===ct.id},handleDocumentMousedown:function(ct){if(cm(ct)){this.processUnselect(ct)}},processUnselect:function(ct){this.processRangeUnselect(ct);this.processEventUnselect(ct)},processRangeUnselect:function(ct){var cu;if(this.isSelected&&this.opt("unselectAuto")){cu=this.opt("unselectCancel");if(!cu||!b9(ct.target).closest(cu).length){this.unselect(ct)}}},processEventUnselect:function(ct){if(this.selectedEventInstance){if(!b9(ct.target).closest(".fc-selected").length){this.unselectEventInstance()}}},triggerBaseRendered:function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},triggerBaseUnrendered:function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},triggerDayClick:function(cu,cw,cv){var ct=this.calendar.footprintToDateProfile(cu);this.publiclyTrigger("dayClick",{context:cw,args:[ct.start,cv,this]})}});bp.watch("displayingDates",["isInDom","dateProfile"],function(ct){this.requestDateRender(ct.dateProfile)},function(){this.requestDateUnrender()});bp.watch("displayingBusinessHours",["displayingDates","businessHourGenerator"],function(ct){this.requestBusinessHoursRender(ct.businessHourGenerator)},function(){this.requestBusinessHoursUnrender()});bp.watch("initialEvents",["dateProfile"],function(ct){return this.fetchInitialEvents(ct.dateProfile)});bp.watch("bindingEvents",["initialEvents"],function(ct){this.setEvents(ct.initialEvents);this.bindEventChanges()},function(){this.unbindEventChanges();this.unsetEvents()});bp.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()});bp.watch("title",["dateProfile"],function(ct){return(this.title=this.computeTitle(ct.dateProfile))});bp.watch("legacyDateProps",["dateProfile"],function(cv){var cu=this.calendar;var ct=cv.dateProfile;this.start=cu.msToMoment(ct.activeUnzonedRange.startMs,ct.isRangeAllDay);this.end=cu.msToMoment(ct.activeUnzonedRange.endMs,ct.isRangeAllDay);this.intervalStart=cu.msToMoment(ct.currentUnzonedRange.startMs,ct.isRangeAllDay);this.intervalEnd=cu.msToMoment(ct.currentUnzonedRange.endMs,ct.isRangeAllDay)});bp.mixin({usesMinMaxTime:false,start:null,end:null,intervalStart:null,intervalEnd:null,buildPrevDateProfile:function(cu){var ct=this.get("dateProfile");var cv=cu.clone().startOf(ct.currentRangeUnit).subtract(ct.dateIncrement);return this.buildDateProfile(cv,-1)},buildNextDateProfile:function(cu){var ct=this.get("dateProfile");var cv=cu.clone().startOf(ct.currentRangeUnit).add(ct.dateIncrement);return this.buildDateProfile(cv,1)},buildDateProfile:function(cw,cB,cv){var cD=!cw.hasTime();var cE;var cy=null;var cu=null;var ct;var cz;var cA;var cx;var cC;cE=this.buildValidRange();cE=this.trimHiddenDays(cE);if(cv){cw=this.calendar.msToUtcMoment(cE.constrainDate(cw),cD)}ct=this.buildCurrentRangeInfo(cw,cB);cz=/^(year|month|week|day)$/.test(ct.unit);cA=this.buildRenderRange(this.trimHiddenDays(ct.unzonedRange),ct.unit,cz);cA=this.trimHiddenDays(cA);cx=cA.clone();if(!this.opt("showNonCurrentDates")){cx=cx.intersect(ct.unzonedRange)}cy=bH.duration(this.opt("minTime"));cu=bH.duration(this.opt("maxTime"));cx=this.adjustActiveRange(cx,cy,cu);cx=cx.intersect(cE);if(cx){cw=this.calendar.msToUtcMoment(cx.constrainDate(cw),cD)}cC=ct.unzonedRange.intersectsWith(cE);return{validUnzonedRange:cE,currentUnzonedRange:ct.unzonedRange,currentRangeUnit:ct.unit,isRangeAllDay:cz,activeUnzonedRange:cx,renderUnzonedRange:cA,minTime:cy,maxTime:cu,isValid:cC,date:cw,dateIncrement:this.buildDateIncrement(ct.duration)}},buildValidRange:function(){return this.getUnzonedRangeOption("validRange",this.calendar.getNow())||new aC()},buildCurrentRangeInfo:function(cu,cy){var cx=null;var cv=null;var ct=null;var cw;if(this.viewSpec.duration){cx=this.viewSpec.duration;cv=this.viewSpec.durationUnit;ct=this.buildRangeFromDuration(cu,cy,cx,cv)}else{if((cw=this.opt("dayCount"))){cv="day";ct=this.buildRangeFromDayCount(cu,cy,cw)}else{if((ct=this.buildCustomVisibleRange(cu))){cv=a2(ct.getStart(),ct.getEnd())}else{cx=this.getFallbackDuration();cv=a2(cx);ct=this.buildRangeFromDuration(cu,cy,cx,cv)}}}return{duration:cx,unit:cv,unzonedRange:ct}},getFallbackDuration:function(){return bH.duration({days:1})},adjustActiveRange:function(cv,cu,cw){var cx=cv.getStart();var ct=cv.getEnd();if(this.usesMinMaxTime){if(cu<0){cx.time(0).add(cu)}if(cw>24*60*60*1000){ct.time(cw-(24*60*60*1000))}}return new aC(cx,ct)},buildRangeFromDuration:function(cv,cA,cw,cB){var cz=this.opt("dateAlignment");var cu=cv.clone();var cx;var ct;var cy;if(cw.as("days")<=1){if(this.isHiddenDay(cu)){cu=this.skipHiddenDays(cu,cA);cu.startOf("day")}}if(!cz){ct=this.opt("dateIncrement");if(ct){cy=bH.duration(ct);if(cy<cw){cz=f(cy,ct)}else{cz=cB}}else{cz=cB}}cu.startOf(cz);cx=cu.clone().add(cw);return new aC(cu,cx)},buildRangeFromDayCount:function(cw,cy,cx){var cv=this.opt("dateAlignment");var ct=0;var cz=cw.clone();var cu;if(cv){cz.startOf(cv)}cz.startOf("day");cz=this.skipHiddenDays(cz,cy);cu=cz.clone();do{cu.add(1,"day");if(!this.isHiddenDay(cu)){ct++}}while(ct<cx);return new aC(cz,cu)},buildCustomVisibleRange:function(ct){var cu=this.getUnzonedRangeOption("visibleRange",this.calendar.applyTimezone(ct));if(cu&&(cu.startMs===null||cu.endMs===null)){return null}return cu},buildRenderRange:function(cv,ct,cu){return cv.clone()},buildDateIncrement:function(cv){var cu=this.opt("dateIncrement");var ct;if(cu){return bH.duration(cu)}else{if((ct=this.opt("dateAlignment"))){return bH.duration(1,ct)}else{if(cv){return cv}else{return bH.duration({days:1})}}}},trimHiddenDays:function(cu){var cv=cu.getStart();var ct=cu.getEnd();if(cv){cv=this.skipHiddenDays(cv)}if(ct){ct=this.skipHiddenDays(ct,-1,true)}return new aC(cv,ct)},isDateInOtherMonth:function(cu,ct){return false},getUnzonedRangeOption:function(ct){var cu=this.opt(ct);if(typeof cu==="function"){cu=cu.apply(null,Array.prototype.slice.call(arguments,1))}if(cu){return this.calendar.parseUnzonedRange(cu)}},initHiddenDays:function(){var cu=this.opt("hiddenDays")||[];var cw=[];var ct=0;var cv;if(this.opt("weekends")===false){cu.push(0,6)}for(cv=0;cv<7;cv++){if(!(cw[cv]=b9.inArray(cv,cu)!==-1)){ct++}}if(!ct){throw"invalid hiddenDays"}this.isHiddenDayHash=cw},isHiddenDay:function(ct){if(bH.isMoment(ct)){ct=ct.day()}return this.isHiddenDayHash[ct]},skipHiddenDays:function(cv,cw,ct){var cu=cv.clone();cw=cw||1;while(this.isHiddenDayHash[(cu.day()+(ct?cw:0)+7)%7]){cu.add(cw,"days")}return cu}});function bD(cA,ct){var cH=this;cH.setToolbarOptions=cy;cH.render=cv;cH.removeElement=cD;cH.updateTitle=cB;cH.activateButton=cu;cH.deactivateButton=cF;cH.disableButton=cz;cH.enableButton=cC;cH.getViewsWithButtons=cx;cH.el=null;var cw;var cE=[];function cy(cI){ct=cI}function cv(){var cI=ct.layout;if(cI){if(!cw){cw=this.el=b9("<div class='fc-toolbar "+ct.extraClasses+"'/>")}else{cw.empty()}cw.append(cG("left")).append(cG("right")).append(cG("center")).append('<div class="fc-clear"/>')}else{cD()}}function cD(){if(cw){cw.remove();cw=cH.el=null}}function cG(cI){var cO=cA.theme;var cJ=b9('<div class="fc-'+cI+'"/>');var cN=ct.layout[cI];var cM=cA.opt("customButtons")||{};var cL=cA.overrides.buttonText||{};var cK=cA.opt("buttonText")||{};if(cN){b9.each(cN.split(" "),function(cP){var cQ=b9();var cR=true;var cS;b9.each(this.split(","),function(cV,c2){var c1;var cY;var cW;var cZ;var c0;var cT;var cU;var cX;if(c2=="title"){cQ=cQ.add(b9("<h2>&nbsp;</h2>"));cR=false}else{if((c1=cM[c2])){cW=function(c3){if(c1.click){c1.click.call(cX[0],c3)}};(cZ=cO.getCustomButtonIconClass(c1))||(cZ=cO.getIconClass(c2))||(c0=c1.text)}else{if((cY=cA.getViewSpec(c2))){cE.push(c2);cW=function(){cA.changeView(c2)};(c0=cY.buttonTextOverride)||(cZ=cO.getIconClass(c2))||(c0=cY.buttonTextDefault)}else{if(cA[c2]){cW=function(){cA[c2]()};(c0=cL[c2])||(cZ=cO.getIconClass(c2))||(c0=cK[c2])}}}if(cW){cU=["fc-"+c2+"-button",cO.getClass("button"),cO.getClass("stateDefault")];if(c0){cT=be(c0)}else{if(cZ){cT="<span class='"+cZ+"'></span>"}}cX=b9('<button type="button" class="'+cU.join(" ")+'">'+cT+"</button>").click(function(c3){if(!cX.hasClass(cO.getClass("stateDisabled"))){cW(c3);if(cX.hasClass(cO.getClass("stateActive"))||cX.hasClass(cO.getClass("stateDisabled"))){cX.removeClass(cO.getClass("stateHover"))}}}).mousedown(function(){cX.not("."+cO.getClass("stateActive")).not("."+cO.getClass("stateDisabled")).addClass(cO.getClass("stateDown"))}).mouseup(function(){cX.removeClass(cO.getClass("stateDown"))}).hover(function(){cX.not("."+cO.getClass("stateActive")).not("."+cO.getClass("stateDisabled")).addClass(cO.getClass("stateHover"))},function(){cX.removeClass(cO.getClass("stateHover")).removeClass(cO.getClass("stateDown"))});cQ=cQ.add(cX)}}});if(cR){cQ.first().addClass(cO.getClass("cornerLeft")).end().last().addClass(cO.getClass("cornerRight")).end()}if(cQ.length>1){cS=b9("<div/>");if(cR){cS.addClass(cO.getClass("buttonGroup"))}cS.append(cQ);cJ.append(cS)}else{cJ.append(cQ)}})}return cJ}function cB(cI){if(cw){cw.find("h2").text(cI)}}function cu(cI){if(cw){cw.find(".fc-"+cI+"-button").addClass(cA.theme.getClass("stateActive"))}}function cF(cI){if(cw){cw.find(".fc-"+cI+"-button").removeClass(cA.theme.getClass("stateActive"))}}function cz(cI){if(cw){cw.find(".fc-"+cI+"-button").prop("disabled",true).addClass(cA.theme.getClass("stateDisabled"))}}function cC(cI){if(cw){cw.find(".fc-"+cI+"-button").prop("disabled",false).removeClass(cA.theme.getClass("stateDisabled"))}}function cx(){return cE}}var A=D.Calendar=aW.extend(B,aH,{view:null,viewsByType:null,currentDate:null,theme:null,businessHourGenerator:null,loadingLevel:0,constructor:function(ct,cu){aD.needed();this.el=ct;this.viewsByType={};this.viewSpecCache={};this.initOptionsInternals(cu);this.initMomentInternals();this.initCurrentDate();this.initEventManager();this.constructed()},constructed:function(){},getView:function(){return this.view},publiclyTrigger:function(cu,cx){var cw=this.opt(cu);var cv;var ct;if(b9.isPlainObject(cx)){cv=cx.context;ct=cx.args}else{if(b9.isArray(cx)){ct=cx}}if(cv==null){cv=this.el[0]}if(!ct){ct=[]}this.triggerWith(cu,cv,ct);if(cw){return cw.apply(cv,ct)}},hasPublicHandlers:function(ct){return this.hasHandlers(ct)||this.opt(ct)},instantiateView:function(ct){var cu=this.getViewSpec(ct);return new cu["class"](this,cu)},isValidViewType:function(ct){return Boolean(this.getViewSpec(ct))},changeView:function(cu,ct){if(ct){if(ct.start&&ct.end){this.recordOptionOverrides({visibleRange:ct})}else{this.currentDate=this.moment(ct).stripZone()}}this.renderView(cu)},zoomTo:function(cu,ct){var cv;ct=ct||"day";cv=this.getViewSpec(ct)||this.getUnitViewSpec(ct);this.currentDate=cu.clone();this.renderView(cv?cv.type:null)},initCurrentDate:function(){var ct=this.opt("defaultDate");if(ct!=null){this.currentDate=this.moment(ct).stripZone()}else{this.currentDate=this.getNow()}},prev:function(){var ct=this.view.buildPrevDateProfile(this.currentDate);if(ct.isValid){this.currentDate=ct.date;this.renderView()}},next:function(){var ct=this.view.buildNextDateProfile(this.currentDate);if(ct.isValid){this.currentDate=ct.date;this.renderView()}},prevYear:function(){this.currentDate.add(-1,"years");this.renderView()},nextYear:function(){this.currentDate.add(1,"years");this.renderView()},today:function(){this.currentDate=this.getNow();this.renderView()},gotoDate:function(ct){this.currentDate=this.moment(ct).stripZone();this.renderView()},incrementDate:function(ct){this.currentDate.add(bH.duration(ct));this.renderView()},getDate:function(){return this.applyTimezone(this.currentDate)},pushLoading:function(){if(!(this.loadingLevel++)){this.publiclyTrigger("loading",[true,this.view])}},popLoading:function(){if(!(--this.loadingLevel)){this.publiclyTrigger("loading",[false,this.view])}},select:function(ct,cu){this.view.select(this.buildSelectFootprint.apply(this,arguments))},unselect:function(){if(this.view){this.view.unselect()}},buildSelectFootprint:function(cu,cv){var cw=this.moment(cu).stripZone();var ct;if(cv){ct=this.moment(cv).stripZone()}else{if(cw.hasTime()){ct=cw.clone().add(this.defaultTimedEventDuration)}else{ct=cw.clone().add(this.defaultAllDayEventDuration)}}return new u(new aC(cw,ct),!cw.hasTime())},parseUnzonedRange:function(cv){var cu=null;var ct=null;if(cv.start){cu=this.moment(cv.start).stripZone()}if(cv.end){ct=this.moment(cv.end).stripZone()}if(!cu&&!ct){return null}if(cu&&ct&&ct.isBefore(cu)){return null}return new aC(cu,ct)},rerenderEvents:function(){this.view.flash("displayingEvents")},initEventManager:function(){var cw=this;var ct=new bj(this);var cu=this.opt("eventSources")||[];var cv=this.opt("events");this.eventManager=ct;if(cv){cu.unshift(cv)}ct.on("release",function(cx){cw.trigger("eventsReset",cx)});ct.freeze();cu.forEach(function(cy){var cx=bU.parse(cy,cw);if(cx){ct.addSource(cx)}});ct.thaw()},requestEvents:function(cu,ct){return this.eventManager.requestEvents(cu,ct,this.opt("timezone"),!this.opt("lazyFetching"))}});A.mixin({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,optionsModel:null,initOptionsInternals:function(ct){this.overrides=b9.extend({},ct);this.dynamicOverrides={};this.optionsModel=new ck();this.populateOptionsHash()},option:function(ct,cv){var cu;if(typeof ct==="string"){if(cv===undefined){return this.optionsModel.get(ct)}else{cu={};cu[ct]=cv;this.setOptions(cu)}}else{if(typeof ct==="object"){this.setOptions(ct)}}},opt:function(ct){return this.optionsModel.get(ct)},setOptions:function(cv){var ct=0;var cu;this.recordOptionOverrides(cv);for(cu in cv){ct++}if(ct===1){if(cu==="height"||cu==="contentHeight"||cu==="aspectRatio"){this.updateViewSize(true);return}else{if(cu==="defaultDate"){return}else{if(cu==="businessHours"){return}else{if(cu==="timezone"){this.view.flash("initialEvents");return}}}}}this.renderHeader();this.renderFooter();this.viewsByType={};this.reinitView()},populateOptionsHash:function(){var ct,cu;var cw,cx;var cv;ct=aj(this.dynamicOverrides.locale,this.overrides.locale);cu=aq[ct];if(!cu){ct=A.defaults.locale;cu=aq[ct]||{}}cw=aj(this.dynamicOverrides.isRTL,this.overrides.isRTL,cu.isRTL,A.defaults.isRTL);cx=cw?A.rtlDefaults:{};this.dirDefaults=cx;this.localeDefaults=cu;cv=bq([A.defaults,cx,cu,this.overrides,this.dynamicOverrides]);bo(cv);this.optionsModel.reset(cv)},recordOptionOverrides:function(cu){var ct;for(ct in cu){this.dynamicOverrides[ct]=cu[ct]}this.viewSpecCache={};this.populateOptionsHash()}});A.mixin({defaultAllDayEventDuration:null,defaultTimedEventDuration:null,localeData:null,initMomentInternals:function(){var ct=this;this.defaultAllDayEventDuration=bH.duration(this.opt("defaultAllDayEventDuration"));this.defaultTimedEventDuration=bH.duration(this.opt("defaultTimedEventDuration"));this.optionsModel.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(cx){var cy=cx.weekNumberCalculation;var cv=cx.firstDay;var cu;if(cy==="iso"){cy="ISO"}var cw=Object.create(X(cx.locale));if(cx.monthNames){cw._months=cx.monthNames}if(cx.monthNamesShort){cw._monthsShort=cx.monthNamesShort}if(cx.dayNames){cw._weekdays=cx.dayNames}if(cx.dayNamesShort){cw._weekdaysShort=cx.dayNamesShort}if(cv==null&&cy==="ISO"){cv=1}if(cv!=null){cu=Object.create(cw._week);cu.dow=cv;cw._week=cu}if(cy==="ISO"||cy==="local"||typeof cy==="function"){cw._fullCalendar_weekCalc=cy}ct.localeData=cw;if(ct.currentDate){ct.localizeMoment(ct.currentDate)}})},moment:function(){var ct;if(this.opt("timezone")==="local"){ct=D.moment.apply(null,arguments);if(ct.hasTime()){ct.local()}}else{if(this.opt("timezone")==="UTC"){ct=D.moment.utc.apply(null,arguments)}else{ct=D.moment.parseZone.apply(null,arguments)}}this.localizeMoment(ct);return ct},msToMoment:function(cu,ct){var cv=D.moment.utc(cu);if(ct){cv.stripTime()}else{cv=this.applyTimezone(cv)}this.localizeMoment(cv);return cv},msToUtcMoment:function(cu,ct){var cv=D.moment.utc(cu);if(ct){cv.stripTime()}this.localizeMoment(cv);return cv},localizeMoment:function(ct){ct._locale=this.localeData},getIsAmbigTimezone:function(){return this.opt("timezone")!=="local"&&this.opt("timezone")!=="UTC"},applyTimezone:function(ct){if(!ct.hasTime()){return ct.clone()}var cu=this.moment(ct.toArray());var cw=ct.time()-cu.time();var cv;if(cw){cv=cu.clone().add(cw);if(ct.time()-cv.time()===0){cu=cv}}return cu},footprintToDateProfile:function(cu,cv){var cw=D.moment.utc(cu.unzonedRange.startMs);var ct;if(!cv){ct=D.moment.utc(cu.unzonedRange.endMs)}if(cu.isAllDay){cw.stripTime();if(ct){ct.stripTime()}}else{cw=this.applyTimezone(cw);if(ct){ct=this.applyTimezone(ct)}}return new F(cw,ct,this)},getNow:function(){var ct=this.opt("now");if(typeof ct==="function"){ct=ct()}return this.moment(ct).stripZone()},humanizeDuration:function(ct){return ct.locale(this.opt("locale")).humanize()},getEventEnd:function(ct){if(ct.end){return ct.end.clone()}else{return this.getDefaultEventEnd(ct.allDay,ct.start)}},getDefaultEventEnd:function(cu,cv){var ct=cv.clone();if(cu){ct.stripTime().add(this.defaultAllDayEventDuration)}else{ct.add(this.defaultTimedEventDuration)}if(this.getIsAmbigTimezone()){ct.stripZone()}return ct}});A.mixin({viewSpecCache:null,getViewSpec:function(ct){var cu=this.viewSpecCache;return cu[ct]||(cu[ct]=this.buildViewSpec(ct))},getUnitViewSpec:function(cw){var cv;var cu;var ct;if(b9.inArray(cw,k)!=-1){cv=this.header.getViewsWithButtons();b9.each(D.views,function(cx){cv.push(cx)});for(cu=0;cu<cv.length;cu++){ct=this.getViewSpec(cv[cu]);if(ct){if(ct.singleUnit==cw){return ct}}}}},buildViewSpec:function(cv){var cy=this.overrides.views||{};var cx=[];var cD=[];var ct=[];var cw=cv;var cC;var cB;var cA;var cu;var cz;while(cw){cC=an[cw];cB=cy[cw];cw=null;if(typeof cC==="function"){cC={"class":cC}}if(cC){cx.unshift(cC);cD.unshift(cC.defaults||{});cA=cA||cC.duration;cw=cw||cC.type}if(cB){ct.unshift(cB);cA=cA||cB.duration;cw=cw||cB.type}}cC=co(cx);cC.type=cv;if(!cC["class"]){return false}cA=cA||this.dynamicOverrides.duration||this.overrides.duration;if(cA){cu=bH.duration(cA);if(cu.valueOf()){cz=f(cu,cA);cC.duration=cu;cC.durationUnit=cz;if(cu.as(cz)===1){cC.singleUnit=cz;ct.unshift(cy[cz]||{})}}}cC.defaults=bq(cD);cC.overrides=bq(ct);this.buildViewSpecOptions(cC);this.buildViewSpecButtonText(cC,cv);return cC},buildViewSpecOptions:function(ct){ct.options=bq([A.defaults,ct.defaults,this.dirDefaults,this.localeDefaults,this.overrides,ct.overrides,this.dynamicOverrides]);bo(ct.options)},buildViewSpecButtonText:function(cu,cv){function ct(cw){var cx=cw.buttonText||{};return cx[cv]||(cu.buttonTextKey?cx[cu.buttonTextKey]:null)||(cu.singleUnit?cx[cu.singleUnit]:null)}cu.buttonTextOverride=ct(this.dynamicOverrides)||ct(this.overrides)||cu.overrides.buttonText;cu.buttonTextDefault=ct(this.localeDefaults)||ct(this.dirDefaults)||cu.defaults.buttonText||ct(A.defaults)||(cu.duration?this.humanizeDuration(cu.duration):null)||cv}});A.mixin({el:null,contentEl:null,suggestedViewHeight:null,ignoreUpdateViewSize:0,freezeContentHeightDepth:0,windowResizeProxy:null,render:function(){if(!this.contentEl){this.initialRender()}else{if(this.elementVisible()){this.calcSize();this.renderView()}}},initialRender:function(){var cu=this;var ct=this.el;ct.addClass("fc");ct.on("click.fc","a[data-goto]",function(cz){var cA=b9(this);var cy=cA.data("goto");var cw=cu.moment(cy.date);var cv=cy.type;var cx=cu.view.opt("navLink"+q(cv)+"Click");if(typeof cx==="function"){cx(cw,cz)}else{if(typeof cx==="string"){cv=cx}cu.zoomTo(cw,cv)}});this.optionsModel.watch("settingTheme",["?theme","?themeSystem"],function(cv){var cy=h.getThemeClass(cv.themeSystem||cv.theme);var cw=new cy(cu.optionsModel);var cx=cw.getClass("widget");cu.theme=cw;if(cx){ct.addClass(cx)}},function(){var cv=cu.theme.getClass("widget");cu.theme=null;if(cv){ct.removeClass(cv)}});this.optionsModel.watch("settingBusinessHourGenerator",["?businessHours"],function(cv){cu.businessHourGenerator=new aQ(cv.businessHours,cu);if(cu.view){cu.view.set("businessHourGenerator",cu.businessHourGenerator)}},function(){cu.businessHourGenerator=null});this.optionsModel.watch("applyingDirClasses",["?isRTL","?locale"],function(cv){ct.toggleClass("fc-ltr",!cv.isRTL);ct.toggleClass("fc-rtl",cv.isRTL)});this.contentEl=b9("<div class='fc-view-container'/>").prependTo(ct);this.initToolbars();this.renderHeader();this.renderFooter();this.renderView(this.opt("defaultView"));if(this.opt("handleWindowResize")){b9(window).resize(this.windowResizeProxy=bO(this.windowResize.bind(this),this.opt("windowResizeDelay")))}},destroy:function(){if(this.view){this.clearView()}this.toolbarsManager.proxyCall("removeElement");this.contentEl.remove();this.el.removeClass("fc fc-ltr fc-rtl");this.optionsModel.unwatch("settingTheme");this.optionsModel.unwatch("settingBusinessHourGenerator");this.el.off(".fc");if(this.windowResizeProxy){b9(window).unbind("resize",this.windowResizeProxy);this.windowResizeProxy=null}aD.unneeded()},elementVisible:function(){return this.el.is(":visible")},bindViewHandlers:function(ct){var cu=this;ct.watch("titleForCalendar",["title"],function(cv){if(ct===cu.view){cu.setToolbarsTitle(cv.title)}});ct.watch("dateProfileForCalendar",["dateProfile"],function(cv){if(ct===cu.view){cu.currentDate=cv.dateProfile.date;cu.updateToolbarButtons(cv.dateProfile)}})},unbindViewHandlers:function(ct){this.stopListeningTo(ct);ct.unwatch("titleForCalendar");ct.unwatch("dateProfileForCalendar")},renderView:function(ct){var cu=this.view;var cv;this.freezeContentHeight();if(cu&&ct&&cu.type!==ct){this.clearView()}if(!this.view&&ct){cv=this.view=this.viewsByType[ct]||(this.viewsByType[ct]=this.instantiateView(ct));this.bindViewHandlers(cv);cv.setElement(b9("<div class='fc-view fc-"+ct+"-view' />").appendTo(this.contentEl));this.toolbarsManager.proxyCall("activateButton",ct)}if(this.view){if(this.view.get("businessHourGenerator")!==this.businessHourGenerator){this.view.set("businessHourGenerator",this.businessHourGenerator)}this.view.setDate(this.currentDate)}this.thawContentHeight()},clearView:function(){var ct=this.view;this.toolbarsManager.proxyCall("deactivateButton",ct.type);this.unbindViewHandlers(ct);ct.removeElement();this.view=null},reinitView:function(){var cu=this.view;var ct=cu.queryScroll();this.freezeContentHeight();this.clearView();this.calcSize();this.renderView(cu.type);this.view.applyScroll(ct);this.thawContentHeight()},getSuggestedViewHeight:function(){if(this.suggestedViewHeight===null){this.calcSize()}return this.suggestedViewHeight},isHeightAuto:function(){return this.opt("contentHeight")==="auto"||this.opt("height")==="auto"},updateViewSize:function(cu){var cv=this.view;var ct;if(!this.ignoreUpdateViewSize&&cv){if(cu){this.calcSize();ct=cv.queryScroll()}this.ignoreUpdateViewSize++;cv.updateSize(this.getSuggestedViewHeight(),this.isHeightAuto(),cu);this.ignoreUpdateViewSize--;if(cu){cv.applyScroll(ct)}return true}},calcSize:function(){if(this.elementVisible()){this._calcSize()}},_calcSize:function(){var cu=this.opt("contentHeight");var ct=this.opt("height");if(typeof cu==="number"){this.suggestedViewHeight=cu}else{if(typeof cu==="function"){this.suggestedViewHeight=cu()}else{if(typeof ct==="number"){this.suggestedViewHeight=ct-this.queryToolbarsHeight()}else{if(typeof ct==="function"){this.suggestedViewHeight=ct()-this.queryToolbarsHeight()}else{if(ct==="parent"){this.suggestedViewHeight=this.el.parent().height()-this.queryToolbarsHeight()}else{this.suggestedViewHeight=Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),0.5))}}}}}},windowResize:function(ct){if(ct.target===window&&this.view&&this.view.isDatesRendered){if(this.updateViewSize(true)){this.publiclyTrigger("windowResize",[this.view])}}},freezeContentHeight:function(){if(!(this.freezeContentHeightDepth++)){this.forceFreezeContentHeight()}},forceFreezeContentHeight:function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},thawContentHeight:function(){this.freezeContentHeightDepth--;this.contentEl.css({width:"",height:"",overflow:""});if(this.freezeContentHeightDepth){this.forceFreezeContentHeight()}}});A.mixin({header:null,footer:null,toolbarsManager:null,initToolbars:function(){this.header=new bD(this,this.computeHeaderOptions());this.footer=new bD(this,this.computeFooterOptions());this.toolbarsManager=new cc([this.header,this.footer])},computeHeaderOptions:function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},computeFooterOptions:function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},renderHeader:function(){var ct=this.header;ct.setToolbarOptions(this.computeHeaderOptions());ct.render();if(ct.el){this.el.prepend(ct.el)}},renderFooter:function(){var ct=this.footer;ct.setToolbarOptions(this.computeFooterOptions());ct.render();if(ct.el){this.el.append(ct.el)}},setToolbarsTitle:function(ct){this.toolbarsManager.proxyCall("updateTitle",ct)},updateToolbarButtons:function(cu){var cx=this.getNow();var ct=this.view;var cy=ct.buildDateProfile(cx);var cw=ct.buildPrevDateProfile(this.currentDate);var cv=ct.buildNextDateProfile(this.currentDate);this.toolbarsManager.proxyCall((cy.isValid&&!cu.currentUnzonedRange.containsDate(cx))?"enableButton":"disableButton","today");this.toolbarsManager.proxyCall(cw.isValid?"enableButton":"disableButton","prev");this.toolbarsManager.proxyCall(cv.isValid?"enableButton":"disableButton","next")},queryToolbarsHeight:function(){return this.toolbarsManager.items.reduce(function(ct,cu){var cv=cu.el?cu.el.outerHeight(true):0;return ct+cv},0)}});A.prototype.isEventInstanceGroupAllowed=function(cy){var cv=cy.getEventDef();var cu=this.eventRangesToEventFootprints(cy.getAllEventRanges());var cx;var cB=this.getPeerEventInstances(cv);var cA=cB.map(aA);var cC=this.eventRangesToEventFootprints(cA);var cw=cv.getConstraint();var ct=cv.getOverlap();var cz=this.opt("eventAllow");for(cx=0;cx<cu.length;cx++){if(!this.isFootprintAllowed(cu[cx].componentFootprint,cC,cw,ct,cu[cx].eventInstance)){return false}}if(cz){for(cx=0;cx<cu.length;cx++){if(cz(cu[cx].componentFootprint.toLegacy(this),cu[cx].getEventLegacy())===false){return false}}}return true};A.prototype.getPeerEventInstances=function(ct){return this.eventManager.getEventInstancesWithoutId(ct.id)};A.prototype.isSelectionFootprintAllowed=function(ct){var cv=this.eventManager.getEventInstances();var cx=cv.map(aA);var cu=this.eventRangesToEventFootprints(cx);var cw;if(this.isFootprintAllowed(ct,cu,this.opt("selectConstraint"),this.opt("selectOverlap"))){cw=this.opt("selectAllow");if(cw){return cw(ct.toLegacy(this))!==false}else{return true}}return false};A.prototype.isFootprintAllowed=function(cw,cz,cu,ct,cx){var cv;var cy;if(cu!=null){cv=this.constraintValToFootprints(cu,cw.isAllDay);if(!this.isFootprintWithinConstraints(cw,cv)){return false}}cy=this.collectOverlapEventFootprints(cz,cw);if(ct===false){if(cy.length){return false}}else{if(typeof ct==="function"){if(!ae(cy,ct,cx)){return false}}}if(cx){if(!x(cy,cx)){return false}}return true};A.prototype.isFootprintWithinConstraints=function(cu,ct){var cv;for(cv=0;cv<ct.length;cv++){if(this.footprintContainsFootprint(ct[cv],cu)){return true}}return false};A.prototype.constraintValToFootprints=function(ct,cv){var cu;if(ct==="businessHours"){return this.buildCurrentBusinessFootprints(cv)}else{if(typeof ct==="object"){cu=this.parseEventDefToInstances(ct);if(!cu){return this.parseFootprints(ct)}else{return this.eventInstancesToFootprints(cu)}}else{if(ct!=null){cu=this.eventManager.getEventInstancesWithId(ct);return this.eventInstancesToFootprints(cu)}}}};A.prototype.buildCurrentBusinessFootprints=function(cv){var ct=this.view;var cw=ct.get("businessHourGenerator");var cu=ct.dateProfile.activeUnzonedRange;var cx=cw.buildEventInstanceGroup(cv,cu);if(cx){return this.eventInstancesToFootprints(cx.eventInstances)}else{return[]}};A.prototype.eventInstancesToFootprints=function(cu){var ct=cu.map(aA);var cv=this.eventRangesToEventFootprints(ct);return cv.map(aL)};A.prototype.collectOverlapEventFootprints=function(cw,cv){var cu=[];var ct;for(ct=0;ct<cw.length;ct++){if(this.footprintsIntersect(cv,cw[ct].componentFootprint)){cu.push(cw[ct])}}return cu};function ae(cv,cw,cu){var ct;for(ct=0;ct<cv.length;ct++){if(!cw(cv[ct].eventInstance.toLegacy(),cu?cu.toLegacy():null)){return false}}return true}function x(cx,cw){var cu=cw.toLegacy();var cv;var cz;var cy;var ct;for(cv=0;cv<cx.length;cv++){cz=cx[cv].eventInstance;cy=cz.def;ct=cy.getOverlap();if(ct===false){return false}else{if(typeof ct==="function"){if(!ct(cz.toLegacy(),cu)){return false}}}}return true}A.prototype.parseEventDefToInstances=function(cu){var ct=this.eventManager;var cv=bW.parse(cu,new a9(this));if(!cv){return false}return cv.buildInstances(ct.currentPeriod.unzonedRange)};A.prototype.eventRangesToEventFootprints=function(ct){var cv;var cu=[];for(cv=0;cv<ct.length;cv++){cu.push.apply(cu,this.eventRangeToEventFootprints(ct[cv]))}return cu};A.prototype.eventRangeToEventFootprints=function(ct){return[M(ct)]};A.prototype.parseFootprints=function(cu){var cv,ct;if(cu.start){cv=this.moment(cu.start);if(!cv.isValid()){cv=null}}if(cu.end){ct=this.moment(cu.end);if(!ct.isValid()){ct=null}}return[new u(new aC(cv,ct),(cv&&!cv.hasTime())||(ct&&!ct.hasTime()))]};A.prototype.footprintContainsFootprint=function(cu,ct){return cu.unzonedRange.containsRange(ct.unzonedRange)};A.prototype.footprintsIntersect=function(cu,ct){return cu.unzonedRange.intersectsWith(ct.unzonedRange)};A.mixin({getEventSources:function(){return this.eventManager.otherSources.slice()},getEventSourceById:function(ct){return this.eventManager.getSourceById(a9.normalizeId(ct))},addEventSource:function(cu){var ct=bU.parse(cu,this);if(ct){this.eventManager.addSource(ct)}},removeEventSources:function(ct){var cv=this.eventManager;var cu;var cw;if(ct==null){this.eventManager.removeAllSources()}else{cu=cv.multiQuerySources(ct);cv.freeze();for(cw=0;cw<cu.length;cw++){cv.removeSource(cu[cw])}cv.thaw()}},removeEventSource:function(cw){var cu=this.eventManager;var ct=cu.querySources(cw);var cv;cu.freeze();for(cv=0;cv<ct.length;cv++){cu.removeSource(ct[cv])}cu.thaw()},refetchEventSources:function(ct){var cv=this.eventManager;var cu=cv.multiQuerySources(ct);var cw;cv.freeze();for(cw=0;cw<cu.length;cw++){cv.refetchSource(cu[cw])}cv.thaw()},refetchEvents:function(){this.eventManager.refetchAllSources()},renderEvents:function(cv,cu){this.eventManager.freeze();for(var ct=0;ct<cv.length;ct++){this.renderEvent(cv[ct],cu)}this.eventManager.thaw()},renderEvent:function(cu,cv){var ct=this.eventManager;var cw=bW.parse(cu,cu.source||ct.stickySource);if(cw){ct.addEventDef(cw,cv)}},removeEvents:function(cu){var cv=this.eventManager;var ct=[];var cx={};var cy;var cw;if(cu==null){cv.removeAllEventDefs(true)}else{cv.getEventInstances().forEach(function(cz){ct.push(cz.toLegacy())});ct=ci(ct,cu);for(cw=0;cw<ct.length;cw++){cy=this.eventManager.getEventDefByUid(ct[cw]._id);cx[cy.id]=true}cv.freeze();for(cw in cx){cv.removeEventDefsById(cw,true)}cv.thaw()}},clientEvents:function(ct){var cu=[];this.eventManager.getEventInstances().forEach(function(cv){cu.push(cv.toLegacy())});return ci(cu,ct)},updateEvents:function(ct){this.eventManager.freeze();for(var cu=0;cu<ct.length;cu++){this.updateEvent(ct[cu])}this.eventManager.thaw()},updateEvent:function(cw){var cv=this.eventManager.getEventDefByUid(cw._id);var cu;var ct;if(cv instanceof t){cu=cv.buildInstance();ct=v.createFromRawProps(cu,cw,null);this.eventManager.mutateEventsWithId(cv.id,ct)}}});function ci(cu,ct){if(ct==null){return cu}else{if(b9.isFunction(ct)){return cu.filter(ct)}else{ct+="";return cu.filter(function(cv){return cv.id==ct||cv._id===ct})}}}A.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",columnHeader:true,defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:true,lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},allDayText:"all-day",agendaEventMinHeight:0,theme:false,dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:100,longPressDelay:1000};A.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};A.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var aq=D.locales={};D.datepickerLocale=function(cv,cu,cw){var ct=aq[cv]||(aq[cv]={});ct.isRTL=cw.isRTL;ct.weekNumberTitle=cw.weekHeader;b9.each(bh,function(cx,cy){ct[cx]=cy(cw)});if(b9.datepicker){b9.datepicker.regional[cu]=b9.datepicker.regional[cv]=cw;b9.datepicker.regional.en=b9.datepicker.regional[""];b9.datepicker.setDefaults(cw)}};D.locale=function(cu,cw){var ct;var cv;ct=aq[cu]||(aq[cu]={});if(cw){ct=aq[cu]=bq([ct,cw])}cv=X(cu);b9.each(bM,function(cx,cy){if(ct[cx]==null){ct[cx]=cy(cv,ct)}});A.defaults.locale=cu};var bh={buttonText:function(ct){return{prev:bc(ct.prevText),next:bc(ct.nextText),today:bc(ct.currentText)}},monthYearFormat:function(ct){return ct.showMonthAfterYear?"YYYY["+ct.yearSuffix+"] MMMM":"MMMM YYYY["+ct.yearSuffix+"]"}};var bM={dayOfMonthFormat:function(cu,ct){var cv=cu.longDateFormat("l");cv=cv.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(ct.isRTL){cv+=" ddd"}else{cv="ddd "+cv}return cv},mediumTimeFormat:function(ct){return ct.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(ct){return ct.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(ct){return ct.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(ct){return ct.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(ct){return ct.longDateFormat("LT").replace(/\s*a$/i,"")}};var bS={smallDayDateFormat:function(ct){return ct.isRTL?"D dd":"dd D"},weekFormat:function(ct){return ct.isRTL?"w[ "+ct.weekNumberTitle+"]":"["+ct.weekNumberTitle+" ]w"},smallWeekFormat:function(ct){return ct.isRTL?"w["+ct.weekNumberTitle+"]":"["+ct.weekNumberTitle+"]w"}};function bo(ct){b9.each(bS,function(cu,cv){if(ct[cu]==null){ct[cu]=cv(ct)}})}function X(ct){return bH.localeData(ct)||bH.localeData("en")}D.locale("en",A.englishDefaults);var aC=D.UnzonedRange=aW.extend({startMs:null,endMs:null,isStart:true,isEnd:true,constructor:function(cu,ct){if(bH.isMoment(cu)){cu=cu.clone().stripZone()}if(bH.isMoment(ct)){ct=ct.clone().stripZone()}if(cu){this.startMs=cu.valueOf()}if(ct){this.endMs=ct.valueOf()}},intersect:function(cw){var cv=this.startMs;var ct=this.endMs;var cu=null;if(cw.startMs!==null){if(cv===null){cv=cw.startMs}else{cv=Math.max(cv,cw.startMs)}}if(cw.endMs!==null){if(ct===null){ct=cw.endMs}else{ct=Math.min(ct,cw.endMs)}}if(cv===null||ct===null||cv<ct){cu=new aC(cv,ct);cu.isStart=this.isStart&&cv===this.startMs;cu.isEnd=this.isEnd&&ct===this.endMs}return cu},intersectsWith:function(ct){return(this.endMs===null||ct.startMs===null||this.endMs>ct.startMs)&&(this.startMs===null||ct.endMs===null||this.startMs<ct.endMs)},containsRange:function(ct){return(this.startMs===null||(ct.startMs!==null&&ct.startMs>=this.startMs))&&(this.endMs===null||(ct.endMs!==null&&ct.endMs<=this.endMs))},containsDate:function(cu){var ct=cu.valueOf();return(this.startMs===null||ct>=this.startMs)&&(this.endMs===null||ct<this.endMs)},constrainDate:function(cu){var ct=cu.valueOf();if(this.startMs!==null&&ct<this.startMs){ct=this.startMs}if(this.endMs!==null&&ct>=this.endMs){ct=this.endMs-1}return ct},equals:function(ct){return this.startMs===ct.startMs&&this.endMs===ct.endMs},clone:function(){var ct=new aC(this.startMs,this.endMs);ct.isStart=this.isStart;ct.isEnd=this.isEnd;return ct},getStart:function(){if(this.startMs!==null){return D.moment.utc(this.startMs).stripZone()}},getEnd:function(){if(this.endMs!==null){return D.moment.utc(this.endMs).stripZone()}},as:function(ct){return bH.utc(this.endMs).diff(bH.utc(this.startMs),ct,true)}});function bL(cu,cx){var ct=[];var cw=cx.startMs;var cv;var cy;cu.sort(aE);for(cv=0;cv<cu.length;cv++){cy=cu[cv];if(cy.startMs>cw){ct.push(new aC(cw,cy.startMs))}if(cy.endMs>cw){cw=cy.endMs}}if(cw<cx.endMs){ct.push(new aC(cw,cx.endMs))}return ct}function aE(cu,ct){return cu.startMs-ct.startMs}var u=D.ComponentFootprint=aW.extend({unzonedRange:null,isAllDay:false,constructor:function(ct,cu){this.unzonedRange=ct;this.isAllDay=cu},toLegacy:function(ct){return{start:ct.msToMoment(this.unzonedRange.startMs,this.isAllDay),end:ct.msToMoment(this.unzonedRange.endMs,this.isAllDay)}}});var bb=aW.extend(B,{start:null,end:null,timezone:null,unzonedRange:null,requestsByUid:null,pendingCnt:0,freezeDepth:0,stuntedReleaseCnt:0,releaseCnt:0,eventDefsByUid:null,eventDefsById:null,eventInstanceGroupsById:null,constructor:function(cv,ct,cu){this.start=cv;this.end=ct;this.timezone=cu;this.unzonedRange=new aC(cv.clone().stripZone(),ct.clone().stripZone());this.requestsByUid={};this.eventDefsByUid={};this.eventDefsById={};this.eventInstanceGroupsById={}},isWithinRange:function(cu,ct){return !cu.isBefore(this.start)&&!ct.isAfter(this.end)},requestSources:function(ct){this.freeze();for(var cu=0;cu<ct.length;cu++){this.requestSource(ct[cu])}this.thaw()},requestSource:function(cu){var cv=this;var ct={source:cu,status:"pending"};this.requestsByUid[cu.uid]=ct;this.pendingCnt+=1;cu.fetch(this.start,this.end,this.timezone).then(function(cw){if(ct.status!=="cancelled"){ct.status="completed";ct.eventDefs=cw;cv.addEventDefs(cw);cv.pendingCnt--;cv.tryRelease()}},function(){if(ct.status!=="cancelled"){ct.status="failed";cv.pendingCnt--;cv.tryRelease()}})},purgeSource:function(cu){var ct=this.requestsByUid[cu.uid];if(ct){delete this.requestsByUid[cu.uid];if(ct.status==="pending"){ct.status="cancelled";this.pendingCnt--;this.tryRelease()}else{if(ct.status==="completed"){ct.eventDefs.forEach(this.removeEventDef.bind(this))}}}},purgeAllSources:function(){var cw=this.requestsByUid;var ct,cv;var cu=0;for(ct in cw){cv=cw[ct];if(cv.status==="pending"){cv.status="cancelled"}else{if(cv.status==="completed"){cu++}}}this.requestsByUid={};this.pendingCnt=0;if(cu){this.removeAllEventDefs()}},getEventDefByUid:function(ct){return this.eventDefsByUid[ct]},getEventDefsById:function(cu){var ct=this.eventDefsById[cu];if(ct){return ct.slice()}return[]},addEventDefs:function(cu){for(var ct=0;ct<cu.length;ct++){this.addEventDef(cu[ct])}},addEventDef:function(cw){var cx=this.eventDefsById;var cu=cw.id;var cy=cx[cu]||(cx[cu]=[]);var ct=cw.buildInstances(this.unzonedRange);var cv;cy.push(cw);this.eventDefsByUid[cw.uid]=cw;for(cv=0;cv<ct.length;cv++){this.addEventInstance(ct[cv],cu)}},removeEventDefsById:function(ct){var cu=this;this.getEventDefsById(ct).forEach(function(cv){cu.removeEventDef(cv)})},removeAllEventDefs:function(){var ct=b9.isEmptyObject(this.eventDefsByUid);this.eventDefsByUid={};this.eventDefsById={};this.eventInstanceGroupsById={};if(!ct){this.tryRelease()}},removeEventDef:function(ct){var cu=this.eventDefsById;var cv=cu[ct.id];delete this.eventDefsByUid[ct.uid];if(cv){cn(cv,ct);if(!cv.length){delete cu[ct.id]}this.removeEventInstancesForDef(ct)}},getEventInstances:function(){var ct=this.eventInstanceGroupsById;var cu=[];var cv;for(cv in ct){cu.push.apply(cu,ct[cv].eventInstances)}return cu},getEventInstancesWithId:function(ct){var cu=this.eventInstanceGroupsById[ct];if(cu){return cu.eventInstances.slice()}return[]},getEventInstancesWithoutId:function(cv){var cu=this.eventInstanceGroupsById;var ct=[];var cw;for(cw in cu){if(cw!==cv){ct.push.apply(ct,cu[cw].eventInstances)}}return ct},addEventInstance:function(cv,cu){var ct=this.eventInstanceGroupsById;var cw=ct[cu]||(ct[cu]=new bP());cw.eventInstances.push(cv);this.tryRelease()},removeEventInstancesForDef:function(cv){var ct=this.eventInstanceGroupsById;var cw=ct[cv.id];var cu;if(cw){cu=m(cw.eventInstances,function(cx){return cx.def===cv});if(!cw.eventInstances.length){delete ct[cv.id]}if(cu){this.tryRelease()}}},tryRelease:function(){if(!this.pendingCnt){if(!this.freezeDepth){this.release()}else{this.stuntedReleaseCnt++}}},release:function(){this.releaseCnt++;this.trigger("release",this.eventInstanceGroupsById)},whenReleased:function(){var ct=this;if(this.releaseCnt){return b5.resolve(this.eventInstanceGroupsById)}else{return b5.construct(function(cu){ct.one("release",cu)})}},freeze:function(){if(!(this.freezeDepth++)){this.stuntedReleaseCnt=0}},thaw:function(){if(!(--this.freezeDepth)&&this.stuntedReleaseCnt&&!this.pendingCnt){this.release()}}});var bj=aW.extend(B,aH,{currentPeriod:null,calendar:null,stickySource:null,otherSources:null,constructor:function(ct){this.calendar=ct;this.stickySource=new ad(ct);this.otherSources=[]},requestEvents:function(cw,ct,cu,cv){if(cv||!this.currentPeriod||!this.currentPeriod.isWithinRange(cw,ct)||cu!==this.currentPeriod.timezone){this.setPeriod(new bb(cw,ct,cu))}return this.currentPeriod.whenReleased()},addSource:function(ct){this.otherSources.push(ct);if(this.currentPeriod){this.currentPeriod.requestSource(ct)}},removeSource:function(ct){cn(this.otherSources,ct);if(this.currentPeriod){this.currentPeriod.purgeSource(ct)}},removeAllSources:function(){this.otherSources=[];if(this.currentPeriod){this.currentPeriod.purgeAllSources()}},refetchSource:function(cu){var ct=this.currentPeriod;if(ct){ct.freeze();ct.purgeSource(cu);ct.requestSource(cu);ct.thaw()}},refetchAllSources:function(){var ct=this.currentPeriod;if(ct){ct.freeze();ct.purgeAllSources();ct.requestSources(this.getSources());ct.thaw()}},getSources:function(){return[this.stickySource].concat(this.otherSources)},multiQuerySources:function(cu){if(!cu){cu=[]}else{if(!b9.isArray(cu)){cu=[cu]}}var ct=[];var cv;for(cv=0;cv<cu.length;cv++){ct.push.apply(ct,this.querySources(cu[cv]))}return ct},querySources:function(cw){var ct=this.otherSources;var cu,cv;for(cu=0;cu<ct.length;cu++){cv=ct[cu];if(cv===cw){return[cv]}}cv=this.getSourceById(a9.normalizeId(cw));if(cv){return[cv]}cw=bU.parse(cw,this.calendar);if(cw){return b9.grep(ct,function(cx){return aw(cw,cx)})}},getSourceById:function(ct){return b9.grep(this.otherSources,function(cu){return cu.id&&cu.id===ct})[0]},setPeriod:function(ct){if(this.currentPeriod){this.unbindPeriod(this.currentPeriod);this.currentPeriod=null}this.currentPeriod=ct;this.bindPeriod(ct);ct.requestSources(this.getSources())},bindPeriod:function(ct){this.listenTo(ct,"release",function(cu){this.trigger("release",cu)})},unbindPeriod:function(ct){this.stopListeningTo(ct)},getEventDefByUid:function(ct){if(this.currentPeriod){return this.currentPeriod.getEventDefByUid(ct)}},addEventDef:function(cu,ct){if(ct){this.stickySource.addEventDef(cu)}if(this.currentPeriod){this.currentPeriod.addEventDef(cu)}},removeEventDefsById:function(ct){this.getSources().forEach(function(cu){cu.removeEventDefsById(ct)});if(this.currentPeriod){this.currentPeriod.removeEventDefsById(ct)}},removeAllEventDefs:function(){this.getSources().forEach(function(ct){ct.removeAllEventDefs()});if(this.currentPeriod){this.currentPeriod.removeAllEventDefs()}},mutateEventsWithId:function(ct,cu){var cw=this.currentPeriod;var cx;var cv=[];if(cw){cw.freeze();cx=cw.getEventDefsById(ct);cx.forEach(function(cy){cw.removeEventDef(cy);cv.push(cu.mutateSingle(cy));cw.addEventDef(cy)});cw.thaw();return function(){cw.freeze();for(var cy=0;cy<cx.length;cy++){cw.removeEventDef(cx[cy]);cv[cy]();cw.addEventDef(cx[cy])}cw.thaw()}}return function(){}},buildMutatedEventInstanceGroup:function(ct,cu){var cy=this.getEventDefsById(ct);var cv;var cx;var cw=[];for(cv=0;cv<cy.length;cv++){cx=cy[cv].clone();if(cx instanceof t){cu.mutateSingle(cx);cw.push.apply(cw,cx.buildInstances())}}return new bP(cw)},freeze:function(){if(this.currentPeriod){this.currentPeriod.freeze()}},thaw:function(){if(this.currentPeriod){this.currentPeriod.thaw()}}});["getEventDefsById","getEventInstances","getEventInstancesWithId","getEventInstancesWithoutId"].forEach(function(ct){bj.prototype[ct]=function(){var cu=this.currentPeriod;if(cu){return cu[ct].apply(cu,arguments)}return[]}});function aw(cu,ct){return cu.getPrimitive()==ct.getPrimitive()}var cs={start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};var aQ=D.BusinessHourGenerator=aW.extend({rawComplexDef:null,calendar:null,constructor:function(ct,cu){this.rawComplexDef=ct;this.calendar=cu},buildEventInstanceGroup:function(cu,ct){var cw=this.buildEventDefs(cu);var cv;if(cw.length){cv=new bP(a5(cw,ct));cv.explicitEventDef=cw[0];return cv}},buildEventDefs:function(cy){var cu=this.rawComplexDef;var cw=[];var cv=false;var cx;var ct=[];if(cu===true){cw=[{}]}else{if(b9.isPlainObject(cu)){cw=[cu]}else{if(b9.isArray(cu)){cw=cu;cv=true}}}for(cx=0;cx<cw.length;cx++){if(!cv||cw[cx].dow){ct.push(this.buildEventDef(cy,cw[cx]))}}return ct},buildEventDef:function(ct,cu){var cv=b9.extend({},cs,cu);if(ct){cv.start=null;cv.end=null}return cq.parse(cv,new a9(this.calendar))}});var bW={parse:function(ct,cu){if(au(ct.start)||bH.isDuration(ct.start)||au(ct.end)||bH.isDuration(ct.end)){return cq.parse(ct,cu)}else{return t.parse(ct,cu)}}};var C=D.EventDef=aW.extend(aI,{source:null,id:null,rawId:null,uid:null,title:null,url:null,rendering:null,constraint:null,overlap:null,editable:null,startEditable:null,durationEditable:null,color:null,backgroundColor:null,borderColor:null,textColor:null,className:null,miscProps:null,constructor:function(ct){this.source=ct;this.className=[];this.miscProps={}},isAllDay:function(){},buildInstances:function(ct){},clone:function(){var ct=new this.constructor(this.source);ct.id=this.id;ct.rawId=this.rawId;ct.uid=this.uid;C.copyVerbatimStandardProps(this,ct);ct.className=this.className.slice();ct.miscProps=b9.extend({},this.miscProps);return ct},hasInverseRendering:function(){return this.getRendering()==="inverse-background"},hasBgRendering:function(){var ct=this.getRendering();return ct==="inverse-background"||ct==="background"},getRendering:function(){if(this.rendering!=null){return this.rendering}return this.source.rendering},getConstraint:function(){if(this.constraint!=null){return this.constraint}if(this.source.constraint!=null){return this.source.constraint}return this.source.calendar.opt("eventConstraint")},getOverlap:function(){if(this.overlap!=null){return this.overlap}if(this.source.overlap!=null){return this.source.overlap}return this.source.calendar.opt("eventOverlap")},isStartExplicitlyEditable:function(){if(this.startEditable!==null){return this.startEditable}return this.source.startEditable},isDurationExplicitlyEditable:function(){if(this.durationEditable!==null){return this.durationEditable}return this.source.durationEditable},isExplicitlyEditable:function(){if(this.editable!==null){return this.editable}return this.source.editable},toLegacy:function(){var ct=b9.extend({},this.miscProps);ct._id=this.uid;ct.source=this.source;ct.className=this.className.slice();ct.allDay=this.isAllDay();if(this.rawId!=null){ct.id=this.rawId}C.copyVerbatimStandardProps(this,ct);return ct},applyManualStandardProps:function(ct){if(ct.id!=null){this.id=C.normalizeId((this.rawId=ct.id))}else{this.id=C.generateId()}if(ct._id!=null){this.uid=String(ct._id)}else{this.uid=C.generateId()}if(b9.isArray(ct.className)){this.className=ct.className}if(typeof ct.className==="string"){this.className=ct.className.split(/\s+/)}return true},applyMiscProps:function(ct){b9.extend(this.miscProps,ct)}});C.defineStandardProps=by;C.copyVerbatimStandardProps=aM;C.uuid=0;C.normalizeId=function(ct){return String(ct)};C.generateId=function(){return"_fc"+(C.uuid++)};C.defineStandardProps({_id:false,id:false,className:false,source:false,title:true,url:true,rendering:true,constraint:true,overlap:true,editable:true,startEditable:true,durationEditable:true,color:true,backgroundColor:true,borderColor:true,textColor:true});C.parse=function(ct,cx){var cw=new this(cx);var cv=cx.calendar.opt("eventDataTransform");var cu=cx.eventDataTransform;if(cv){ct=cv(ct)}if(cu){ct=cu(ct)}if(cw.applyProps(ct)){return cw}return false};var t=C.extend({dateProfile:null,buildInstances:function(){return[this.buildInstance()]},buildInstance:function(){return new aS(this,this.dateProfile)},isAllDay:function(){return this.dateProfile.isAllDay()},clone:function(){var ct=C.prototype.clone.call(this);ct.dateProfile=this.dateProfile;return ct},rezone:function(){var cu=this.source.calendar;var ct=this.dateProfile;this.dateProfile=new F(cu.moment(ct.start),ct.end?cu.moment(ct.end):null,cu)},applyManualStandardProps:function(cv){var cu=C.prototype.applyManualStandardProps.apply(this,arguments);var ct=F.parse(cv,this.source);if(ct){this.dateProfile=ct;if(cv.date!=null){this.miscProps.date=cv.date}return cu}else{return false}}});t.defineStandardProps({start:false,date:false,end:false,allDay:false});var cq=C.extend({startTime:null,endTime:null,dowHash:null,isAllDay:function(){return !this.startTime&&!this.endTime},buildInstances:function(cx){var cz=this.source.calendar;var cv=cx.getStart();var cu=cx.getEnd();var ct;var cA,cw;var cy=[];while(cv.isBefore(cu)){if(!this.dowHash||this.dowHash[cv.day()]){ct=cz.applyTimezone(cv);cA=ct.clone();cw=null;if(this.startTime){cA.time(this.startTime)}else{cA.stripTime()}if(this.endTime){cw=ct.clone().time(this.endTime)}cy.push(new aS(this,new F(cA,cw,cz)))}cv.add(1,"days")}return cy},setDow:function(ct){if(!this.dowHash){this.dowHash={}}for(var cu=0;cu<ct.length;cu++){this.dowHash[ct[cu]]=true}},clone:function(){var ct=C.prototype.clone.call(this);if(ct.startTime){ct.startTime=bH.duration(this.startTime)}if(ct.endTime){ct.endTime=bH.duration(this.endTime)}if(this.dowHash){ct.dowHash=b9.extend({},this.dowHash)}return ct},applyProps:function(cu){var ct=C.prototype.applyProps.apply(this,arguments);if(cu.start){this.startTime=bH.duration(cu.start)}if(cu.end){this.endTime=bH.duration(cu.end)}if(cu.dow){this.setDow(cu.dow)}return ct}});cq.defineStandardProps({start:false,end:false,dow:false});var aS=aW.extend({def:null,dateProfile:null,constructor:function(cu,ct){this.def=cu;this.dateProfile=ct},toLegacy:function(){var ct=this.dateProfile;var cu=this.def.toLegacy();cu.start=ct.start.clone();cu.end=ct.end?ct.end.clone():null;return cu}});var bP=D.EventInstanceGroup=aW.extend({eventInstances:null,explicitEventDef:null,constructor:function(ct){this.eventInstances=ct||[]},getAllEventRanges:function(ct){if(ct){return this.sliceNormalRenderRanges(ct)}else{return this.eventInstances.map(aA)}},sliceRenderRanges:function(ct){if(this.isInverse()){return this.sliceInverseRenderRanges(ct)}else{return this.sliceNormalRenderRanges(ct)}},sliceNormalRenderRanges:function(cy){var ct=this.eventInstances;var cv,cx;var cw;var cu=[];for(cv=0;cv<ct.length;cv++){cx=ct[cv];cw=cx.dateProfile.unzonedRange.intersect(cy);if(cw){cu.push(new ap(cw,cx.def,cx))}}return cu},sliceInverseRenderRanges:function(cv){var cu=this.eventInstances.map(aP);var ct=this.getEventDef();cu=bL(cu,cv);return cu.map(function(cw){return new ap(cw,ct)})},isInverse:function(){return this.getEventDef().hasInverseRendering()},getEventDef:function(){return this.explicitEventDef||this.eventInstances[0].def}});var F=aW.extend({start:null,end:null,unzonedRange:null,constructor:function(cv,ct,cu){this.start=cv;this.end=ct||null;this.unzonedRange=this.buildUnzonedRange(cu)},isAllDay:function(){return !(this.start.hasTime()||(this.end&&this.end.hasTime()))},buildUnzonedRange:function(cv){var cu=this.start.clone().stripZone().valueOf();var ct=this.getEnd(cv).stripZone().valueOf();return new aC(cu,ct)},getEnd:function(ct){return this.end?this.end.clone():ct.getDefaultEventEnd(this.isAllDay(),this.start)}});F.isStandardProp=function(ct){return ct==="start"||ct==="date"||ct==="end"||ct==="allDay"};F.parse=function(cx,ct){var cu=cx.start||cx.date;var cB=cx.end;if(!cu){return false}var cz=ct.calendar;var cw=cz.moment(cu);var cy=cB?cz.moment(cB):null;var cv=cx.allDay;var cA=cz.opt("forceEventDuration");if(!cw.isValid()){return false}if(cy&&(!cy.isValid()||!cy.isAfter(cw))){cy=null}if(cv==null){cv=ct.allDayDefault;if(cv==null){cv=cz.opt("allDayDefault")}}if(cv===true){cw.stripTime();if(cy){cy.stripTime()}}else{if(cv===false){if(!cw.hasTime()){cw.time(0)}if(cy&&!cy.hasTime()){cy.time(0)}}}if(!cy&&cA){cy=cz.getDefaultEventEnd(!cw.hasTime(),cw)}return new F(cw,cy,cz)};var ap=aW.extend({unzonedRange:null,eventDef:null,eventInstance:null,constructor:function(ct,cv,cu){this.unzonedRange=ct;this.eventDef=cv;if(cu){this.eventInstance=cu}}});var bC=D.EventFootprint=aW.extend({componentFootprint:null,eventDef:null,eventInstance:null,constructor:function(ct,cv,cu){this.componentFootprint=ct;this.eventDef=cv;if(cu){this.eventInstance=cu}},getEventLegacy:function(){return(this.eventInstance||this.eventDef).toLegacy()}});var v=D.EventDefMutation=aW.extend({dateMutation:null,eventDefId:null,className:null,verbatimStandardProps:null,miscProps:null,mutateSingle:function(cu){var ct;if(this.dateMutation){ct=cu.dateProfile;cu.dateProfile=this.dateMutation.buildNewDateProfile(ct,cu.source.calendar)}if(this.eventDefId!=null){cu.id=C.normalizeId((cu.rawId=this.eventDefId))}if(this.className){cu.className=this.className}if(this.verbatimStandardProps){t.copyVerbatimStandardProps(this.verbatimStandardProps,cu)}if(this.miscProps){cu.applyMiscProps(this.miscProps)}if(ct){return function(){cu.dateProfile=ct}}else{return function(){}}},setDateMutation:function(ct){if(ct&&!ct.isEmpty()){this.dateMutation=ct}else{this.dateMutation=null}},isEmpty:function(){return !this.dateMutation}});v.createFromRawProps=function(cE,cv,cu){var cw=cE.def;var ct={};var cx={};var cB={};var cD={};var cG=null;var cC=null;var cA;var cF;var cz;var cy;for(cA in cv){if(F.isStandardProp(cA)){ct[cA]=cv[cA]}else{if(cw.isStandardProp(cA)){cx[cA]=cv[cA]}else{if(cw.miscProps[cA]!==cv[cA]){cB[cA]=cv[cA]}}}}cF=F.parse(ct,cw.source);if(cF){cz=bm.createFromDiff(cE.dateProfile,cF,cu)}if(cx.id!==cw.id){cG=cx.id}if(!aG(cx.className,cw.className)){cC=cx.className}C.copyVerbatimStandardProps(cx,cD);cy=new v();cy.eventDefId=cG;cy.className=cC;cy.verbatimStandardProps=cD;cy.miscProps=cB;if(cz){cy.dateMutation=cz}return cy};var bm=aW.extend({clearEnd:false,forceTimed:false,forceAllDay:false,dateDelta:null,startDelta:null,endDelta:null,buildNewDateProfile:function(cw,cv){var cx=cw.start.clone();var ct=null;var cu=false;if(cw.end&&!this.clearEnd){ct=cw.end.clone()}else{if(this.endDelta&&!ct){ct=cv.getDefaultEventEnd(cw.isAllDay(),cx)}}if(this.forceTimed){cu=true;if(!cx.hasTime()){cx.time(0)}if(ct&&!ct.hasTime()){ct.time(0)}}else{if(this.forceAllDay){if(cx.hasTime()){cx.stripTime()}if(ct&&ct.hasTime()){ct.stripTime()}}}if(this.dateDelta){cu=true;cx.add(this.dateDelta);if(ct){ct.add(this.dateDelta)}}if(this.endDelta){cu=true;ct.add(this.endDelta)}if(this.startDelta){cu=true;cx.add(this.startDelta)}if(cu){cx=cv.applyTimezone(cx);if(ct){ct=cv.applyTimezone(ct)}}if(!ct&&cv.opt("forceEventDuration")){ct=cv.getDefaultEventEnd(cw.isAllDay(),cx)}return new F(cx,ct,cv)},setDateDelta:function(ct){if(ct&&ct.valueOf()){this.dateDelta=ct}else{this.dateDelta=null}},setStartDelta:function(ct){if(ct&&ct.valueOf()){this.startDelta=ct}else{this.startDelta=null}},setEndDelta:function(ct){if(ct&&ct.valueOf()){this.endDelta=ct}else{this.endDelta=null}},isEmpty:function(){return !this.clearEnd&&!this.forceTimed&&!this.forceAllDay&&!this.dateDelta&&!this.startDelta&&!this.endDelta}});bm.createFromDiff=function(cD,cC,cv){var ct=cD.end&&!cC.end;var cB=cD.isAllDay()&&!cC.isAllDay();var cy=!cD.isAllDay()&&cC.isAllDay();var cx;var cu;var cA;var cw;function cz(cE,cF){if(cv){return e(cE,cF,cv)}else{if(cC.isAllDay()){return av(cE,cF)}else{return g(cE,cF)}}}cx=cz(cC.start,cD.start);if(cC.end){cu=cz(cC.unzonedRange.getEnd(),cD.unzonedRange.getEnd());cA=cu.subtract(cx)}cw=new bm();cw.clearEnd=ct;cw.forceTimed=cB;cw.forceAllDay=cy;cw.setDateDelta(cx);cw.setEndDelta(cA);return cw};function a5(cw,cu){var ct=[];var cv;for(cv=0;cv<cw.length;cv++){ct.push.apply(ct,cw[cv].buildInstances(cu))}return ct}function aA(ct){return new ap(ct.dateProfile.unzonedRange,ct.def,ct)}function M(ct){return new bC(new u(ct.unzonedRange,ct.eventDef.isAllDay()),ct.eventDef,ct.eventInstance)}function aP(ct){return ct.dateProfile.unzonedRange}function aL(ct){return ct.componentFootprint}var a9=aW.extend(aI,{calendar:null,id:null,uid:null,color:null,backgroundColor:null,borderColor:null,textColor:null,className:null,editable:null,startEditable:null,durationEditable:null,rendering:null,overlap:null,constraint:null,allDayDefault:null,eventDataTransform:null,constructor:function(ct){this.calendar=ct;this.className=[];this.uid=String(a9.uuid++)},fetch:function(cv,ct,cu){},removeEventDefsById:function(ct){},removeAllEventDefs:function(){},getPrimitive:function(ct){},parseEventDefs:function(cv){var ct;var cu;var cw=[];for(ct=0;ct<cv.length;ct++){cu=bW.parse(cv[ct],this);if(cu){cw.push(cu)}}return cw},applyManualStandardProps:function(ct){if(ct.id!=null){this.id=a9.normalizeId(ct.id)}if(b9.isArray(ct.className)){this.className=ct.className}else{if(typeof ct.className==="string"){this.className=ct.className.split(/\s+/)}}return true}});a9.defineStandardProps=by;a9.uuid=0;a9.normalizeId=function(ct){if(ct){return String(ct)}return null};a9.defineStandardProps({id:false,className:false,color:true,backgroundColor:true,borderColor:true,textColor:true,editable:true,startEditable:true,durationEditable:true,rendering:true,overlap:true,constraint:true,allDayDefault:true,eventDataTransform:true});a9.parse=function(ct,cv){var cu=new this(cv);if(typeof ct==="object"){if(cu.applyProps(ct)){return cu}}return false};D.EventSource=a9;var bU={sourceClasses:[],registerClass:function(ct){this.sourceClasses.unshift(ct)},parse:function(ct,cx){var cu=this.sourceClasses;var cv;var cw;for(cv=0;cv<cu.length;cv++){cw=cu[cv].parse(ct,cx);if(cw){return cw}}}};D.EventSourceParser=bU;var ad=a9.extend({rawEventDefs:null,eventDefs:null,currentTimezone:null,constructor:function(ct){a9.apply(this,arguments);this.eventDefs=[]},setRawEventDefs:function(ct){this.rawEventDefs=ct;this.eventDefs=this.parseEventDefs(ct)},fetch:function(cx,ct,cv){var cw=this.eventDefs;var cu;if(this.currentTimezone!==null&&this.currentTimezone!==cv){for(cu=0;cu<cw.length;cu++){if(cw[cu] instanceof t){cw[cu].rezone()}}}this.currentTimezone=cv;return b5.resolve(cw)},addEventDef:function(ct){this.eventDefs.push(ct)},removeEventDefsById:function(ct){return m(this.eventDefs,function(cu){return cu.id===ct})},removeAllEventDefs:function(){this.eventDefs=[]},getPrimitive:function(){return this.rawEventDefs},applyManualStandardProps:function(cu){var ct=a9.prototype.applyManualStandardProps.apply(this,arguments);this.setRawEventDefs(cu.events);return ct}});ad.defineStandardProps({events:false});ad.parse=function(ct,cv){var cu;if(b9.isArray(ct.events)){cu=ct}else{if(b9.isArray(ct)){cu={events:ct}}}if(cu){return a9.parse.call(this,cu,cv)}return false};bU.registerClass(ad);D.ArrayEventSource=ad;var I=a9.extend({func:null,fetch:function(cw,ct,cu){var cv=this;this.calendar.pushLoading();return b5.construct(function(cx){cv.func.call(cv.calendar,cw.clone(),ct.clone(),cu,function(cy){cv.calendar.popLoading();cx(cv.parseEventDefs(cy))})})},getPrimitive:function(){return this.func},applyManualStandardProps:function(cu){var ct=a9.prototype.applyManualStandardProps.apply(this,arguments);this.func=cu.events;return ct}});I.defineStandardProps({events:false});I.parse=function(ct,cv){var cu;if(b9.isFunction(ct.events)){cu=ct}else{if(b9.isFunction(ct)){cu={events:ct}}}if(cu){return a9.parse.call(this,cu,cv)}return false};bU.registerClass(I);D.FuncEventSource=I;var ac=a9.extend({url:null,startParam:null,endParam:null,timezoneParam:null,ajaxSettings:null,fetch:function(cA,ct,cv){var cz=this;var cx=this.ajaxSettings;var cy=cx.success;var cu=cx.error;var cw=this.buildRequestParams(cA,ct,cv);this.calendar.pushLoading();return b5.construct(function(cB,cC){b9.ajax(b9.extend({},ac.AJAX_DEFAULTS,cx,{url:cz.url,data:cw,success:function(cE){var cD;cz.calendar.popLoading();if(cE){cD=G(cy,this,arguments);if(b9.isArray(cD)){cE=cD}cB(cz.parseEventDefs(cE))}else{cC()}},error:function(){cz.calendar.popLoading();G(cu,this,arguments);cC()}}))})},buildRequestParams:function(ct,cx,cz){var cy=this.calendar;var cB=this.ajaxSettings;var cA,cu,cC;var cv;var cw={};cA=this.startParam;if(cA==null){cA=cy.opt("startParam")}cu=this.endParam;if(cu==null){cu=cy.opt("endParam")}cC=this.timezoneParam;if(cC==null){cC=cy.opt("timezoneParam")}if(b9.isFunction(cB.data)){cv=cB.data()}else{cv=cB.data||{}}b9.extend(cw,cv);cw[cA]=ct.format();cw[cu]=cx.format();if(cz&&cz!=="local"){cw[cC]=cz}return cw},getPrimitive:function(){return this.url},applyMiscProps:function(ct){a9.prototype.applyMiscProps.apply(this,arguments);this.ajaxSettings=ct}});ac.AJAX_DEFAULTS={dataType:"json",cache:false};ac.defineStandardProps({url:true,startParam:true,endParam:true,timezoneParam:true});ac.parse=function(ct,cv){var cu;if(typeof ct.url==="string"){cu=ct}else{if(typeof ct==="string"){cu={url:ct}}}if(cu){return a9.parse.call(this,cu,cv)}return false};bU.registerClass(ac);D.JsonFeedEventSource=ac;var h=D.ThemeRegistry={themeClassHash:{},register:function(ct,cu){this.themeClassHash[ct]=cu},getThemeClass:function(ct){if(!ct){return c}else{if(ct===true){return aF}else{return this.themeClassHash[ct]}}}};var ai=D.Theme=aW.extend({classes:{},iconClasses:{},baseIconClass:"",iconOverrideOption:null,iconOverrideCustomButtonOption:null,iconOverridePrefix:"",constructor:function(ct){this.optionsModel=ct;this.processIconOverride()},processIconOverride:function(){if(this.iconOverrideOption){this.setIconOverride(this.optionsModel.get(this.iconOverrideOption))}},setIconOverride:function(cu){var cv;var ct;if(b9.isPlainObject(cu)){cv=b9.extend({},this.iconClasses);for(ct in cu){cv[ct]=this.applyIconOverridePrefix(cu[ct])}this.iconClasses=cv}else{if(cu===false){this.iconClasses={}}}},applyIconOverridePrefix:function(ct){var cu=this.iconOverridePrefix;if(cu&&ct.indexOf(cu)!==0){ct=cu+ct}return ct},getClass:function(ct){return this.classes[ct]||""},getIconClass:function(ct){var cu=this.iconClasses[ct];if(cu){return this.baseIconClass+" "+cu}return""},getCustomButtonIconClass:function(ct){var cu;if(this.iconOverrideCustomButtonOption){cu=ct[this.iconOverrideCustomButtonOption];if(cu){return this.baseIconClass+" "+this.applyIconOverridePrefix(cu)}}return""}});var c=ai.extend({classes:{widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button",cornerLeft:"fc-corner-left",cornerRight:"fc-corner-right",stateDefault:"fc-state-default",stateActive:"fc-state-active",stateDisabled:"fc-state-disabled",stateHover:"fc-state-hover",stateDown:"fc-state-down",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},baseIconClass:"fc-icon",iconClasses:{close:"fc-icon-x",prev:"fc-icon-left-single-arrow",next:"fc-icon-right-single-arrow",prevYear:"fc-icon-left-double-arrow",nextYear:"fc-icon-right-double-arrow"},iconOverrideOption:"buttonIcons",iconOverrideCustomButtonOption:"icon",iconOverridePrefix:"fc-icon-"});h.register("standard",c);var aF=ai.extend({classes:{widget:"ui-widget",widgetHeader:"ui-widget-header",widgetContent:"ui-widget-content",buttonGroup:"fc-button-group",button:"ui-button",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",stateDefault:"ui-state-default",stateActive:"ui-state-active",stateDisabled:"ui-state-disabled",stateHover:"ui-state-hover",stateDown:"ui-state-down",today:"ui-state-highlight",popoverHeader:"ui-widget-header",popoverContent:"ui-widget-content",headerRow:"ui-widget-header",dayRow:"ui-widget-content",listView:"ui-widget-content"},baseIconClass:"ui-icon",iconClasses:{close:"ui-icon-closethick",prev:"ui-icon-circle-triangle-w",next:"ui-icon-circle-triangle-e",prevYear:"ui-icon-seek-prev",nextYear:"ui-icon-seek-next"},iconOverrideOption:"themeButtonIcons",iconOverrideCustomButtonOption:"themeIcon",iconOverridePrefix:"ui-icon-"});h.register("jquery-ui",aF);var bz=ai.extend({classes:{widget:"fc-bootstrap3",tableGrid:"table-bordered",tableList:"table table-striped",buttonGroup:"btn-group",button:"btn btn-default",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"panel panel-default",popoverHeader:"panel-heading",popoverContent:"panel-body",headerRow:"panel-default",dayRow:"panel-default",listView:"panel panel-default"},baseIconClass:"glyphicon",iconClasses:{close:"glyphicon-remove",prev:"glyphicon-chevron-left",next:"glyphicon-chevron-right",prevYear:"glyphicon-backward",nextYear:"glyphicon-forward"},iconOverrideOption:"bootstrapGlyphicons",iconOverrideCustomButtonOption:"bootstrapGlyphicon",iconOverridePrefix:"glyphicon-"});h.register("bootstrap3",bz);var al=bs.extend({fillSegTag:"td",attachSegEls:function(cx,cu){var cv=[];var cw,ct;var cy;for(cw=0;cw<cu.length;cw++){ct=cu[cw];cy=this.renderFillRow(cx,ct);this.component.rowEls.eq(ct.row).append(cy);cv.push(cy[0])}return cv},renderFillRow:function(cw,ct){var cu=this.component.colCnt;var cz=ct.leftCol;var cy=ct.rightCol+1;var cv;var cA;var cx;if(cw==="businessHours"){cv="bgevent"}else{cv=cw.toLowerCase()}cA=b9('<div class="fc-'+cv+'-skeleton"><table><tr/></table></div>');cx=cA.find("tr");if(cz>0){cx.append('<td colspan="'+cz+'"/>')}cx.append(ct.el.attr("colspan",cy-cz));if(cy<cu){cx.append('<td colspan="'+(cu-cy)+'"/>')}this.component.bookendCells(cx);return cA}});var bf=R.extend({dayGrid:null,rowStructs:null,constructor:function(ct){R.apply(this,arguments);this.dayGrid=ct},renderBgRanges:function(ct){ct=b9.grep(ct,function(cu){return cu.eventDef.isAllDay()});R.prototype.renderBgRanges.call(this,ct)},renderFgSegs:function(ct){var cu=this.rowStructs=this.renderSegRows(ct);this.dayGrid.rowEls.each(function(cv,cw){b9(cw).find(".fc-content-skeleton > table").append(cu[cv].tbodyEl)})},unrenderFgSegs:function(){var cu=this.rowStructs||[];var ct;while((ct=cu.pop())){ct.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(cu){var cv=[];var ct;var cw;ct=this.groupSegRows(cu);for(cw=0;cw<ct.length;cw++){cv.push(this.renderSegRow(cw,ct[cw]))}return cv},renderSegRow:function(cI,cJ){var cG=this.dayGrid.colCnt;var cC=this.buildSegLevels(cJ);var ct=Math.max(1,cC.length);var cB=b9("<tbody/>");var cx=[];var cD=[];var cv=[];var cA,cF;var cu;var cE;var cz,cy;var cw;function cH(cK){while(cu<cK){cw=(cv[cA-1]||[])[cu];if(cw){cw.attr("rowspan",parseInt(cw.attr("rowspan")||1,10)+1)}else{cw=b9("<td/>");cE.append(cw)}cD[cA][cu]=cw;cv[cA][cu]=cw;cu++}}for(cA=0;cA<ct;cA++){cF=cC[cA];cu=0;cE=b9("<tr/>");cx.push([]);cD.push([]);cv.push([]);if(cF){for(cz=0;cz<cF.length;cz++){cy=cF[cz];cH(cy.leftCol);cw=b9('<td class="fc-event-container"/>').append(cy.el);if(cy.leftCol!=cy.rightCol){cw.attr("colspan",cy.rightCol-cy.leftCol+1)}else{cv[cA][cu]=cw}while(cu<=cy.rightCol){cD[cA][cu]=cw;cx[cA][cu]=cy;cu++}cE.append(cw)}}cH(cG);this.dayGrid.bookendCells(cE);cB.append(cE)}return{row:cI,tbodyEl:cB,cellMatrix:cD,segMatrix:cx,segLevels:cC,segs:cJ}},buildSegLevels:function(cu){var cx=[];var cw,ct;var cv;this.sortEventSegs(cu);for(cw=0;cw<cu.length;cw++){ct=cu[cw];for(cv=0;cv<cx.length;cv++){if(!P(ct,cx[cv])){break}}ct.level=cv;(cx[cv]||(cx[cv]=[])).push(ct)}for(cv=0;cv<cx.length;cv++){cx[cv].sort(bd)}return cx},groupSegRows:function(cu){var ct=[];var cv;for(cv=0;cv<this.dayGrid.rowCnt;cv++){ct.push([])}for(cv=0;cv<cu.length;cv++){ct[cu[cv].row].push(cu[cv])}return ct},computeEventTimeFormat:function(){return this.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.dayGrid.colCnt===1},fgSegHtml:function(cA,cu){var cF=this.view;var cz=cA.footprint.eventDef;var cC=cA.footprint.componentFootprint.isAllDay;var ct=cF.isEventDefDraggable(cz);var cy=!cu&&cC&&cA.isStart&&cF.isEventDefResizableFromStart(cz);var cx=!cu&&cC&&cA.isEnd&&cF.isEventDefResizableFromEnd(cz);var cw=this.getSegClasses(cA,ct,cy||cx);var cG=T(this.getSkinCss(cz));var cE="";var cv;var cB;cw.unshift("fc-day-grid-event","fc-h-event");if(cA.isStart){cv=this.getTimeText(cA.footprint);if(cv){cE='<span class="fc-time">'+be(cv)+"</span>"}}cB='<span class="fc-title">'+(be(cz.title||"")||"&nbsp;")+"</span>";var cD=cz.id?"cid='"+cz.id+"'":"";return"<a "+cD+' class="'+cw.join(" ")+'"'+(cz.url?' href="'+be(cz.url)+'"':"")+(cG?' style="'+cG+'"':"")+'><div class="fc-content">'+(this.isRTL?cB+" "+cE:cE+" "+cB)+"</div>"+(cy?'<div class="fc-resizer fc-start-resizer" />':"")+(cx?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"}});function P(ct,cw){var cu,cv;for(cu=0;cu<cw.length;cu++){cv=cw[cu];if(cv.leftCol<=ct.rightCol&&cv.rightCol>=ct.leftCol){return true}}return false}function bd(cu,ct){return cu.leftCol-ct.leftCol}var cb=ag.extend({renderSegs:function(cu,cv){var ct=[];var cw;cw=this.eventRenderer.renderSegRows(cu);this.component.rowEls.each(function(cC,cz){var cy=b9(cz);var cB=b9('<div class="fc-helper-skeleton"><table/></div>');var cA;var cx;if(cv&&cv.row===cC){cx=cv.el.position().top}else{cA=cy.find(".fc-content-skeleton tbody");if(!cA.length){cA=cy.find(".fc-content-skeleton table")}cx=cA.position().top}cB.css("top",cx).find("table").append(cw[cC].tbodyEl);cy.append(cB);ct.push(cB[0])});return b9(ct)}});var cd=D.DayGrid=a1.extend(E,bv,{eventRendererClass:bf,businessHourRendererClass:ce,helperRendererClass:cb,fillRendererClass:al,view:null,helperRenderer:null,cellWeekNumbersVisible:false,bottomCoordPadding:0,headContainerEl:null,rowEls:null,cellEls:null,rowCoordCache:null,colCoordCache:null,isRigid:false,hasAllDayBusinessHours:true,constructor:function(ct){this.view=ct;a1.call(this)},componentFootprintToSegs:function(cv){var cu=this.sliceRangeByRow(cv.unzonedRange);var cw,ct;for(cw=0;cw<cu.length;cw++){ct=cu[cw];if(this.isRTL){ct.leftCol=this.daysPerRow-1-ct.lastRowDayIndex;ct.rightCol=this.daysPerRow-1-ct.firstRowDayIndex}else{ct.leftCol=ct.firstRowDayIndex;ct.rightCol=ct.lastRowDayIndex}}return cu},renderDates:function(ct){this.dateProfile=ct;this.updateDayTable();this.renderGrid()},unrenderDates:function(){this.removeSegPopover()},renderGrid:function(){var ct=this.view;var cy=this.rowCnt;var cv=this.colCnt;var cw="";var cx;var cu;if(this.headContainerEl){this.headContainerEl.html(this.renderHeadHtml())}for(cx=0;cx<cy;cx++){cw+=this.renderDayRowHtml(cx,this.isRigid)}this.el.html(cw);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day, .fc-disabled-day");this.rowCoordCache=new aB({els:this.rowEls,isVertical:true});this.colCoordCache=new aB({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(cx=0;cx<cy;cx++){for(cu=0;cu<cv;cu++){this.publiclyTrigger("dayRender",{context:ct,args:[this.getCellDate(cx,cu),this.getCellEl(cx,cu),ct]})}}},renderDayRowHtml:function(cw,ct){var cv=this.view.calendar.theme;var cu=["fc-row","fc-week",cv.getClass("dayRow")];if(ct){cu.push("fc-rigid")}return'<div class="'+cu.join(" ")+'"><div class="fc-bg"><table class="'+cv.getClass("tableGrid")+'">'+this.renderBgTrHtml(cw)+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(cw)+"</thead>":"")+"</table></div></div>"},getIsNumbersVisible:function(){return this.getIsDayNumbersVisible()||this.cellWeekNumbersVisible},getIsDayNumbersVisible:function(){return this.rowCnt>1},renderNumberTrHtml:function(ct){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(ct))+this.renderNumberCellsHtml(ct)+(this.isRTL?this.renderNumberIntroHtml(ct):"")+"</tr>"},renderNumberIntroHtml:function(ct){return this.renderIntroHtml()},renderNumberCellsHtml:function(cw){var cv=[];var cu,ct;for(cu=0;cu<this.colCnt;cu++){ct=this.getCellDate(cw,cu);cv.push(this.renderNumberCellHtml(ct))}return cv.join("")},renderNumberCellHtml:function(cv){var cu=this.view;var cy="";var cz=this.dateProfile.activeUnzonedRange.containsDate(cv);var ct=this.getIsDayNumbersVisible()&&cz;var cx;var cw;if(!ct&&!this.cellWeekNumbersVisible){return"<td/>"}cx=this.getDayClasses(cv);cx.unshift("fc-day-top");if(this.cellWeekNumbersVisible){if(cv._locale._fullCalendar_weekCalc==="ISO"){cw=1}else{cw=cv._locale.firstDayOfWeek()}}cy+='<td class="'+cx.join(" ")+'"'+(cz?' data-date="'+cv.format()+'"':"")+">";if(this.cellWeekNumbersVisible&&(cv.day()==cw)){cy+=cu.buildGotoAnchorHtml({date:cv,type:"week"},{"class":"fc-week-number"},cv.format("w"))}if(ct){cy+=cu.buildGotoAnchorHtml(cv,{"class":"fc-day-number"},cv.date()+"日")}cy+="</td>";return cy},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(cv,cu){if(this.colCoordCache.isLeftInBounds(cv)&&this.rowCoordCache.isTopInBounds(cu)){var ct=this.colCoordCache.getHorizontalIndex(cv);var cw=this.rowCoordCache.getVerticalIndex(cu);if(cw!=null&&ct!=null){return this.getCellHit(cw,ct)}}},getHitFootprint:function(cu){var ct=this.getCellRange(cu.row,cu.col);return new u(new aC(ct.start,ct.end),true)},getHitEl:function(ct){return this.getCellEl(ct.row,ct.col)},getCellHit:function(cu,ct){return{row:cu,col:ct,component:this,left:this.colCoordCache.getLeftOffset(ct),right:this.colCoordCache.getRightOffset(ct),top:this.rowCoordCache.getTopOffset(cu),bottom:this.rowCoordCache.getBottomOffset(cu)}},getCellEl:function(cu,ct){return this.cellEls.eq(cu*this.colCnt+ct)},unrenderEvents:function(){this.removeSegPopover();a1.prototype.unrenderEvents.apply(this,arguments)},getOwnEventSegs:function(){return a1.prototype.getOwnEventSegs.apply(this,arguments).concat(this.popoverSegs||[])},renderDrag:function(cw,cu,ct){var cv;for(cv=0;cv<cw.length;cv++){this.renderHighlight(cw[cv].componentFootprint)}if(cw.length&&cu&&cu.component!==this){this.helperRenderer.renderEventDraggingFootprints(cw,cu,ct);return true}},unrenderDrag:function(ct){this.unrenderHighlight();this.helperRenderer.unrender()},renderEventResize:function(cw,cu,ct){var cv;for(cv=0;cv<cw.length;cv++){this.renderHighlight(cw[cv].componentFootprint)}this.helperRenderer.renderEventResizingFootprints(cw,cu,ct)},unrenderEventResize:function(ct){this.unrenderHighlight();this.helperRenderer.unrender()}});cd.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(cv){var ct=this.eventRenderer.rowStructs||[];var cw;var cu;for(cw=0;cw<ct.length;cw++){this.unlimitRow(cw);if(!cv){cu=false}else{if(typeof cv==="number"){cu=cv}else{cu=this.computeRowLevelLimit(cw)}}if(cu!==false){this.limitRow(cw,cu)}}},computeRowLevelLimit:function(cA){var cv=this.rowEls.eq(cA);var cz=cv.height();var cu=this.eventRenderer.rowStructs[cA].tbodyEl.children();var cw,cy;var ct;function cx(cC,cB){ct=Math.max(ct,b9(cB).outerHeight())}for(cw=0;cw<cu.length;cw++){cy=cu.eq(cw).removeClass("fc-limited");ct=0;cy.find("> td > :first-child").each(cx);if(cy.position().top+ct>cz){return cw}}return false},limitRow:function(cB,cF){var cH=this;var cv=this.eventRenderer.rowStructs[cB];var cA=[];var cz=0;var ct;var cy;var cM;var cK,cL;var cO;var cC;var cu;var cD,cN;var cx;var cI;var cw,cJ,cG;function cE(cP){while(cz<cP){cO=cH.getCellSegs(cB,cz,cF);if(cO.length){cD=cy[cF-1][cz];cG=cH.renderMoreLink(cB,cz,cO);cJ=b9("<div/>").append(cG);cD.append(cJ);cA.push(cJ[0])}cz++}}if(cF&&cF<cv.segLevels.length){ct=cv.segLevels[cF-1];cy=cv.cellMatrix;cM=cv.tbodyEl.children().slice(cF).addClass("fc-limited").get();for(cK=0;cK<ct.length;cK++){cL=ct[cK];cE(cL.leftCol);cu=[];cC=0;while(cz<=cL.rightCol){cO=this.getCellSegs(cB,cz,cF);cu.push(cO);cC+=cO.length;cz++}if(cC){cD=cy[cF-1][cL.leftCol];cN=cD.attr("rowspan")||1;cx=[];for(cI=0;cI<cu.length;cI++){cw=b9('<td class="fc-more-cell"/>').attr("rowspan",cN);cO=cu[cI];cG=this.renderMoreLink(cB,cL.leftCol+cI,[cL].concat(cO));cJ=b9("<div/>").append(cG);cw.append(cJ);cx.push(cw[0]);cA.push(cw[0])}cD.addClass("fc-limited").after(b9(cx));cM.push(cD[0])}}cE(this.colCnt);cv.moreEls=b9(cA);cv.limitedEls=b9(cM)}},unlimitRow:function(cu){var ct=this.eventRenderer.rowStructs[cu];if(ct.moreEls){ct.moreEls.remove();ct.moreEls=null}if(ct.limitedEls){ct.limitedEls.removeClass("fc-limited");ct.limitedEls=null}},renderMoreLink:function(cw,cv,cu){var cx=this;var ct=this.view;return b9('<a class="fc-more"/>').text(this.getMoreLinkText(cu.length)).on("click",function(cC){var cF=cx.opt("eventLimitClick");var cz=cx.getCellDate(cw,cv);var cD=b9(this);var cE=cx.getCellEl(cw,cv);var cy=cx.getCellSegs(cw,cv);var cA=cx.resliceDaySegs(cy,cz);var cB=cx.resliceDaySegs(cu,cz);if(typeof cF==="function"){cF=cx.publiclyTrigger("eventLimitClick",{context:ct,args:[{date:cz.clone(),dayEl:cE,moreEl:cD,segs:cA,hiddenSegs:cB},cC,ct]})}if(cF==="popover"){cx.showSegPopover(cw,cv,cD,cA)}else{if(typeof cF==="string"){ct.calendar.zoomTo(cz,cF)}}})},showSegPopover:function(cB,cv,cz,ct){var cw=this;var cy=this.view;var cu=cz.parent();var cx;var cA;if(this.rowCnt==1){cx=cy.el}else{cx=this.rowEls.eq(cB)}cA={className:"fc-more-popover "+cy.calendar.theme.getClass("popover"),content:this.renderSegPopoverContent(cB,cv,ct),parentEl:cy.el,top:cx.offset().top,autoHide:true,viewportConstrain:this.opt("popoverViewportConstrain"),hide:function(){if(cw.popoverSegs){cw.triggerBeforeEventSegsDestroyed(cw.popoverSegs)}cw.segPopover.removeElement();cw.segPopover=null;cw.popoverSegs=null}};if(this.isRTL){cA.right=cu.offset().left+cu.outerWidth()+1}else{cA.left=cu.offset().left-1}this.segPopover=new bx(cA);this.segPopover.show();this.bindAllSegHandlersToEl(this.segPopover.el);this.triggerAfterEventSegsRendered(ct)},renderSegPopoverContent:function(cB,cu,ct){var cy=this.view;var cw=cy.calendar.theme;var cz=this.getCellDate(cB,cu).format(this.opt("dayPopoverFormat"));var cx=b9('<div class="fc-header '+cw.getClass("popoverHeader")+'"><span class="fc-close '+cw.getIconClass("close")+'"></span><span class="fc-title">'+be(cz)+'</span><div class="fc-clear"/></div><div class="fc-body '+cw.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>');var cA=cx.find(".fc-event-container");var cv;ct=this.eventRenderer.renderFgSegEls(ct,true);this.popoverSegs=ct;for(cv=0;cv<ct.length;cv++){this.hitsNeeded();ct[cv].hit=this.getCellHit(cB,cu);this.hitsNotNeeded();cA.append(ct[cv].el)}return cx},resliceDaySegs:function(cv,ct){var cz=ct.clone();var cu=cz.clone().add(1,"days");var cB=new aC(cz,cu);var cA=[];var cx,cw;var cy;for(cx=0;cx<cv.length;cx++){cw=cv[cx];cy=cw.footprint.componentFootprint.unzonedRange.intersect(cB);if(cy){cA.push(b9.extend({},cw,{footprint:new bC(new u(cy,cw.footprint.componentFootprint.isAllDay),cw.footprint.eventDef,cw.footprint.eventInstance),isStart:cw.isStart&&cy.isStart,isEnd:cw.isEnd&&cy.isEnd}))}}this.eventRenderer.sortEventSegs(cA);return cA},getMoreLinkText:function(ct){var cu=this.opt("eventLimitText");if(typeof cu==="function"){return cu(ct)}else{return"+"+ct+" "+cu}},getCellSegs:function(cy,cv,cw){var cx=this.eventRenderer.rowStructs[cy].segMatrix;var cz=cw||0;var cu=[];var ct;while(cz<cx.length){ct=cx[cz][cv];if(ct){cu.push(ct)}cz++}return cu}});var b6=D.BasicView=bp.extend({scroller:null,dayGridClass:cd,dayGrid:null,weekNumberWidth:null,constructor:function(){bp.apply(this,arguments);this.dayGrid=this.instantiateDayGrid();this.dayGrid.isRigid=this.hasRigidRows();if(this.opt("weekNumbers")){if(this.opt("weekNumbersWithinDays")){this.dayGrid.cellWeekNumbersVisible=true;this.dayGrid.colWeekNumbersVisible=false}else{this.dayGrid.cellWeekNumbersVisible=false;this.dayGrid.colWeekNumbersVisible=true}}this.addChild(this.dayGrid);this.scroller=new bK({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var ct=this.dayGridClass.extend(bT);return new ct(this)},buildRenderRange:function(cx,cu,cv){var cw=bp.prototype.buildRenderRange.apply(this,arguments);var cy=this.calendar.msToUtcMoment(cw.startMs,cv);var ct=this.calendar.msToUtcMoment(cw.endMs,cv);if(/^(year|month)$/.test(cu)){cy.startOf("week");if(ct.weekday()){ct.add(1,"week").startOf("week")}}return new aC(cy,ct)},executeDateRender:function(ct){this.dayGrid.breakOnWeeks=/year|month|week/.test(ct.currentRangeUnit);bp.prototype.executeDateRender.apply(this,arguments)},renderSkeleton:function(){var cu;var ct;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.scroller.render();cu=this.scroller.el.addClass("fc-day-grid-container");ct=b9('<div class="fc-day-grid" />').appendTo(cu);this.el.find(".fc-body > tr > td").append(cu);this.dayGrid.headContainerEl=this.el.find(".fc-head-container");this.dayGrid.setElement(ct)},unrenderSkeleton:function(){this.dayGrid.removeElement();this.scroller.destroy()},renderSkeletonHtml:function(){var ct=this.calendar.theme;return'<table class="'+ct.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+ct.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+ct.getClass("widgetContent")+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var ct=this.opt("eventLimit");return ct&&typeof ct!=="number"},updateSize:function(cx,cu,ct){var cv=this.opt("eventLimit");var cz=this.dayGrid.headContainerEl.find(".fc-row");var cy;var cw;if(!this.dayGrid.rowEls){if(!cu){cy=this.computeScrollerHeight(cx);this.scroller.setHeight(cy)}return}bp.prototype.updateSize.apply(this,arguments);if(this.dayGrid.colWeekNumbersVisible){this.weekNumberWidth=af(this.el.find(".fc-week-number"))}this.scroller.clear();Q(cz);this.dayGrid.removeSegPopover();if(cv&&typeof cv==="number"){this.dayGrid.limitRows(cv)}cy=this.computeScrollerHeight(cx);this.setGridHeight(cy,cu);if(cv&&typeof cv!=="number"){this.dayGrid.limitRows(cv)}if(!cu){this.scroller.setHeight(cy);cw=this.scroller.getScrollbarWidths();if(cw.left||cw.right){aU(cz,cw);cy=this.computeScrollerHeight(cx);this.scroller.setHeight(cy)}this.scroller.lockOverflow(cw)}},computeScrollerHeight:function(ct){return ct-s(this.el,this.scroller.el)},setGridHeight:function(cu,ct){if(ct){l(this.dayGrid.rowEls)}else{ao(this.dayGrid.rowEls,cu,true)}},computeInitialDateScroll:function(){return{top:0}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(ct){if(ct.top!==undefined){this.scroller.setScrollTop(ct.top)}}});var bT={colWeekNumbersVisible:false,renderHeadIntroHtml:function(){var ct=this.view;if(this.colWeekNumbersVisible){return'<th class="fc-week-number '+ct.calendar.theme.getClass("widgetHeader")+'" '+ct.weekNumberStyleAttr()+"><span>"+be(this.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(cv){var cu=this.view;var ct=this.getCellDate(cv,0);if(this.colWeekNumbersVisible){return'<td class="fc-week-number" '+cu.weekNumberStyleAttr()+">"+cu.buildGotoAnchorHtml({date:ct,type:"week",forceOff:this.colCnt===1},ct.format("w"))+"</td>"}return""},renderBgIntroHtml:function(){var ct=this.view;if(this.colWeekNumbersVisible){return'<td class="fc-week-number '+ct.calendar.theme.getClass("widgetContent")+'" '+ct.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var ct=this.view;if(this.colWeekNumbersVisible){return'<td class="fc-week-number" '+ct.weekNumberStyleAttr()+"></td>"}return""},getIsNumbersVisible:function(){return cd.prototype.getIsNumbersVisible.apply(this,arguments)||this.colWeekNumbersVisible}};var S=D.MonthView=b6.extend({buildRenderRange:function(cx,cu,cv){var cw=b6.prototype.buildRenderRange.apply(this,arguments);var cz=this.calendar.msToUtcMoment(cw.startMs,cv);var ct=this.calendar.msToUtcMoment(cw.endMs,cv);var cy;if(this.isFixedWeeks()){cy=Math.ceil(ct.diff(cz,"weeks",true));ct.add(6-cy,"weeks")}return new aC(cz,ct)},setGridHeight:function(cu,ct){if(ct){cu*=this.rowCnt/6}ao(this.dayGrid.rowEls,cu,!ct)},isFixedWeeks:function(){return this.opt("fixedWeekCount")},isDateInOtherMonth:function(cu,ct){return cu.month()!==bH.utc(ct.currentUnzonedRange.startMs).month()}});an.basic={"class":b6};an.basicDay={type:"basic",duration:{days:1}};an.basicWeek={type:"basic",duration:{weeks:1}};an.month={"class":S,duration:{months:1},defaults:{fixedWeekCount:true}};var ab=bs.extend({attachSegEls:function(cv,ct){var cw=this.component;var cu;if(cv==="bgEvent"){cu=cw.bgContainerEls}else{if(cv==="businessHours"){cu=cw.businessContainerEls}else{if(cv==="highlight"){cu=cw.highlightContainerEls}}}cw.updateSegVerticals(ct);cw.attachSegsByCol(cw.groupSegsByCol(ct),cu);return ct.map(function(cx){return cx.el[0]})}});var bR=R.extend({timeGrid:null,constructor:function(ct){R.apply(this,arguments);this.timeGrid=ct},renderFgSegs:function(ct){this.renderFgSegsIntoContainers(ct,this.timeGrid.fgContainerEls)},renderFgSegsIntoContainers:function(ct,cv){var cw;var cu;cw=this.timeGrid.groupSegsByCol(ct);for(cu=0;cu<this.timeGrid.colCnt;cu++){this.updateFgSegCoords(cw[cu])}this.timeGrid.attachSegsByCol(cw,cv)},unrenderFgSegs:function(){if(this.fgSegs){this.fgSegs.forEach(function(ct){ct.el.remove()})}},computeEventTimeFormat:function(){return this.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},fgSegHtml:function(cC,cu){var cI=this.view;var cD=cI.calendar;var cx=cC.footprint.componentFootprint;var cG=cx.isAllDay;var cB=cC.footprint.eventDef;var ct=cI.isEventDefDraggable(cB);var cA=!cu&&cC.isStart&&cI.isEventDefResizableFromStart(cB);var cz=!cu&&cC.isEnd&&cI.isEventDefResizableFromEnd(cB);var cy=this.getSegClasses(cC,ct,cA||cz);var cJ=T(this.getSkinCss(cB));var cw;var cE;var cv;cy.unshift("fc-time-grid-event","fc-v-event");if(cI.isMultiDayRange(cx.unzonedRange)){if(cC.isStart||cC.isEnd){var cH=cD.msToMoment(cC.startMs);var cF=cD.msToMoment(cC.endMs);cw=this._getTimeText(cH,cF,cG);cE=this._getTimeText(cH,cF,cG,"LT");cv=this._getTimeText(cH,cF,cG,null,false)}}else{cw=this.getTimeText(cC.footprint);cE=this.getTimeText(cC.footprint,"LT");cv=this.getTimeText(cC.footprint,null,false)}return'<a class="'+cy.join(" ")+'"'+(cB.url?' href="'+be(cB.url)+'"':"")+(cJ?' style="'+cJ+'"':"")+'><div class="fc-content">'+(cw?'<div class="fc-time" data-start="'+be(cv)+'" data-full="'+be(cE)+'"><span>'+be(cw)+"</span></div>":"")+(cB.title?'<div class="fc-title">'+be(cB.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(cz?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateFgSegCoords:function(ct){this.timeGrid.computeSegVerticals(ct);this.computeFgSegHorizontals(ct);this.timeGrid.assignSegVerticals(ct);this.assignFgSegHorizontals(ct)},computeFgSegHorizontals:function(ct){var cv;var cw;var cu;this.sortEventSegs(ct);cv=Y(ct);b(cv);if((cw=cv[0])){for(cu=0;cu<cw.length;cu++){r(cw[cu])}for(cu=0;cu<cw.length;cu++){this.computeFgSegForwardBack(cw[cu],0,0)}}},computeFgSegForwardBack:function(cu,cw,cx){var ct=cu.forwardSegs;var cv;if(cu.forwardCoord===undefined){if(!ct.length){cu.forwardCoord=1}else{this.sortForwardSegs(ct);this.computeFgSegForwardBack(ct[0],cw+1,cx);cu.forwardCoord=ct[0].backwardCoord}cu.backwardCoord=cu.forwardCoord-(cu.forwardCoord-cx)/(cw+1);for(cv=0;cv<ct.length;cv++){this.computeFgSegForwardBack(ct[cv],0,cu.forwardCoord)}}},sortForwardSegs:function(ct){ct.sort(a8(this,"compareForwardSegs"))},compareForwardSegs:function(cu,ct){return ct.forwardPressure-cu.forwardPressure||(cu.backwardCoord||0)-(ct.backwardCoord||0)||this.compareEventSegs(cu,ct)},assignFgSegHorizontals:function(cu){var cv,ct;for(cv=0;cv<cu.length;cv++){ct=cu[cv];ct.el.css(this.generateFgSegHorizontalCss(ct));if(ct.bottom-ct.top<30){ct.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(ct){var cw=this.opt("slotEventOverlap");var cu=ct.backwardCoord;var cv=ct.forwardCoord;var cy=this.timeGrid.generateSegVerticalCss(ct);var cz;var cx;if(cw){cv=Math.min(1,cu+(cv-cu)*2)}if(this.timeGrid.isRTL){cz=1-cv;cx=cu}else{cz=cu;cx=1-cv}cy.zIndex=ct.level+1;cy.left=cz*100+"%";cy.right=cx*100+"%";if(cw&&ct.forwardPressure){cy[this.isRTL?"marginLeft":"marginRight"]=10*2}return cy}});function Y(cu){var cx=[];var cw,ct;var cv;for(cw=0;cw<cu.length;cw++){ct=cu[cw];for(cv=0;cv<cx.length;cv++){if(!b7(ct,cx[cv]).length){break}}ct.level=cv;(cx[cv]||(cx[cv]=[])).push(ct)}return cx}function b(cx){var cw,cy;var cv,ct;var cu;for(cw=0;cw<cx.length;cw++){cy=cx[cw];for(cv=0;cv<cy.length;cv++){ct=cy[cv];ct.forwardSegs=[];for(cu=cw+1;cu<cx.length;cu++){b7(ct,cx[cu],ct.forwardSegs)}}}}function r(cu){var ct=cu.forwardSegs;var cx=0;var cw,cv;if(cu.forwardPressure===undefined){for(cw=0;cw<ct.length;cw++){cv=ct[cw];r(cv);cx=Math.max(cx,1+cv.forwardPressure)}cu.forwardPressure=cx}}function b7(ct,cw,cv){cv=cv||[];for(var cu=0;cu<cw.length;cu++){if(bE(ct,cw[cu])){cv.push(cw[cu])}}return cv}function bE(cu,ct){return cu.bottom>ct.top&&cu.top<ct.bottom}var bB=ag.extend({renderSegs:function(cv,cx){var ct=[];var cy,cu;var cw;this.eventRenderer.renderFgSegsIntoContainers(cv,this.component.helperContainerEls);for(cy=0;cy<cv.length;cy++){cu=cv[cy];if(cx&&cx.col===cu.col){cw=cx.el;cu.el.css({left:cw.css("left"),right:cw.css("right"),"margin-left":cw.css("margin-left"),"margin-right":cw.css("margin-right")})}ct.push(cu.el[0])}return b9(ct)}});var i=D.TimeGrid=a1.extend(E,bv,{eventRendererClass:bR,businessHourRendererClass:ce,helperRendererClass:bB,fillRendererClass:ab,view:null,helperRenderer:null,dayRanges:null,slotDuration:null,snapDuration:null,snapsPerSlot:null,labelFormat:null,labelInterval:null,headContainerEl:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,bottomRuleEl:null,colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,helperSegs:null,highlightSegs:null,businessSegs:null,constructor:function(ct){this.view=ct;a1.call(this);this.processOptions()},componentFootprintToSegs:function(cu){var ct=this.sliceRangeByTimes(cu.unzonedRange);var cv;for(cv=0;cv<ct.length;cv++){if(this.isRTL){ct[cv].col=this.daysPerRow-1-ct[cv].dayIndex}else{ct[cv].col=ct[cv].dayIndex}}return ct},sliceRangeByTimes:function(cu){var ct=[];var cw;var cv;for(cv=0;cv<this.daysPerRow;cv++){cw=cu.intersect(this.dayRanges[cv]);if(cw){ct.push({startMs:cw.startMs,endMs:cw.endMs,isStart:cw.isStart,isEnd:cw.isEnd,dayIndex:cv})}}return ct},processOptions:function(){var cv=this.opt("slotDuration");var cu=this.opt("snapDuration");var ct;cv=bH.duration(cv);cu=cu?bH.duration(cu):cv;this.slotDuration=cv;this.snapDuration=cu;this.snapsPerSlot=cv/cu;ct=this.opt("slotLabelFormat");if(b9.isArray(ct)){ct=ct[ct.length-1]}this.labelFormat=ct||this.opt("smallTimeFormat");ct=this.opt("slotLabelInterval");this.labelInterval=ct?bH.duration(ct):this.computeLabelInterval(cv)},computeLabelInterval:function(cv){var cu;var ct;var cw;for(cu=bA.length-1;cu>=0;cu--){ct=bH.duration(bA[cu]);cw=L(ct,cv);if(cf(cw)&&cw>1){return ct}}return bH.duration(cv)},renderDates:function(ct){this.dateProfile=ct;this.updateDayTable();this.renderSlats();this.renderColumns()},renderSkeleton:function(){var ct=this.view.calendar.theme;this.el.html('<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+ct.getClass("widgetHeader")+'" style="display:none" />');this.bottomRuleEl=this.el.find("hr")},renderSlats:function(){var ct=this.view.calendar.theme;this.slatContainerEl=this.el.find("> .fc-slats").html('<table class="'+ct.getClass("tableGrid")+'">'+this.renderSlatRowHtml()+"</table>");this.slatEls=this.slatContainerEl.find("tr");this.slatCoordCache=new aB({els:this.slatEls,isVertical:true})},renderSlatRowHtml:function(){var cB=this.view;var cu=cB.calendar;var cv=cu.theme;var ct=this.isRTL;var cC=this.dateProfile;var cw="";var cy=bH.duration(+cC.minTime);var cz=bH.duration(0);var cx;var cD;var cA;while(cy<cC.maxTime){cx=cu.msToUtcMoment(cC.renderUnzonedRange.startMs).time(cy);cD=cf(L(cz,this.labelInterval));cA='<td class="fc-axis fc-time '+cv.getClass("widgetContent")+'" '+cB.axisStyleAttr()+">"+(cD?"<span>"+be(cx.format(this.labelFormat))+"</span>":"")+"</td>";cw+='<tr data-time="'+cx.format("HH:mm:ss")+'"'+(cD?"":' class="fc-minor"')+">"+(!ct?cA:"")+'<td class="'+cv.getClass("widgetContent")+'"/>'+(ct?cA:"")+"</tr>";cy.add(this.slotDuration);cz.add(this.slotDuration)}return cw},renderColumns:function(){var ct=this.dateProfile;var cu=this.view.calendar.theme;this.dayRanges=this.dayDates.map(function(cv){return new aC(cv.clone().add(ct.minTime),cv.clone().add(ct.maxTime))});if(this.headContainerEl){this.headContainerEl.html(this.renderHeadHtml())}this.el.find("> .fc-bg").html('<table class="'+cu.getClass("tableGrid")+'">'+this.renderBgTrHtml(0)+"</table>");this.colEls=this.el.find(".fc-day, .fc-disabled-day");this.colCoordCache=new aB({els:this.colEls,isHorizontal:true});this.renderContentSkeleton()},renderContentSkeleton:function(){var cv="";var ct;var cu;for(ct=0;ct<this.colCnt;ct++){cv+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}cu=b9('<div class="fc-content-skeleton"><table><tr>'+cv+"</tr></table></div>");this.colContainerEls=cu.find(".fc-content-col");this.helperContainerEls=cu.find(".fc-helper-container");this.fgContainerEls=cu.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=cu.find(".fc-bgevent-container");this.highlightContainerEls=cu.find(".fc-highlight-container");this.businessContainerEls=cu.find(".fc-business-container");this.bookendCells(cu.find("tr"));this.el.append(cu)},groupSegsByCol:function(ct){var cv=[];var cu;for(cu=0;cu<this.colCnt;cu++){cv.push([])}for(cu=0;cu<ct.length;cu++){cv[ct[cu].col].push(ct[cu])}return cv},attachSegsByCol:function(cx,cw){var cu;var ct;var cv;for(cu=0;cu<this.colCnt;cu++){ct=cx[cu];for(cv=0;cv<ct.length;cv++){cw.eq(cu).append(ct[cv].el)}}},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(cv){var ct=this.componentFootprintToSegs(new u(new aC(cv,cv.valueOf()+1),false));var cx=this.computeDateTop(cv,cv);var cu=[];var cw;for(cw=0;cw<ct.length;cw++){cu.push(b9('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",cx).appendTo(this.colContainerEls.eq(ct[cw].col))[0])}if(ct.length>0){cu.push(b9('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",cx).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=b9(cu)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},updateSize:function(cv,cu,ct){a1.prototype.updateSize.apply(this,arguments);this.slatCoordCache.build();if(ct){this.updateSegVerticals([].concat(this.eventRenderer.getSegs(),this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(ct,cu){return this.computeTimeTop(bH.duration(ct-cu.clone().stripTime()))},computeTimeTop:function(cy){var ct=this.slatEls.length;var cu=this.dateProfile;var cx=(cy-cu.minTime)/this.slotDuration;var cw;var cv;cx=Math.max(0,cx);cx=Math.min(ct,cx);cw=Math.floor(cx);cw=Math.min(cw,ct-1);cv=cx-cw;return this.slatCoordCache.getTopPosition(cw)+this.slatCoordCache.getHeight(cw)*cv},updateSegVerticals:function(ct){this.computeSegVerticals(ct);this.assignSegVerticals(ct)},computeSegVerticals:function(cv){var cw=this.opt("agendaEventMinHeight");var cx,cu;var ct;for(cx=0;cx<cv.length;cx++){cu=cv[cx];ct=this.dayDates[cu.dayIndex];cu.top=this.computeDateTop(cu.startMs,ct);cu.bottom=Math.max(cu.top+cw,this.computeDateTop(cu.endMs,ct))}},assignSegVerticals:function(cu){var cv,ct;for(cv=0;cv<cu.length;cv++){ct=cu[cv];ct.el.css(this.generateSegVerticalCss(ct))}},generateSegVerticalCss:function(ct){return{top:ct.top,bottom:-ct.bottom}},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(cu,cA){var cx=this.snapsPerSlot;var cD=this.colCoordCache;var ct=this.slatCoordCache;if(cD.isLeftInBounds(cu)&&ct.isTopInBounds(cA)){var cF=cD.getHorizontalIndex(cu);var cG=ct.getVerticalIndex(cA);if(cF!=null&&cG!=null){var cE=ct.getTopOffset(cG);var cB=ct.getHeight(cG);var cC=(cA-cE)/cB;var cv=Math.floor(cC*cx);var cz=cG*cx+cv;var cy=cE+(cv/cx)*cB;var cw=cE+((cv+1)/cx)*cB;return{col:cF,snap:cz,component:this,left:cD.getLeftOffset(cF),right:cD.getRightOffset(cF),top:cy,bottom:cw}}}},getHitFootprint:function(cu){var cw=this.getCellDate(0,cu.col);var cv=this.computeSnapTime(cu.snap);var ct;cw.time(cv);ct=cw.clone().add(this.snapDuration);return new u(new aC(cw,ct),false)},computeSnapTime:function(ct){return bH.duration(this.dateProfile.minTime+this.snapDuration*ct)},getHitEl:function(ct){return this.colEls.eq(ct.col)},renderDrag:function(cw,cu,ct){var cv;if(cu){if(cw.length){this.helperRenderer.renderEventDraggingFootprints(cw,cu,ct);return true}}else{for(cv=0;cv<cw.length;cv++){this.renderHighlight(cw[cv].componentFootprint)}}},unrenderDrag:function(ct){this.unrenderHighlight();this.helperRenderer.unrender()},renderEventResize:function(cv,cu,ct){this.helperRenderer.renderEventResizingFootprints(cv,cu,ct)},unrenderEventResize:function(ct){this.helperRenderer.unrender()},renderSelectionFootprint:function(ct){if(this.opt("selectHelper")){this.helperRenderer.renderComponentFootprint(ct)}else{this.renderHighlight(ct)}},unrenderSelection:function(){this.helperRenderer.unrender();this.unrenderHighlight()}});var cp=D.AgendaView=bp.extend({scroller:null,timeGridClass:i,timeGrid:null,dayGridClass:cd,dayGrid:null,axisWidth:null,usesMinMaxTime:true,constructor:function(){bp.apply(this,arguments);this.timeGrid=this.instantiateTimeGrid();this.addChild(this.timeGrid);if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid();this.addChild(this.dayGrid)}this.scroller=new bK({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var ct=this.timeGridClass.extend(b1);return new ct(this)},instantiateDayGrid:function(){var ct=this.dayGridClass.extend(b4);return new ct(this)},renderSkeleton:function(){var ct;var cu;this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.scroller.render();ct=this.scroller.el.addClass("fc-time-grid-container");cu=b9('<div class="fc-time-grid" />').appendTo(ct);this.el.find(".fc-body > tr > td").append(ct);this.timeGrid.headContainerEl=this.el.find(".fc-head-container");this.timeGrid.setElement(cu);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}},unrenderSkeleton:function(){this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){var ct=this.calendar.theme;return'<table class="'+ct.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+ct.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+ct.getClass("widgetContent")+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+ct.getClass("widgetHeader")+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},updateSize:function(cx,cu,ct){var cv;var cz;var cw;bp.prototype.updateSize.apply(this,arguments);this.axisWidth=af(this.el.find(".fc-axis"));if(!this.timeGrid.colEls){if(!cu){cz=this.computeScrollerHeight(cx);this.scroller.setHeight(cz)}return}var cy=this.el.find(".fc-row:not(.fc-scroller *)");this.timeGrid.bottomRuleEl.hide();this.scroller.clear();Q(cy);if(this.dayGrid){this.dayGrid.removeSegPopover();cv=this.opt("eventLimit");if(cv&&typeof cv!=="number"){cv=bF}if(cv){this.dayGrid.limitRows(cv)}}if(!cu){cz=this.computeScrollerHeight(cx);this.scroller.setHeight(cz);cw=this.scroller.getScrollbarWidths();if(cw.left||cw.right){aU(cy,cw);cz=this.computeScrollerHeight(cx);this.scroller.setHeight(cz)}this.scroller.lockOverflow(cw);if(this.timeGrid.getTotalSlatHeight()<cz){this.timeGrid.bottomRuleEl.show()}}},computeScrollerHeight:function(ct){return ct-s(this.el,this.scroller.el)},computeInitialDateScroll:function(){var cu=bH.duration(this.opt("scrollTime"));var ct=this.timeGrid.computeTimeTop(cu);ct=Math.ceil(ct);if(ct){ct++}return{top:ct}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(ct){if(ct.top!==undefined){this.scroller.setScrollTop(ct.top)}},getHitFootprint:function(ct){return ct.component.getHitFootprint(ct)},getHitEl:function(ct){return ct.component.getHitEl(ct)},executeEventRender:function(ct){var cv={};var cu={};var cx,cw;for(cx in ct){cw=ct[cx];if(cw.getEventDef().isAllDay()){cv[cx]=cw}else{cu[cx]=cw}}this.timeGrid.executeEventRender(cu);if(this.dayGrid){this.dayGrid.executeEventRender(cv)}},renderDrag:function(cx,cv,cu){var ct=N(cx);var cw=false;cw=this.timeGrid.renderDrag(ct.timed,cv,cu);if(this.dayGrid){cw=this.dayGrid.renderDrag(ct.allDay,cv,cu)||cw}return cw},renderEventResize:function(cw,cv,cu){var ct=N(cw);this.timeGrid.renderEventResize(ct.timed,cv,cu);if(this.dayGrid){this.dayGrid.renderEventResize(ct.allDay,cv,cu)}},renderSelectionFootprint:function(ct){if(!ct.isAllDay){this.timeGrid.renderSelectionFootprint(ct)}else{if(this.dayGrid){this.dayGrid.renderSelectionFootprint(ct)}}}});var b1={renderHeadIntroHtml:function(){var cu=this.view;var cw=cu.calendar;var ct=cw.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,true);var cv;if(this.opt("weekNumbers")){cv=ct.format(this.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+cw.theme.getClass("widgetHeader")+'" '+cu.axisStyleAttr()+">"+cu.buildGotoAnchorHtml({date:ct,type:"week",forceOff:this.colCnt>1},be(cv))+"</th>"}else{return'<th class="fc-axis '+cw.theme.getClass("widgetHeader")+'" '+cu.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var ct=this.view;return'<td class="fc-axis '+ct.calendar.theme.getClass("widgetContent")+'" '+ct.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var ct=this.view;return'<td class="fc-axis" '+ct.axisStyleAttr()+"></td>"}};var b4={renderBgIntroHtml:function(){var ct=this.view;return'<td class="fc-axis '+ct.calendar.theme.getClass("widgetContent")+'" '+ct.axisStyleAttr()+"><span>"+ct.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var ct=this.view;return'<td class="fc-axis" '+ct.axisStyleAttr()+"></td>"}};function N(cv){var cw=[];var ct=[];var cu;for(cu=0;cu<cv.length;cu++){if(cv[cu].componentFootprint.isAllDay){cw.push(cv[cu])}else{ct.push(cv[cu])}}return{allDay:cw,timed:ct}}var bF=5;var bA=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];an.agenda={"class":cp,defaults:{allDaySlot:true,slotDuration:"00:30:00",slotEventOverlap:true}};an.agendaDay={type:"agenda",duration:{days:1}};an.agendaWeek={type:"agenda",duration:{weeks:1}};var y=D.ListView=bp.extend({segSelector:".fc-list-item",scroller:null,contentEl:null,dayDates:null,dayRanges:null,constructor:function(){bp.apply(this,arguments);this.scroller=new bK({overflowX:"hidden",overflowY:"auto"})},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.calendar.theme.getClass("listView"));this.scroller.render();this.scroller.el.appendTo(this.el);this.contentEl=this.scroller.scrollEl},unrenderSkeleton:function(){this.scroller.destroy()},updateSize:function(cv,cu,ct){this.scroller.setHeight(this.computeScrollerHeight(cv))},computeScrollerHeight:function(ct){return ct-s(this.el,this.scroller.el)},renderDates:function(cu){var cx=this.calendar;var ct=cx.msToUtcMoment(cu.renderUnzonedRange.startMs,true);var cv=cx.msToUtcMoment(cu.renderUnzonedRange.endMs,true);var cy=[];var cw=[];while(ct<cv){cy.push(ct.clone());cw.push(new aC(ct,ct.clone().add(1,"day")));ct.add(1,"day")}this.dayDates=cy;this.dayRanges=cw},componentFootprintToSegs:function(cv){var cx=this.dayRanges;var cw;var cy;var cu;var ct=[];for(cw=0;cw<cx.length;cw++){cy=cv.unzonedRange.intersect(cx[cw]);if(cy){cu={startMs:cy.startMs,endMs:cy.endMs,isStart:cy.isStart,isEnd:cy.isEnd,dayIndex:cw};ct.push(cu);if(!cu.isEnd&&!cv.isAllDay&&cw+1<cx.length&&cv.unzonedRange.endMs<cx[cw+1].startMs+this.nextDayThreshold){cu.endMs=cv.unzonedRange.endMs;cu.isEnd=true;break}}}return ct},eventRendererClass:R.extend({renderFgSegs:function(ct){if(!ct.length){this.component.renderEmptyMessage()}else{this.component.renderSegList(ct)}},fgSegHtml:function(cx){var cC=this.view;var cy=cC.calendar;var cz=cy.theme;var cA=cx.footprint;var cw=cA.eventDef;var cu=cA.componentFootprint;var ct=cw.url;var cv=["fc-list-item"].concat(this.getClasses(cw));var cD=this.getBgColor(cw);var cB;if(cu.isAllDay){cB=cC.getAllDayHtml()}else{if(cC.isMultiDayRange(cu.unzonedRange)){if(cx.isStart||cx.isEnd){cB=be(this._getTimeText(cy.msToMoment(cx.startMs),cy.msToMoment(cx.endMs),cu.isAllDay))}else{cB=cC.getAllDayHtml()}}else{cB=be(this.getTimeText(cA))}}if(ct){cv.push("fc-has-url")}return'<tr class="'+cv.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+cz.getClass("widgetContent")+'">'+(cB||"")+"</td>":"")+'<td class="fc-list-item-marker '+cz.getClass("widgetContent")+'"><span class="fc-event-dot"'+(cD?' style="background-color:'+cD+'"':"")+'></span></td><td class="fc-list-item-title '+cz.getClass("widgetContent")+'"><a'+(ct?' href="'+be(ct)+'"':"")+">"+be(cw.title||"")+"</a></td></tr>"},computeEventTimeFormat:function(){return this.opt("mediumTimeFormat")}}),eventPointingClass:aK.extend({handleClick:function(ct,cv){var cu;aK.prototype.handleClick.apply(this,arguments);if(!b9(cv.target).closest("a[href]").length){cu=ct.footprint.eventDef.url;if(cu&&!cv.isDefaultPrevented()){window.location.href=cu}}}}),renderEmptyMessage:function(){this.contentEl.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+be(this.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(cu){var cy=this.groupSegsByDay(cu);var cx;var cz;var cw;var cv=b9('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody/></table>');var ct=cv.find("tbody");for(cx=0;cx<cy.length;cx++){cz=cy[cx];if(cz){ct.append(this.dayHeaderHtml(this.dayDates[cx]));this.eventRenderer.sortEventSegs(cz);for(cw=0;cw<cz.length;cw++){ct.append(cz[cw].el)}}}this.contentEl.empty().append(cv)},groupSegsByDay:function(cu){var cw=[];var cv,ct;for(cv=0;cv<cu.length;cv++){ct=cu[cv];(cw[ct.dayIndex]||(cw[ct.dayIndex]=[])).push(ct)}return cw},dayHeaderHtml:function(ct){var cu=this.opt("listDayFormat");var cv=this.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+ct.format("YYYY-MM-DD")+'"><td class="'+this.calendar.theme.getClass("widgetHeader")+'" colspan="3">'+(cu?this.buildGotoAnchorHtml(ct,{"class":"fc-list-heading-main"},be(ct.format(cu))):"")+(cv?this.buildGotoAnchorHtml(ct,{"class":"fc-list-heading-alt"},be(ct.format(cv))):"")+"</td></tr>"}});an.list={"class":y,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}};an.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}};an.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}};an.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}};an.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}};return D});